"use strict";(window.webpackChunk=window.webpackChunk||[]).push([[60794],{126608:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var r=n(987081);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},i(e,t,n||e)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,s=u(l);function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(r=s.call(this,t))._queuedValues=[],r}return t=l,(n=[{key:"next",value:function(e){this.closed||this.observers.length?i(a(l.prototype),"next",this).call(this,e):this._queuedValues.push(e)}},{key:"_subscribe",value:function(e){var t=this,n=r.Subject.prototype._subscribe.call(this,e);return this._queuedValues.length&&(this._queuedValues.forEach((function(e){i(a(l.prototype),"next",t).call(t,e)})),this._queuedValues.splice(0)),n}}])&&o(t.prototype,n),l}(r.Subject);s.constructor=s;const l=s;var d="../build/transpiled/common/rx/queueing_subject";window.define(d,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([d])},535571:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(629133),o=n.n(r),i=n(987081),a=n(49091);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){return new WebSocket(e,t)};function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u,s=new i.BehaviorSubject({state:0,code:a.CONNECTION_CODES.DEFAULT}),l=new i.Observable((function(i){var u=r(e,n),l=null,d=!1,f=0,p=function(e){var t,n;f++,s.next((t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({},e),n=null!=(n={id:f})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,n=e.reason;p({state:0,code:t,reason:void 0===n?"":n}),d&&(d=!1)};u.onopen=function(){d=!0,p({state:1,code:a.CONNECTION_CODES.DEFAULT}),t&&(l=t.subscribe((function(e){u.send(e)})))},u.onmessage=function(e){i.next(e.data)},u.onerror=function(e){i.error(e),h({code:a.CONNECTION_CODES.DEFAULT})},u.onclose=function(e){h({code:e.code,reason:e.reason}),e.wasClean?i.complete():i.error(new Error(e.reason))};var _=function(){o().contains([u.CLOSED,u.CLOSING],u.readyState)||(h({code:a.CONNECTION_CODES.OFFLINE}),u.close())};return window.addEventListener("offline",_),function(){l&&l.unsubscribe(),window.removeEventListener("offline",_),u&&u.close()}}));return{messages:l,connectionStatus:s}}var l="../build/transpiled/common/rx/websockets";window.define(l,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([l])},695453:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=n(345839),o=n.n(r),i=n(641228);const a=new(o().Collection)([],{model:i.Model})},641228:(e,t,n)=>{n.r(t),n.d(t,{Collection:()=>m,Model:()=>v});var r=n(629133),o=n.n(r),i=n(345839),a=n.n(i),c=n(955026),u=n(214558),s=n(998798),l=n(500034),d=n(661533),f=(0,u.get)("all"),p=!o().isUndefined(window.safari);function h(e){return f&&f[e]&&f[e].amo_profile_id||""}var _=o().once((function(){var e=(0,c.isDev)()?"https://web.dev.amo.tm":"https://web.amo.tm",t=o().propertyOf(APP.constant("account"));if(!t(["amo_messenger","direct_migrated"]))return o().constant("");var n,r=t(["amo_messenger","amo_id"]),i=t(["id"]),a=(0,u.current)("id"),s=h(a),l=(n=a,f&&f[n]&&f[n].title||""),d=[s,r,i,encodeURIComponent(l)];if(d.length!==o().compact(d).length)return o().constant("");var p=btoa(d.join("_"));return o().bind((function(t){var n=o().propertyOf(t),r=n(["id"]),i="",a="";switch(n(["click","type"])){case"chat_direct":i="direct",a=h(r);break;case"chat_group":i="channel",a=r;break;default:return""}return a?[e,"/",i,"/",a,p?"?".concat("p","=").concat(p):""].join(""):""}),this)})),y=a().Model.extend({view:null,allowed_tags:["a"],constructor:function(e){var t,n,r,i=["lead","customer","contact","company","tasks"],c=this;if(e.notification_id||(e.notification_id=e.id),e.body){if(o().each(e.body.actions,(function(t,n){o().each(t,(function(t,r,a){if("click"===n){if(Object.keys(a).length>1&&-1===o().indexOf(i,r))return;e[n]={type:r,value:t},o().extend(e,this.parseAttributes(e.body.actions[n],n))}else o().isUndefined(e.buttons)&&(e.buttons=[]),e.buttons[r]||e.buttons.push(o().extend(t,this.parseAttributes(e.body.actions[n][r])))}),this)}),this),e.body.icon)switch(!0){case!o().isUndefined(e.body.icon.profile):n=(0,u.get)("all")[e.body.icon.profile],e.body.icon.user_id=n?n.id:"",e.body.icon.avatar_id=n?n.id:"",e.body.icon.value=n?n.avatar:"";break;case!o().isUndefined(e.body.icon.bot):n=APP.constant("amojo_bots")[e.body.icon.bot],e.body.icon.value=n?n.avatar:"/frontend/images/interface/inbox/mesage_bot_avatar.png";break;case!o().isUndefined(e.body.icon.robot):t="error"===e.body.icon.robot?"error_":"",e.body.icon.value="/frontend/images/interface/inbox/".concat(t,"mesage_bot_avatar.png");break;case!o().isUndefined(e.body.icon.url):e.body.icon.value=e.body.icon.url;break;case!o().isUndefined(e.body.icon.call):e.body.icon.value="/frontend/images/interface/inbox/notifications_call.svg";break;case!o().isUndefined(e.body.icon.auto):e.body.icon.avatar_id=parseInt(e.id,16)}e.body.rows&&(r=e.body.rows,this.getStyleMessage(r),e.body.__old_type&&r.length&&o().each(r,(function(e){e.text=o().map(d.parseHTML(e.text),(function(e){return!e.tagName||o().contains(c.allowed_tags,e.tagName.toLowerCase())?e.outerHTML||e.textContent:""})).join("")}))),!e.id&&e.external_id&&(e.id=e.external_id),this.getIconSub(e.body),this._getShowMoreButton(e.body)}e.amo_link=_()(e),e.is_native_link=Boolean(e.amo_link&&p),a().Model.apply(this,arguments)},_getShowMoreButton:function(e){var t=e.rows,n="",r={h3:57};o().each(t,(function(i,a){if(n+=i.text,a===t.length-1&&r[i.class_height]){var c=d('<div style="width: 239px; opacity:0; position:absolute">'.concat(o().escape(n),"</div>")).get(0);if(c){document.body.appendChild(c);var u=c.offsetHeight;e.showMoreButton=u>r.h3,c.parentNode===document.body&&document.body.removeChild(c)}}}))},parseAttributes:function(e,t){var n,r={};if((0,l.isFeatureAvailable)("global_inbox")&&(0,s.isChatsInboxEnabled)()&&!e.task)switch(!0){case Boolean(e.lead)&&Boolean(e.talk_id):r.web_link="/chats/".concat(e.talk_id,"/leads/detail/").concat(e.lead);break;case Boolean(e.lead):r.web_link=(0,s.getChatsMentionsResourceUrl)("leads",e.lead);break;case Boolean(e.contact)&&Boolean(e.talk_id):r.web_link="/chats/".concat(e.talk_id,"/contacts/detail/").concat(e.contact);break;case Boolean(e.customer)&&Boolean(e.talk_id):r.web_link="/chats/".concat(e.talk_id,"/customers/detail/").concat(e.customer);break;case Boolean(e.customer):r.web_link=(0,s.getChatsMentionsResourceUrl)("customers",e.customer);break;case Boolean(e.chat_direct):n=(0,u.get)("all")[e.chat_direct],(r=t?{click:{type:"chat_direct"}}:{type:"chat_direct"}).login=n?n.login:"",r.id=r.user_id=e.chat_direct.toString(),r.web_link=(0,s.getChatsMentionsResourceUrl)(e.chat_direct);break;case Boolean(e.chat_group):(r=t?{click:{type:"chat_group"}}:{type:"chat_group"}).id=e.chat_group,r.web_link=(0,s.getChatsMentionsResourceUrl)(e.chat_group);break;case Boolean(e.url):r.web_link=e.url,r.absolute_link=(0,c.isValidUrl)(e.url);break;case Boolean(e.chat_bot):(r=t?{click:{type:"chat_direct"}}:{type:"chat_direct"}).id=r.user_id=e.chat_bot.toString(),r.is_bot=!0;break;case Boolean(e.event):var i=e.event;"amo:js:action"===i.name&&(r.custom_action_hash=o().first(o().values(i.data)))}else switch(!0){case!o().isUndefined(e.event):r=t?{click:{type:"event"}}:{type:"event"};break;case!o().isUndefined(e.company):r.web_link="/companies/detail/".concat(e.company);break;case!o().isUndefined(e.customer):r.web_link="/customers/detail/".concat(e.customer);break;case!o().isUndefined(e.contact):r.web_link="/contacts/detail/".concat(e.contact);break;case!o().isUndefined(e.lead):r.web_link="/leads/detail/".concat(e.lead);break;case!o().isUndefined(e.unsorted):r.web_link="/unsorted/detail/".concat(e.unsorted);break;case!o().isUndefined(e.task):case!o().isUndefined(e.tasks):r.web_link="/todo/line/";break;case!o().isUndefined(e.url):r.web_link=e.url,r.absolute_link=(0,c.isValidUrl)(e.url);break;case!o().isUndefined(e.chat_bot):(r=t?{click:{type:"chat_direct"}}:{type:"chat_direct"}).id=r.user_id=e.chat_bot.toString(),r.is_bot=!0;break;case!o().isUndefined(e.chat_direct):n=(0,u.get)("all")[e.chat_direct],(r=t?{click:{type:"chat_direct"}}:{type:"chat_direct"}).login=n?n.login:"",r.id=r.user_id=e.chat_direct.toString();break;case!o().isUndefined(e.chat_group):(r=t?{click:{type:"chat_group"}}:{type:"chat_group"}).id=e.chat_group}return r},getIconSub:function(e){var t=!!e.icon&&e.icon.sub;t&&APP.constant("amojo_origins")[t]&&(e.icon_origin=APP.constant("amojo_origins")[t].icon||!1)},getStyleMessage:function(e){o().chain(e).sortBy((function(e){return e.text.length})).reverse().each((function(t,n){switch(e.length){case 1:t.class_height="h3";break;case 2:t.class_height=0===n?"h2":"h1";break;case 3:e[n].class_height=2===n?"h2":"h1"}}))}}),b=a().Collection.extend({model:y,initialize:function(){this.listenTo(this,"change:selected",this.onChangeSelected),a().Collection.prototype.initialize.apply(this,arguments)},preselect:function(e){var t,n=this.findWhere({preselected:!0});switch(n?n.set("preselected",!1):n=this.findWhere({selected:!0}),t=this.indexOf(n)+e,!0){case-1===t:case-2===t:t=0;break;case t===this.length:t=this.length-1}this.at(t).set("preselected",!0)},select:function(){var e=this.findWhere({preselected:!0});e&&e.set({preselected:!1,selected:!0})},setOrder:function(e){this.order_by=e},sort:function(e){var t,n=this.findWhere({selected:!0}),r=this.indexOf(n);return e=e={},this.models=this.sortBy(this.comparator,this),n&&(t=o().indexOf(this.models,n))!==r&&(this.models.splice(t,1),this.models.splice(r,0,n)),e.silent||this.trigger("sort",this,e),this},comparator:function(e){var t=1,n=e.get("click")?e.get("click").type:"";if(this.order_by){var r=this.order_by.unread_first;switch(!0){case!o().isUndefined(r):t="true"===r&&e.get("is_read")?1:2;break;case!o().isUndefined(this.order_by.starred_first):t=e.get("label")?2:1}}return o().contains(["payment_expired","payment_overflow","payment_pay"],n)&&(t=3),-e.get("updated_at")*t},onChangeSelected:function(e){if(e.get("selected")){var t=o().find(this.without(e),(function(e){return e.get("selected")})),n=this.findWhere({preselected:!0});t&&t.set("selected",!1),n&&n.set("preselected",!1),this.sort()}}}),m=b,v=y,g="../build/transpiled/components/base/inbox/notification_collection";window.define(g,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([g])},12615:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(661533),o=n.n(r),i=n(629133),a=n.n(i),c=n(910),u=n(168807),s=n(11024),l=APP.constant("version"),d=APP.constant("version_backend"),f=a().propertyOf(window)(["performance","timing","responseEnd"])||0,p=null;function h(e,t){var n=Date.now()-f,r=o().Deferred();return n<(t=a().isNumber(t)?t:6e4)?e().then(r.resolve,r.reject):(f=Date.now(),p||(p=o().ajax({url:"/private/ping.php"}).always((function(){p=null}))),p.done((function(){e().then(r.resolve,r.reject)})).fail(r.reject)),r.promise()}"production"===APP.environment&&o()(document).ajaxComplete((function(e,t,n){var r=APP.constant("server"),i=t.getResponseHeader("X-Core-Version"),f=t.getResponseHeader("X-Core-Server"),p=t.getResponseHeader("X-Core-Version-Backend"),h=t.getResponseHeader("X-Generation-Time"),_=t.getResponseHeader("X-Generation-Time-System"),y=t.getResponseHeader("X-Core-Session-Token"),b=t.getResponseHeader("X-Core-Widgets-Cache-Version"),m={},v=0,g=t===APP.page_xhr,w=(0,c.getCallingStatus)(),E=a().isNull(i)||l===i,T=a().isNull(p)||d===p;f&&f!==r&&APP.constant("server",f),y&&y!==APP.constant("session_token")&&APP.constant("session_token",y),(h||_)&&(v=h||_,o()(document).find(".generation-time").append("<br>".concat(v," - ").concat(n.url))),E&&T||w||(T&&g||!T)&&(window.location.href=document.URL),a().isEmpty(b)||(m[APP.getWidgetsArea()]=b,a().extend(APP.constant("widgets_cache_version"),m),u.storeWithExpiration.remove(s.default.getCacheCode()))}));const _={check:function(){var e=o().Deferred();return e.resolve(),h(e.promise,0)},checkAuth:h};var y="../build/transpiled/core/updater";window.define(y,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([y])},471435:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var r=APP.constant("user");function o(e,t,n,r){this.expiredAt=n||0,this.refreshToken=t,this.token=e,this.user=r}o.fromJSON=function(e){var t;try{t=JSON.parse(e)}catch(e){t={}}return new o(t.token,t.refreshToken,t.expiredAt,t.user)},o.prototype={expiredAt:0,token:"",refreshToken:"",user:0,expired:function(){return 1e3*this.expiredAt<(new Date).getTime()},expiresInDays:function(){return(1e3*this.expiredAt-(new Date).getTime())/864e5},getReasonInvalid:function(){return{isExpired:this.expired(),availableAccess:this.token.length>0,availableRefresh:this.refreshToken.length>0,user:this.user,isValidUser:this.user.toString()===r.id.toString()}},valid:function(){return this.expiredAt>0&&!this.expired()&&this.token.length>0&&this.refreshToken.length>0&&this.user.toString()===r.id.toString()},toString:function(){return JSON.stringify(this)}};const i=o;var a="../build/transpiled/interface/amojo/access_token";window.define(a,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([a])},474564:(e,t,n)=>{n.r(t),n.d(t,{CHAT_DIRECT:()=>k,CHAT_EXTERNAL:()=>E,CHAT_EXTERNAL_INT:()=>S,CHAT_GROUP:()=>P,CHAT_GROUP_TYPE:()=>C,CHAT_INTERNAL:()=>w,CHAT_INTERNAL_INT:()=>O,CHAT_WRITE_FIRST:()=>T,addUsersToChat:()=>Z,connectBot:()=>Y,createChat:()=>$,deleteFile:()=>I,disableChannel:()=>le,downloadFile:()=>F,fetchMessages:()=>H,fetchMessagesById:()=>X,getChat:()=>ne,getChatsStat:()=>K,getFile:()=>U,getGroupChats:()=>re,getLinks:()=>V,getSalesbots:()=>ue,getTemplates:()=>ae,initChannel:()=>se,readChat:()=>q,removeUsersFromChat:()=>Q,rtmStart:()=>ee,sendFile:()=>L,sendMessage:()=>G,sendMessagev1:()=>J,sendReaction:()=>z,sendTyping:()=>W,transcribeMessage:()=>te,updateAutoClose:()=>N,updateGroupChat:()=>oe,uploadFile:()=>R,uploadMessageFile:()=>B,withToken:()=>D});var r=n(661533),o=n.n(r),i=n(629133),a=n.n(i),c=n(987081),u=n(128508),s=n(623967),l=n.n(s),d=n(214558),f=n(445368),p=n(132788),h=n(364724);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var m=APP.constant("account")||{},v=m.amojo_server,g=m.amojo_ws_server,w="internal",E="external",T="write_first",O=2,S=1,k="direct",P="group",C=4,j=15e3,x={sendMessage:function(e){return"".concat(v,"/chats/").concat(m.amojo_id,"/").concat(e,"/messages?stand=").concat(m.stand)},sendMessagev1:function(e){return"".concat(v,"/v1/chats/").concat(m.amojo_id,"/").concat(e,"/messages?with_video=true&stand=").concat(m.stand)},sendPhoto:function(e){return"".concat(v,"/v2/").concat(e,"/sendPhoto?stand=").concat(m.stand)},sendVideo:function(e){return"".concat(v,"/v2/").concat(e,"/sendVideo?stand=").concat(m.stand)},sendDocument:function(e){return"".concat(v,"/v2/").concat(e,"/sendDocument?stand=").concat(m.stand)},sendMessageWithFiles:function(e){return"".concat(v,"/v2/").concat(e,"/sendMessage?stand=").concat(m.stand)},sendReaction:function(e){return"".concat(v,"/v2/messages/").concat(e,"/react")},sendTyping:function(){return"".concat(v,"/v2/typing?stand=").concat(m.stand)},fetchMessages:function(e){return"".concat(v,"/chats/").concat(m.amojo_id,"/").concat(e,"/messages?stand=").concat(m.stand)},fetchMessagesMultiple:function(){return"".concat(v,"/messages/").concat(m.amojo_id,"/merge?stand=").concat(m.stand)},fetchMessagesById:function(){return"".concat(v,"/v2/messages")},uploadFile:function(){return"".concat(v,"/v2/attachment/?with_video=true&stand=").concat(m.stand)},getFile:function(e){return"".concat(v,"/v2/attachment/").concat(e,"?stand=").concat(m.stand)},deleteFile:function(){return"".concat(v,"/v2/attachment/?stand=").concat(m.stand)},createChat:function(){return"/ajax/v1/chats/create"},readChat:function(){return"".concat(v,"/v2/read?stand=").concat(m.stand)},connectBot:function(){return"/ajax/v1/chats/bots/connect"},manageUsersInChat:function(){return"/ajax/v1/chats/users"},rtmStart:function(){return"".concat(g,"/rtm.start/").concat(m.amojo_id,"?stand=").concat(m.stand)},getChat:function(e){return"/ajax/v1/chats/list?fields=users&short=y&filter[chat_id]=".concat(e)},getGroupChats:function(e,t){return"/ajax/v1/chats/group_list?fields=".concat((t||[]).join(","))},getChatsStat:function(){return"".concat(v,"/v2/stat/chats?stand=").concat(m.stand)},updateChat:function(){return"/ajax/v1/chats/update/"},initChannel:function(){return"/ajax/v1/chats/bots/channel_init"},disableChannel:function(){return"/ajax/v1/chats/bots/channel_disable"},getTemplates:function(){return"/ajax/v4/chats/templates?with=favorite"},getSalesbots:function(){return"/api/v4/bots?with=favorite"},updateAutoClose:function(e){return"/ajax/v2/talks/".concat(e)},transcribeMessage:function(e){return"".concat(v,"/v2/messages/").concat(e,"/transcribe?stand=").concat(m.stand,"&lang=").concat(APP.lang_id)},downloadFile:function(e){return"".concat(v,"/v2/files/").concat(e,"/load")}};function A(){var e=(0,d.current)().id,t=(0,d.get)(e),n=window.location.origin.replace(/\w+(?=\.)/,"images")+(t.avatar||(0,f.getDefaultAvatar)(e));return{persona_name:t.title,persona_avatar:n}}function N(e,t){var n={auto_close:t};return o().ajax({method:"POST",url:x.updateAutoClose(e),data:JSON.stringify(n),dataType:"json",contentType:"application/json"})}function D(e){return p.default.inject(e)}function I(e){var t=new FormData;return t.append("file_id",e),D((function(e){return c.from(o().ajaxPromisify({url:x.deleteFile(),data:t,headers:{"X-Auth-Token":e.token},type:"DELETE",processData:!1,contentType:!1}))}))}function R(e){var t=new FormData;return t.append("attachment",e.file),D((function(e){return c.from(o().ajaxPromisify({url:x.uploadFile(),headers:{"X-Auth-Token":e.token},type:"POST",data:t,processData:!1,contentType:!1}))}))}function U(e){return D((function(t){return c.from(o().ajaxPromisify({url:x.getFile(e.id),headers:{"X-Auth-Token":t.token},type:"GET",processData:!1,contentType:!1}))}))}function F(e,t){return D((function(n){return c.from(o().ajaxPromisify({url:x.downloadFile(e),headers:{"X-Auth-Token":n.token},error:function(){t()},type:"POST"}))}))}function M(e,t,n,r){return new h.default(n).send(t,r,e).pipe(u.last(),u.map((function(n){return a().extend({},n,{file_type:e,file_name:t.name,file_index:t.file_index})})))}function L(e){var t=a().extend({recipient_id:e.recipient_id,group_id:e.group_id,tag:e.tag,text:e.text,crm_dialog_id:e.crm_dialog_id,crm_contact_id:e.crm_contact_id,crm_account_id:e.crm_account_id,crm_entity:e.crm_entity||{},attachments:e.attachments,template:e.template,reply_markup:e.reply_markup,reply_to:e.reply_to,forwards:e.forwards,set_personalization:e.set_personalization},A());return D((function(n){return c.from(o().ajaxPromisify({url:x.sendMessageWithFiles(e.chat_id),data:JSON.stringify(t),headers:{"X-Auth-Token":n.token},type:"POST",dataType:"json",contentType:"application/json"}))}))}function B(e,t){return D((function(n){switch(!0){case/^image\/(png|jpeg|bmp|webp)$/.test(e.mimeType):return M("picture",e,n,t);case/^video\/(mp4)$/.test(e.mimeType):return M("video",e,n,t);case/^audio\/(ogg)$/.test(e.mimeType):return M("voice",e,n,t);default:return M("file",e,n,t)}}))}function W(e,t){return D((function(n){var r=n.token,i=JSON.stringify(l()({chats:[{chatId:e,dialogId:t}]}));return c.from(o().ajaxPromisify({url:x.sendTyping(),headers:{"X-Auth-Token":r},data:i,contentType:"application/json",type:"POST"})).pipe(u.switchMap((function(){return c.of(!0)})))}))}function q(e,t){return D((function(n){return c.from(o().ajaxPromisify({url:x.readChat(),headers:{"X-Auth-Token":n.token},data:{chat_id:e,group_id:[t],timestamp:Date.now()},type:"POST"})).pipe(u.switchMap((function(){return c.of(!0)})))}))}function K(e){return a().isArray(e)||(e=[e]),D((function(t){return c.from(o().ajaxPromisify({url:x.getChatsStat(),data:{chat_id:e},headers:{"X-Auth-Token":t.token},type:"GET",dataType:"json"})).pipe(u.map((function(e){return a().map(e.chats,(function(e,t){return{id:t,count:e.total,users:a().values(e.users)}}))})))}))}function z(e,t){var n={emoji:t=t||""};return D((function(t){return c.from(o().ajaxPromisify({url:x.sendReaction(e),type:"POST",data:JSON.stringify(n),headers:{"X-Auth-Token":t.token},contentType:"application/json"}))}))}function J(e){var t=a().extend({silent:!1,priority:"low",crm_entity:{}},A(),a().pick(e,"crm_entity","text","recipient_id","group_id","file_id","tag","crm_dialog_id","crm_contact_id","crm_account_id","skip_link_shortener","set_personalization","reply_markup","template","reply_to","forwards"));return D((function(n){return c.from(o().ajaxPromisify({url:x.sendMessagev1(e.chat_id),data:JSON.stringify(t),headers:{"X-Auth-Token":n.token},type:"POST",dataType:"json",contentType:"application/json"}))}))}function G(e){var t=a().extend({text:e.message,recipient_id:e.recipient_id,group_id:e.group_id,callback_data:e.callback_data,crm_entity:e.crm_entity||{}},a().pick(e,"crm_contact_id","crm_account_id","reply_to"));return D((function(n){return c.from(o().ajaxPromisify({url:x.sendMessage(e.chat_id),data:t,headers:{"X-Auth-Token":n.token},type:"POST",dataType:"json"}))}))}function H(e,t,n){return D((function(r){return c.from(o().ajaxPromisify({url:x.fetchMessages(e),data:{offset:t,limit:n},headers:{"X-Auth-Token":r.token},type:"GET",dataType:"json"})).pipe(u.map((function(e){return a().isUndefined(e)?[]:e})))}))}function X(e){return D((function(t){return c.from(o().ajaxPromisify({url:x.fetchMessagesById(),data:{id:e},headers:{"X-Auth-Token":t.token},type:"GET",dataType:"json"})).pipe(u.map((function(e){return a().isUndefined(e)?[]:e})))}))}function V(){return x}function $(e,t,n,r,i,a,u,s){switch(e){case T:return function(e,t,n,r){return c.from(o().ajaxPromisify({url:x.createChat(),type:"POST",data:{request:{chats:{create:{type:"external",entity_id:e,entity_type:t,phone:n,source:r}}}},dataType:"json"}))}(t,n,u,s);case w:return function(e,t,n){return c.from(o().ajaxPromisify({url:x.createChat(),type:"POST",data:{request:{chats:{create:{type:"internal",entity_id:e,entity_type:t,users:n||[]}}}},dataType:"json"}))}(t,n,r);case k:return function(e){return c.from(o().ajaxPromisify({url:x.createChat(),type:"POST",data:{request:{chats:{create:{type:"direct",users:e||[]}}}},dataType:"json"}))}(r=arguments[1]);case P:return function(e,t,n){return c.from(o().ajaxPromisify({url:x.createChat(),type:"POST",data:{request:{chats:{create:{type:"group",users:t||[],groups:n||[],title:e}}}},dataType:"json"}))}(i,r,a);default:return c.throwError(new Error("Unsupported chat type ".concat(e)))}}function Y(e){return c.from(o().ajaxPromisify({url:x.connectBot(),type:"POST",data:{request:{chats:{bots:{connect:{bot_id:e}}}}},dataType:"json"}))}function Z(e,t){return c.of(t).pipe(u.map((function(t){var n={};return n[e]={users:t},n})),u.switchMap((function(e){return c.from(o().ajaxPromisify({url:x.manageUsersInChat(),type:"POST",data:{request:{chats:{users:{add:e}}}},dataType:"json"}))})))}function Q(e,t){return c.of(t).pipe(u.map((function(t){var n={};return n[e]={users:t},n})),u.switchMap((function(e){return c.from(o().ajaxPromisify({url:x.manageUsersInChat(),type:"POST",data:{request:{chats:{users:{remove:e}}}},dataType:"json"}))})))}function ee(){return D((function(e){return c.from(o().ajaxPromisify({url:x.rtmStart(),headers:{"X-Auth-Token":e.token},type:"POST",dataType:"json",timeout:j}))}))}function te(e){return D((function(t){return c.from(o().ajaxPromisify({url:x.transcribeMessage(e),headers:{"X-Auth-Token":t.token},type:"POST",dataType:"json"}))}))}function ne(e){return c.from(o().ajaxPromisify({url:x.getChat(e),type:"GET",dataType:"json"}))}function re(e,t){return c.from(o().ajaxPromisify({url:x.getGroupChats(e,t),type:"GET",dataType:"json"}))}function oe(e,t){return c.from(o().ajaxPromisify({url:x.updateChat(),type:"POST",data:{request:{chats:{update:{type:"group",chat_id:e,title:t}}}},dataType:"json"}))}var ie=null;function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=void 0===t?"":t,r=b(e,["url"]);return ie||(ie=o().ajaxPromisify(y({url:n||x.getTemplates(),type:"GET",dataType:"json"},r)).finally((function(e){return ie=null,e}))),c.from(ie)}var ce=null;function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=void 0===t?"":t,r=b(e,["url"]);return ce||(ce=o().ajaxPromisify(y({url:n||x.getSalesbots(),type:"GET",dataType:"json"},r)).finally((function(e){return ce=null,e}))),c.from(ce)}function se(e,t){var n={request:{channel_init:{channel_name:e}}};return t=t||{},o().ajax(a().extend({method:"POST",url:x.initChannel(),data:JSON.stringify(n),dataType:"json",contentType:"application/json"},t))}function le(e,t){var n={request:{channel_disable:{channel_name:e}}};return t=t||{},o().ajax(a().extend({method:"POST",url:x.disableChannel(),data:JSON.stringify(n),dataType:"json",contentType:"application/json"},t))}var de="../build/transpiled/interface/amojo/api";window.define(de,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([de])},132788:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(629133),o=n.n(r),i=n(987081),a=n(128508),c=n(643095),u=n(214558),s=n(168807),l=n(128476),d=n(471435),f=n(661533);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=400,_=401,y=500,b=0,m=APP.constant("account"),v=(0,u.current)(),g=(0,u.get)(),w=(0,u.get)("free"),E=("".concat(m.amojo_server,"/session/refresh_token?stand=").concat(m.stand),"/ajax/v1/chats/session"),T=null,O=!1,S=!1;function k(){l.default.set(null),T=null}function P(e){var t=0;return i.zip(i.range(1,3),e).pipe(a.switchMap((function(e){var n,r,c=(r=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(n,r)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],l=c[1];if(t++,3===u)return i.throwError(l);if(l.status>=y)return m.amojo_enabled=0,t=5,i.of(l.status).pipe((0,s.exponentialDelay)(t,{with_jitter:!0}),a.mapTo(l));if(l.status>=h&&l.status<y&&l.status!==_)return i.throwError(l);if(o().isUndefined(l.responseJSON)&&o().isUndefined(l.responseText)&&0===l.readyState){var d=(0,s.exponentialDelay)(t,{with_jitter:!0});return i.of(l.status).pipe(a.delay(d),a.mapTo(l))}return O||k(),i.of(l.status)})))}const C={inject:function(e){return i.defer((function(){var e;if(null===T){if((e=l.default.get())&&e.valid())return i.of(e);O=!0,T=i.defer((function(){return i.from(f.ajaxPromisify({url:E,data:{request:{chats:{session:{action:"create"}}}},method:"POST"}).finally((function(e){return O=!1,e}))).pipe(a.map((function(e){var t=e.response.chats.session;!function(e){m.amojo_enabled=1,!m.amojo_id&&e.account&&e.account.id&&(m.amojo_id=e.account.id),!v.amojo_id&&e.user&&e.user.id&&(v.amojo_id=e.user.id),v.amojo_id&&o().each([g,w],(function(e){e[v.id]&&!e[v.id].amojo_id&&(e[v.id].amojo_id=v.amojo_id)}))}(t);var n=new d.default(t.access_token,t.refresh_token,t.expired_at,v.id);return l.default.set(n),n})),a.catchError((function(e){return S||function(e){S=!0;var t=e.responseJSON,n=void 0===t?{}:t,r=e.status;(0,c.sentryLogFailedGetAmojoToken)({responseJSON:n,isNetworkError:r===b})}(e),k(),i.throwError(e)})))})).pipe(a.share({connector:function(){return new i.AsyncSubject},resetOnError:!1,resetOnComplete:!1,resetOnRefCountZero:!1}))}return T})).pipe(a.switchMap(e),a.retryWhen(P))}};var j="../build/transpiled/interface/amojo/token_manager";window.define(j,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([j])},128476:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(509372),o=n(471435),i="amojo_token";function a(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}const c={get:function(){var e;return a()&&(e=localStorage.getItem(i)),e||(e=(0,r.get)(i)),e?o.default.fromJSON(e):null},set:function(e){a()?e?localStorage.setItem("amojo_token",e):localStorage.removeItem("amojo_token"):(0,r.set)({name:"amojo_token",value:e,expiredays:e.expiresInDays()})}};var u="../build/transpiled/interface/amojo/token_storage";window.define(u,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([u])},364724:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(629133),o=n.n(r),i=n(987081),a=n(128508),c=n(118860),u=n(500034),s=n(661533),l=APP.constant("account")||{},d=l.amojo_server,f=function(e){this.file_id=this.guid(),this.token=e};o().extend(f.prototype,{agents:[],totalParts:0,agentStream$:new i.Subject,partsStream$:new i.Subject,uploadSource$:null,send:function(e,t){return new i.Observable(o().bind((function(n){var r;return(0,u.isFeatureAvailable)("amocrm_drive")?((r=c.default.uploadFile(e.orig_file,{withPreview:!0,billable:t.billable,processing:t.processing})).then((function(e){if(!e)return n.error();n.next({external_file_id:e.uuid,external_file_vers_id:e.version_uuid,type:"load",progress:100}),n.complete()}),o().bind(n.error,n)),function(){r.abort()}):(r=this.fileToStream(e.bytes).pipe(a.map(o().bind(this.sendPart(e),this)),a.concatAll()).subscribe(o().bind((function(e){var t={file_id:this.file_id,type:"process",progress:(e.num+1)/e.total*100};e.num+1===e.total?(t.type="load",n.next(t),n.complete()):n.next(t)}),this),o().bind(n.error,n)),function(){r.unsubscribe()})}),this))},fileToStream:function(e){var t,n=524288,r=Math.ceil(e.byteLength/n);return e.byteLength%n==0&&r++,new i.Observable((function(o){for(t=0;t<r;t++)o.next({num:t,bytes:new Uint8Array(e.slice(n*t,(t+1)*n)),total:r});o.complete()}))},sendPart:function(e){return function(t){return i.defer(o().bind((function(){return i.from(s.ajaxPromisify({url:"".concat(d,"/v2/upload/saveFilePart?part=").concat(t.num,"&file_id=").concat(this.file_id,"&stand=").concat(l.stand),headers:{"X-Auth-Token":this.token.token,"Content-Disposition":"attachment; filename*=\"UTF-8''".concat(encodeURIComponent(e.name),'"')},type:"PUT",contentType:e.mimeType,data:t.bytes,processData:!1})).pipe(a.map((function(){return{num:t.num,total:t.total}})))}),this))}},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())}});const p=f;var h="../build/transpiled/interface/amojo/uploader";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])},11024:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(629133),o=n.n(r),i=n(661586),a=n.n(i),c=n(926168),u=n(859200);const s={getCacheCode:function(){var e="".concat((0,c.getVersion)(),"_linked_types_cache_").concat(APP.lang_id,"_").concat((0,u.userID)()),t=(0,u.getRights)("catalog_rights")||{},n=o().map(t,(function(e,t){var n=+(e.view!==u.RIGHTS_DENIED);return"".concat(t,":").concat(n)}));return n.length&&(e+="_".concat(a()(n.join("_")))),e},linked_types_cache_lifetime:36e5};var l="../build/transpiled/interface/card/linked/constants";window.define(l,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([l])},118860:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m,getCorrectDataForDrive:()=>_});var r=n(629133),o=n.n(r),i=n(161320),a=n.n(i),c=n(867993),u=n(352529);function s(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function p(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function h(e){return a()(e,AMOCRM.system.format.date.date)}function _(e){var t=JSON.parse(JSON.stringify(e));if(o().isObject(null==t?void 0:t.filter)){var n=t.filter;if(o().isObject(n.created_by)&&(n.created_by=o().map(o().values(n.created_by),(function(e){return Number(e)}))),o().isObject(n.updated_by)&&(n.updated_by=o().map(o().values(n.updated_by),(function(e){return Number(e)}))),o().property(["date","from"])(n)&&o().property(["date","to"])(n)){var r=h(n.date.from).unix(),i=h(n.date.to).add(1,"days").unix();n.date={from:r,to:i}}if(o().has(n,"order_by"))switch(!0){case"filesize"===n.order_by:n.order_by="size";break;case"date"===n.order_by:n.order_by="created_at";break;case"date_modified"===n.order_by:n.order_by="updated_at"}return o().isObject(n.extensions)&&(n.extensions=o().values(n.extensions),n.extensions[0]="No type"===n.extensions[0]?"":n.extensions[0]),o().property(["source_id"])(n)&&(n.source_id=Number(n.source_id)),o().property(["size"])(n)&&(o().property(["size","unit"])(n)&&(n.size.unit=Number(n.size.unit)),o().property(["size","from"])(n)&&(n.size.from=Number(n.size.from)),o().property(["size","to"])(n)&&(n.size.to=Number(n.size.to))),t}return e}function y(e,t,n){var r,i=(0,c.createRequestSender)(e,t,n),a=(r=l((function(){var e=arguments;return p(this,(function(t){return[2,i({url:"/v1.0/files",data:e.length>0&&void 0!==e[0]?e[0]:{}})]}))})),function(){return r.apply(this,arguments)}),u=function(){var e=l((function(){var e=arguments;return p(this,(function(t){return[2,i({url:"/v1.0/files/count",data:e.length>0&&void 0!==e[0]?e[0]:{}})]}))}));return function(){return e.apply(this,arguments)}}(),s=function(){var e=l((function(e,t){var n;return p(this,(function(r){return n={processing_params:{audio:{transcode_to:t,channels:1}}},[2,i({url:"/v1.0/files/".concat(e,"/convert"),type:"POST",data:JSON.stringify(n)})]}))}));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=l((function(e){return p(this,(function(t){return[2,i({url:"/v1.0/files/".concat(e)})]}))}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=l((function(e){return p(this,(function(t){return[2,i({url:"/v1.0/files/".concat(e,"/versions")}).then((function(e){return o().propertyOf(e)(["_embedded","versions"])||[]}))]}))}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=l((function(e,t){return p(this,(function(n){return[2,i({url:"/v1.0/files/".concat(e),type:"PATCH",data:JSON.stringify({version_uuid:t})})]}))}));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=l((function(){var e=arguments;return p(this,(function(t){return[2,i({url:"/v1.0/files/stats",data:e.length>0&&void 0!==e[0]?e[0]:{}})]}))}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=l((function(){return p(this,(function(e){return[2,i({url:"/v1.0/files/extensions",type:"GET"})]}))}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=l((function(){var e=arguments;return p(this,(function(t){return[2,i({url:"/v1.0/files/multiaction",type:e.length>1&&void 0!==e[1]?e[1]:"POST",contentType:"application/json",data:e.length>0&&void 0!==e[0]?e[0]:{}})]}))}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=l((function(){return p(this,(function(e){return[2,i({url:"/v1.0/cleaning_rules",type:"GET"})]}))}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=l((function(e){return p(this,(function(t){return[2,i({url:"/v1.0/cleaning_rules/".concat(e),type:"GET"})]}))}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=l((function(){var e,t=arguments;return p(this,(function(n){return e=t.length>0&&void 0!==t[0]?t[0]:{},[2,i({url:"/v1.0/cleaning_rules",type:"POST",contentType:"application/json",data:JSON.stringify(e)})]}))}));return function(){return e.apply(this,arguments)}}();return{updateFile:function(e,t){return i({url:"/v1.0/files/".concat(e),type:"PATCH",data:JSON.stringify(t)})},deleteFile:function(e){return i({url:"/v1.0/files/".concat(e),type:"DELETE"})},deleteFiles:function(e){return i({url:"/v1.0/files",type:"DELETE",contentType:"application/json",dataType:"text",data:JSON.stringify(o().map(e,(function(e){return{uuid:e}})))})},restoreFiles:function(e){return i({url:"/v1.0/files/restore",type:"POST",contentType:"application/json",data:JSON.stringify(o().map(e,(function(e){return{uuid:e}})))})},getFilesList:a,getFilesCount:u,convertFile:s,getMetadata:d,getVersions:f,switchFileVersion:h,getUsedStats:_,getFilesExtensions:y,multiactionDelete:b,getFilesCleaningRulesList:m,getFilesCleaningRule:v,addFilesCleaningRule:g,updateFilesCleaningRule:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i({url:"/v1.0/cleaning_rules/".concat(e),type:"PUT",data:JSON.stringify(t)})},deleteFilesCleaningRule:function(e){return i({url:"/v1.0/cleaning_rules/".concat(e),type:"DELETE"})},deleteFilesCleaningRules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i({url:"/v1.0/cleaning_rules",type:"DELETE",data:JSON.stringify(e)})}}}var b=f({getUploadingByClientId:u.getUploadingByClientId,uploadFile:u.uploadFile,checkCleaningRules:u.checkCleaningRules},y());const m=f({setContext:function(e,t,n){return f({},b,y(e,t,n))}},b);var v="../build/transpiled/network/files/drive";window.define(v,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([v])},867993:(e,t,n)=>{n.r(t),n.d(t,{createRequestSender:()=>y});var r=n(629133),o=n.n(r),i=n(926168),a=n(661533);function c(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)}))}}function s(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var l,d=APP.constant("amocrm_drive").url,f=new Map,p={},h=(l=u((function(e){return s(this,(function(t){return p[e]||(p[e]=a.ajax({url:"/ajax/v4/files/issue_token",type:"POST",data:e}).always((function(){delete p[e]}))),[2,p[e]]}))})),function(e){return l.apply(this,arguments)}),_=function(){var e=u((function(){var e,t,n,r,a,c,u,l,d=arguments;return s(this,(function(s){switch(s.label){case 0:return t=d.length>1&&void 0!==d[1]?d[1]:null,n=d.length>2&&void 0!==d[2]?d[2]:null,r=d.length>3&&void 0!==d[3]&&d[3],a=(e=d.length>0&&void 0!==d[0]?d[0]:null)&&t?{entity_id:e,entity_type:o().find(AMOCRM.element_types,(function(e){return e===t}))?(0,i.convertElementType)(t,"string"):t}:"",n&&(a.parent={entity_id:n,entity_type:"leads"}),c=JSON.stringify(a),(u=!1===r&&f.get(c))?[2,u]:[4,h(c)];case 1:return l=s.sent().token,f.set(c,l),[2,l]}}))}));return function(){return e.apply(this,arguments)}}(),y=function(e,t,n){var r=function(){var r=u((function(r){var o,i,c,u;return s(this,(function(s){switch(s.label){case 0:o=function(e){return a.ajax(a.extend(!0,{},r,{url:"".concat(d).concat(r.url),xhrFields:{withCredentials:!0},crossDomain:!0,headers:{"X-Auth-Token":e}}))},s.label=1;case 1:return s.trys.push([1,4,,7]),[4,_(e,t,n)];case 2:return i=s.sent(),[4,o(i)];case 3:return[2,s.sent()];case 4:return 403!==(c=s.sent()).status?[3,6]:[4,_(e,t,n,!0)];case 5:return u=s.sent(),[2,o(u)];case 6:throw c;case 7:return[2]}}))}));return function(e){return r.apply(this,arguments)}}();return r}},352529:(e,t,n)=>{n.r(t),n.d(t,{checkCleaningRules:()=>C,getUploadingByClientId:()=>P,uploadFile:()=>k});var r=n(629133),o=n.n(r),i=n(623967),a=n.n(i),c=n(156040),u=n(445368),s=n(628612),l=n(926969),d=n(695453),f=n(845043),p=n(867993),h=n(661533);function _(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,c,"next",e)}function c(e){_(i,r,o,a,c,"throw",e)}a(void 0)}))}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}File.prototype.arrayBuffer=File.prototype.arrayBuffer||function(){var e=this;return new Promise((function(t){var n=new FileReader;n.onload=function(){t(n.result)},n.readAsArrayBuffer(e)}))};var v={},g="file_uploading",w=(0,p.createRequestSender)();(0,c.onPageFullyLoaded)((function(){APP.router.registerPreventConfig({onlyBeforeUnload:!0},g)}));var E,T=(E=y((function(e,t){var n,r=arguments;return m(this,(function(i){return n=r.length>2&&void 0!==r[2]?r[2]:{},[2,w({url:"/v1.0/sessions",type:"POST",data:JSON.stringify(o().extend(n,{file_name:e,file_size:t}))})]}))})),function(e,t){return E.apply(this,arguments)}),O=function(){var e=y((function(){var e,t=arguments;return m(this,(function(n){return e=t.length>0&&void 0!==t[0]?t[0]:{},[2,w({url:"/v1.0/cleaning_rules/check",type:"POST",contentType:"application/json",data:JSON.stringify(e)})]}))}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=y((function(e){var t,n,r,i,a,c,u,s=arguments;return m(this,(function(l){switch(l.label){case 0:if(t=s.length>1&&void 0!==s[1]?s[1]:0,n=s.length>2&&void 0!==s[2]?s[2]:{},e.isAborted())return[2,!1];i=function(){return h.ajax({url:e.url,type:"POST",data:e.file_buffer.slice(e.part_size*t,(t+1)*e.part_size),processData:!1})},l.label=1;case 1:return l.trys.push([1,3,,8]),[4,i()];case 2:return r=l.sent(),[3,8];case 3:return 404!==(a=l.sent()).status||n.session?[3,5]:[4,T(e.name,e.size)];case 4:return c=l.sent(),n.session=!0,[2,S(o().extend(e,{url:c.upload_url,part_size:c.max_part_size}),0,n)];case 5:return 500===a.status&&n.resends<5?(n.resends+=1,[4,(d=1e3*n.resends,new Promise((function(e){return setTimeout(e,d)})))]):[3,7];case 6:return l.sent(),[2,i()];case 7:throw Error("file upload failed");case 8:return u=(t+1)/Math.ceil(e.file_buffer.byteLength/e.part_size)*100,e.isAborted()||e.onProgress(u),r.next_url?[4,S(o().extend({},e,{url:r.next_url}),++t,n)]:[3,10];case 9:r=l.sent(),l.label=10;case 10:return[2,r]}var d}))}));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=!1,i=function(){var i=y((function(){var i,c,u;return m(this,(function(d){switch(d.label){case 0:if(!e)throw new Error("no file to upload");return i=function(e,t){if(!(0,s.isHeicHeifImage)(e)&&!(0,l.isVideo)(e))return a()(t);var n=o().clone(t);return n.processing=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}({},n.processing,(0,s.isHeicHeifImage)(e)&&{image:{convertTo:"image/jpeg"}},(0,l.isVideo)(e)&&{video:{convertTo:"video/mp4"}}),a()(n)}(e,t),[4,T(e.name,e.size,o().pick(i,"file_uuid","only_auth","with_preview","billable","processing"))];case 1:return c=d.sent(),[4,e.arrayBuffer()];case 2:return u=d.sent(),[2,S({url:c.upload_url,file_name:e.name,file_size:e.size,file_buffer:u,part_size:c.max_part_size,isAborted:function(){return r},onProgress:function(e){o().each(n,(function(t){return t(e)}))}})]}}))}));return function(){return i.apply(this,arguments)}}(),c=i();return c.abort=function(){r=!0},c.progress=function(e){o().isFunction(e)&&n.push(e)},c.finally((function(){n=[]})),function(e,t,n){v[e]||(v[e]=[]);var r=o().uniqueId("file-"),i=new(0,d.default.model)({file:t,id:r,type:"files-notification",extension:t.name.slice(t.name.lastIndexOf(".")+1),updated_at:new Date,progress:0});d.default.add(i.trigger("file-add"));var a={file:t,notification:i,uploading:n};v[e].push(a),n.progress((function(e){i.set("progress",Math.round(e))})),n.finally((function(){!function(e,t){v[e]=o().filter(v[e],(function(e){var n=e.uploading===t;return n&&e.notification.collection.remove(e.notification),!n})),APP.router.preventPageChange(o().flatten(v).length>0,g)}(e,n)})),APP.router.preventPageChange(!0,g)}(t.client_id||"",e,c),c},P=function(e){return o().map(v[e],(function(e){return{file:e.file,progress:e.notification.get("progress"),uploading:e.uploading}}))},C=function(){var e=y((function(e){var t,n,r,i,a;return m(this,(function(c){switch(c.label){case 0:return t=o().map(e,(function(e){return{filename:e.name,size:e.size,source_id:e.source_id,created_by:e.created_by}})),[4,O(t)];case 1:return n=c.sent(),r=[],o().each(n,(function(t,n){t.fits_rule&&r.push({text:e[n].name})})),r.length>5&&r.splice(5,r.length,{text:"..."}),r.length?(i=r.concat([{text:"The media will be deleted immediately, as it matches the deletion rule set by the account administrator. You can restore media from the Deleted folder in the Media list within 30 days."},{text:"Are you sure you want to upload this media?"}]),a=new f.default({class_name:"",text:"".concat((0,u.i18n)("Upload media"),":"),decline_text:(0,u.i18n)("button_cancel"),accept_text:(0,u.i18n)("Confirm"),message:i,no_close:!0,accept:function(){this.destroy()}}),[2,new Promise((function(e){a.destroy=function(){this.modal.destroy(),e(a.accepted)}}))]):[2,!0]}}))}));return function(t){return e.apply(this,arguments)}}()},49091:(e,t,n)=>{n.r(t),n.d(t,{CONNECTION_CODES:()=>r,SOCKET_NAMES:()=>i,SOCKET_STATE:()=>o});var r={DEFAULT:0,NORMAL_CLOSURE:1e3,INTERNAL_ERROR:1011,UNAUTHORIZED:3401,OFFLINE:4e3},o={CONNECTED:"connected",CONNECTING:"connecting",DISCONNECTED:"disconnected",CONNECT_OPENED:"connect_opened"},i={NOTIFICATIONS:"notifications",AMOJO:"amojo"},a="../build/transpiled/network/socket/constant";window.define(a,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([a])},797078:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var r=n(629133),o=n.n(r),i=n(987081),a=n(128508),c=n(643095),u=n(12615),s=n(49091),l=n(535571),d=n(126608),f=n(168807),p=n(778618);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=APP.constant("notifications").url_ws_2,y=new d.default,b=(0,l.default)(_,y),m=new i.Subject,v=new i.Subject,g=b.messages.pipe(a.map((function(e){return JSON.parse(e)}))),w=[s.CONNECTION_CODES.DEFAULT,s.CONNECTION_CODES.NORMAL_CLOSURE],E=!1,T=[],O=!1,S=null,k=null,P=0,C=0,j=null,x=null,A=!1,N=0,D={};function I(){C=0,P=0,O?o().each(T,(function(e){return e({status:s.SOCKET_STATE.CONNECTED})})):O=!0}function R(){A=!1,U()}function U(){S&&S.unsubscribe(),k&&k.unsubscribe(),k=g.subscribe((function(e){m.next(e)}),(function(e){var t=b.connectionStatus.getValue();e.target&&e.target.readyState!==WebSocket.OPEN&&0===t.state&&o().contains(w,t.code)&&v.next({state:0,code:s.CONNECTION_CODES.INTERNAL_ERROR})})),S=i.merge(b.connectionStatus,v).subscribe((function(e){if(!o().isEqual(D,e))if(D=e,(0,p.clearWorkerTimeout)(j),(0,p.clearWorkerTimeout)(x),window.removeEventListener("online",R),0===e.state){var t,n=(0,f.exponentialDelay)(C,{with_jitter:!0});switch(o().each(T,(function(t){return t({status:o().contains(w,e.code)?s.SOCKET_STATE.DISCONNECTED:s.SOCKET_STATE.CONNECTING,delay:n,statusCode:e.code,reason:e.reason})})),e.code){case s.CONNECTION_CODES.DEFAULT:case s.CONNECTION_CODES.NORMAL_CLOSURE:break;case s.CONNECTION_CODES.UNAUTHORIZED:0===P&&(P++,u.default.check().done((function(){U()})));break;default:j=(0,p.setWorkerTimeout)(U,n),window.addEventListener("online",R),C<5?C++:C=0}(null===(t=window.navigator)||void 0===t?void 0:t.onLine)&&!o().contains(w,e.code)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({socketName:s.SOCKET_NAMES.NOTIFICATIONS},e);E&&(0,c.sentryLogSocketDisconnect)(t)}({code:e.code,reason:e.reason})}else o().each(T,(function(e){return e({status:s.SOCKET_STATE.CONNECT_OPENED})})),x=(0,p.setWorkerTimeout)(I,2e3)}))}const F={subscribe:function(e){return e=o().isArray(e)?e:[e],new i.Observable((function(t){b.connectionStatus.getValue().state||!1!==A||(U(),A=!0);var n=m.pipe(a.filter((function(t){return o().isUndefined(t.channel)?t:o().filter(e,(function(e){return t.body.channel===e})).length})),a.tap({next:o().bind(t.next,t)})).subscribe(o().noop());return function(){n.unsubscribe()}}))},status:b.connectionStatus,onConnectionChange:function(e){return T.push(e),function(){T=o().without(T,e)}},reconnect:R,send:function(e){e=o().isArray(e)?e:[e],y.next(JSON.stringify(o().map(e,(function(e){return o().extend({uid:(++N).toString()},e)}))))}};var M="../build/transpiled/network/socket/index";window.define(M,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([M])},910:(e,t,n)=>{n.r(t),n.d(t,{getCallingStatus:()=>d,runMerge:()=>p,setCallingStatus:()=>l,showUserStatus:()=>f});var r=n(629133),o=n.n(r),i=n(214558);function a(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var c,u,s=!1,l=function(e){return"calling_status - "+(s=e)},d=function(){return s},f=function(e){var t={},n=(0,i.get)();switch(!0){case"online"===e:t=[],o().each(n,(function(e){!0===e.online&&t.push(e.id)}));break;case!o().isNaN(parseInt(e))&&!o().isUndefined((0,i.get)(e)):t=(0,i.get)(e).online||!1;break;default:o().each(n,(function(e,n){t[n]={},t[n].id=e.id,t[n].online=e.online||!1}))}return t},p=(c=function(e){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(68592),n.e(45839),n.e(26632),n.e(50769),n.e(4483),n.e(73197),n.e(85826)]).then(n.bind(n,450769))];case 1:return[2,new(0,t.sent().default)(e)]}}))},u=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=c.apply(e,t);function i(e){a(o,n,r,i,u,"next",e)}function u(e){a(o,n,r,i,u,"throw",e)}i(void 0)}))},function(e){return u.apply(this,arguments)}),h="../build/transpiled/sdk/index";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])}}]);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"build_2025_11_28_17_08_33"},function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6fbd72cb-a180-42fe-9f3b-977e5ba96daf",e._sentryDebugIdIdentifier="sentry-dbid-6fbd72cb-a180-42fe-9f3b-977e5ba96daf")}catch(e){}}();
//# sourceMappingURL=60794.8a8b5f703ab2919ad574.js.map