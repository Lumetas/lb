(window.webpackChunk=window.webpackChunk||[]).push([[58640,34441,48672,42281,40371,37634,63119,72209],{532153:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={wrapper:"a24bc3453",content:"a034c378e","image-wrapper":"fad9343e",image:"a2006491b",title:"a209fc218",button:"a556b011c",description:"a6a7a53bc"}},511339:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={"amo-market":"a2e322b46","amo-market--trial":"cff49f0e","amo-market--search-active":"a179ae52e","amo-market--integrator":"a3e7b0b14",header:"a34f03ce4","header-title":"a273e382f",search:"a47b5bfff","header-top":"d1d53e28",burger:"a2b9c66cc","burger-inner":"a3c748015",buttons:"a4812b00a","webhooks-button":"a034fa0cc","webhooks-counter":"dd4de0bc","webhooks-counter--single":"a576e1f8a",content:"a72672502","context-button-react-container":"a27c77766","context-button":"a7bfe7c67","context-menu":"a305d33d4","context-item":"a305b9988","burger--integrator":"a08b34dfa","header-title--integrator":"a7a7ba434",page:"a0e3f32b4",minimized:"a837f0062"}},344737:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={"categories-bar":"a0afb92d9","categories-bar--hover--active":"ba860f6e","link--selected":"a6750bca8","context-button--selected":"a0914a2fc","categories-bar--hidden-categories":"a8444cdf4",link:"a954f9a9e","context-button-react-container":"a4c3ebaed","context-button":"a54223307","context-button-react-container--hover":"a7742d80f","context-menu":"a8583db18","context-item":"a85870fb0","context-text-active":"a56340e1e"}},276138:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={"category-list":"c2a3e7f4"}},568374:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={header:"a7efb8d18",title:"a13465ade",link:"a3232d6be",integrations:"f052da74","integrations--rest":"a56ac77ba",integration:"a4eb4574d",banner:"a93da53da"}},293949:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={installed:"ad1970ae",integration:"a423d937a",disclaimer:"a690f6b4c","disclaimer--single":"a3be99d98",title:"a34fcbbf2",text:"a965ad8c4"}},10328:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={integration:"a234fd818","integration--private":"a43c34ecb","main-info":"a903960f4",wrapper:"fc1eae52",image:"a7bd3e2c2","integration-name":"a58791320",status:"dbc1d9a4","status--expired":"a8428a3d2","status--disconnected":"a645a2ee",developer:"a765fe9e4","developer-support":"a554affe0","developer-support-text":"a05991e6c","manage-block":"a7cbe073e",manage:"f2483ebe"}},445696:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={integration:"a19623563","main-info":"a961af8de",wrapper:"a2e7938bc",image:"a575f002a",status:"b41759fa",developer:"a7c4181ce","disable-block":"a1a084537",text:"a0ad74f04",button:"edeeab7a"}},86198:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={top:"a31d39924",rest:"a08a1a64a",integration:"a67c48226",banner:"a9de1ab1a"}},845636:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={"integrations-slider":"integrations-slider","integrations-slider__left":"integrations-slider__left","integrations-slider__right":"integrations-slider__right","integrations-slider__left-icon":"integrations-slider__left-icon","integrations-slider__right-icon":"integrations-slider__right-icon","dg-container":"dg-container","dg-wrapper":"dg-wrapper","dg-container_com":"dg-container_com","dg-right":"dg-right","dg-left":"dg-left",left_click:"left_click",right_click:"right_click","integrations-slider--integrator":"integrations-slider--integrator","dg-outleft":"dg-outleft"}},753448:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={"slider-wrapper":"a76913816","category-list":"a643771be",header:"a7e7489fc"}},637373:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={search:"a0032e762","search--active":"a21f599f5",overlay:"a468cf289"}},596455:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={item:"a6eaf37ca",content:"a32e32862",image:"a67348384",name:"a6eb13742","dp-icon":"a65e53d03","low-rating":"a77b6e9ad"}},888974:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={rating:"a725486ec",stars:"a08f6ed9c",count:"a0abdd440"}},164262:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={"integration-item-skeleton":"integration-item-skeleton","integration-item-skeleton__content":"integration-item-skeleton__content","integration-item-skeleton__info":"integration-item-skeleton__info","integration-item-skeleton__image":"integration-item-skeleton__image","integration-item-skeleton__title":"integration-item-skeleton__title","integration-item-skeleton__rating":"integration-item-skeleton__rating","integration-item-skeleton__button":"integration-item-skeleton__button"}},321364:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={"search-line":"bf6d825c",input:"a6fa90f3a",loop:"a8c0a22a",close:"a705402de","close-icon":"a3e52d235"}},937634:(e,t,n)=>{"use strict";var r=n(331542);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},398457:e=>{function t(e){if(!e)throw new Error("missing options");if(!e.handler)throw new Error("missing handler parameter");this.scrollElement=e.scrollElement||window,this.conditions=e.conditions||{},this.handler=e.handler,this.values={},this.tracked={},this.success=!1,this.throttleVal=e.throttle||100,this.processing=!1,this.stopped=!1,this._parse(),"pageYOffset"in this.scrollElement?(this._addBottom(),this._addTop()):(this._addBottomEl(),this._addTopEl(),this._addScrollLeft()),this._addWidth(),this._onScroll()}t.prototype.addCondition=function(e,t){this.conditions[e]=t,this._parse()},t.prototype.removeCondition=function(e){delete this.conditions[e],this._parse()},t.prototype.addTracker=function(e,t){this.tracked[e]={cb:t,name:e}},t.prototype._addBottom=function(){this.addTracker("bottom",(function(e){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-(e.pageYOffset+e.innerHeight)}))},t.prototype._addTop=function(){this.addTracker("top",(function(e){return e.pageYOffset}))},t.prototype._addBottomEl=function(){this.addTracker("bottom",(function(e){return Math.max(e.scrollHeight,e.offsetHeight)-(e.scrollTop+e.offsetHeight)}))},t.prototype._addTopEl=function(){this.addTracker("top",(function(e){return e.scrollTop}))},t.prototype._addScrollLeft=function(){this.addTracker("scrollLeft",(function(e){return e.scrollLeft}))},t.prototype._addWidth=function(){this.addTracker("width",(function(e){return e.innerWidth}))},t.prototype._parse=function(){for(var e in this._parsed={},this._wantedTrackers=[],this._parsedMax={},this._parsedMin={},this.conditions)if(this.conditions.hasOwnProperty(e))switch(e.substr(0,4)){case"min-":this._wantedTrackers.push(e.substr(4,e.length)),this._parsedMin[e.substr(4,e.length)]=this.conditions[e];break;case"max-":this._wantedTrackers.push(e.substr(4,e.length)),this._parsedMax[e.substr(4,e.length)]=this.conditions[e];break;default:this._wantedTrackers.push(e),this._parsed[e]=this.conditions[e]}},t.prototype._check=function(){var e=[];for(var t in this.values)this._parsed.hasOwnProperty(t)&&e.push(this._parsed[t]==this.values[t]),this._parsedMin.hasOwnProperty(t)&&e.push(this._parsedMin[t]<=this.values[t]),this._parsedMax.hasOwnProperty(t)&&e.push(this._parsedMax[t]>=this.values[t]);if(e.length&&-1==e.indexOf(!1)){this.processing=!0;var n=this._done.bind(this);window.requestAnimationFrame(this.handler.bind(this,this.values,n))}},t.prototype._done=function(){this.processing=!1},t.prototype._onScroll=function(){this._onScrollHandler=this._throttledHandler(),this.scrollElement.addEventListener("scroll",this._onScrollHandler,!1)},t.prototype._throttledHandler=function(){var e=this;return this.throttle((function(t){if(e._wantedTrackers.length&&!e.processing){for(var n=0;n<e._wantedTrackers.length;n++)e.tracked[e._wantedTrackers[n]]&&(e.values[e._wantedTrackers[n]]=e.tracked[e._wantedTrackers[n]].cb(e.scrollElement||window));window.requestAnimationFrame(e._check.bind(e))}}),this.throttleVal)},t.prototype.stop=function(){this.stopped||(this.scrollElement.removeEventListener("scroll",this._onScrollHandler,!1),this.stopped=!0)},t.prototype.resume=function(){this.stopped&&this._onScroll(),this.stopped=!1},t.prototype.throttle=function(e,t){var n,r=!0;return function(){var a=this,o=arguments;if(r)return e.apply(a,o),void(r=!1);n||(n=!0,setTimeout((function(){e.apply(a,o),n=!1}),t))}},e.exports&&(e.exports=t);var n="steady";window.define(n,(function(){var t="undefined",n=typeof __webpack_exports__===t?typeof __WEBPACK_AMD_DEFINE_RESULT__===t?typeof e===t?void 0:e.exports:__WEBPACK_AMD_DEFINE_RESULT__:__webpack_exports__;return n&&n.default||n})),window.require([n])},642844:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(629133),a=n.n(r),o=n(827378),i=n.n(o),s=n(937634),c=n(313981),l=n(643095),u=n(540857),d=n(775813);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=f({},d.ErrorVariants.NO_ACCESS,204),h=f({},d.ErrorVariants.CONNECTION_PROBLEM,0);const m=c.default.extend({space_template:"/tmpl/common/404page.twig",initialize:function(e){c.default.prototype.initialize.apply(this,arguments),this.options=e||{},this.render()},destroy:function(){var e;null===(e=this.unmountErrorHandler)||void 0===e||e.call(this)},render:function(){var e,t=this,n=this.options,r=n.jqXHR,o=n.message_options,i=void 0===o?{}:o,s=null==r?void 0:r.responseJSON;s&&(e=this.getErrorCode(s));var c=function(e){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({variant:e},i);t.unmountErrorHandler=t.mountErrorHandler(n),(0,l.sentryLogErrorHandler)({errXHR:r,variant:e})};switch(!0){case e===p[d.ErrorVariants.NO_ACCESS]:c(d.ErrorVariants.NO_ACCESS);break;case(null==r?void 0:r.status)===h[d.ErrorVariants.CONNECTION_PROBLEM]:c(d.ErrorVariants.CONNECTION_PROBLEM);break;default:var m=this._addComponent(u.default,a().extend({},this.options.space_options,{jqXHR:r}));this.$el.append(m.$el)}},mountErrorHandler:function(e){var t=i().createElement(d.ErrorMessage,e),n=(0,s.createRoot)(this.el);return n.render(t),function(){n.unmount()}},getErrorCode:function(e){return a().propertyOf(e)(["response","errors",0,"code"])}});var g="../build/transpiled/components/base/error_handler";window.define(g,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([g])},854250:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(629133),a=n.n(r),o=n(926168),i=n(661533),s={},c=function(){};a().extend(c.prototype,{_matching_entities:{contacts:["companies"]},_positionId:function(){return(0,o.getMatchingEntity)()+APP.data.is_card},savePosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._positionId(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return i(window).scrollTop()};return s[e]=t(),e},getPosition:function(e){return s[e||this._positionId()]||0},restorePosition:function(e,t){(t=t||function(e){i(window).scrollTop(e)})(this.getPosition(e)),this.clearPosition(e)},clearPosition:function(e){s[e||this._positionId()]=null}}),i(document).on("page:entity_changed",(function(){s={}}));const l=new c;var u="../build/transpiled/components/base/scroll_saver";window.define(u,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([u])},540857:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(460159),a=n.n(r),o=n(629133),i=n.n(o),s=n(313981),c=n(643095),l=n(445368);const u=s.default.extend({template:"/tmpl/common/404page.twig",initialize:function(e){s.default.prototype.initialize.apply(this,arguments),this.options=e||{},this.render(),this.options.jqXHR&&(0,c.sentryLogSpaceError)({errXHR:this.options.jqXHR,extra:this.options.sentryExtra})},render:function(){return a()._preload([this.template])().then(i().bind((function(){this.$el.html(a()({ref:this.template}).render({title:this.options.title||(0,l.i18n)("Nothing here,"),text:this.options.text||(0,l.i18n)("just an empty space, sorry")}))}),this))}});var d="../build/transpiled/components/base/space";window.define(d,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([d])},7958:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(629133),a=n.n(r),o=n(460159),i=n.n(o),s=n(661533),c=n.n(s),l=n(313981),u=n(500034),d=["settings","dev"];(0,u.isFeatureAvailable)("global_marketplace")&&d.push("widgetsSettings");var f=l.default.extend({template:"/tmpl/settings/menu_item.twig",max_iteration_counter:5,is_checked:!1,initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.default.prototype.initialize.apply(this,t),this.observer=new MutationObserver(a().bind(this.onMutation,this)),i()._preload([this.template]),this.observer.observe(document.body,{attributeOldValue:!0,characterData:!0,attributes:!0,childList:!0,subtree:!0})},destroy:function(){this.observer.disconnect()},onMutation:function(e){var t=this;f.isMutationAvailable()&&e.forEach((function(e){var n=a().find(e.removedNodes,(function(e){return"pay"===e.id||"/settings/pay/"===e.pathname}));t.is_checked&&(n||"pay"===e.target.id||"/settings/pay/"===e.target.pathname||"pay"===e.oldValue&&"id"===e.attributeName||"/settings/pay/"===e.oldValue&&"href"===e.attributeName)&&(a().contains(["href","onclick","id","class","style"],e.attributeName)||n)?(t.is_checked=!1,t.appendDefaultLink()):t.is_checked||(t.is_checked=!0)}))},appendDefaultLink:function(){var e=i()({ref:this.template}).render({item:{label:APP.lang.bill_header,link:"/settings/pay/",selected:c()("#pay").hasClass("aside__list-item_selected")},item_name:"pay"});c()("#pay").remove(),c()("#widgets").length?c()("#widgets").after(e):c()("#account").after(e),--this.max_iteration_counter||this.observer.disconnect()}});f.isMutationAvailable=function(){var e=APP.getBaseEntity();return a().contains(d,e)};const p=f;var h="../build/transpiled/components/pay/billing_link_observer";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])},372209:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=n(661533),a=n.n(r),o=n(629133),i=n.n(o),s=n(460159),c=n.n(s),l=n(267651),u=n.n(l),d=n(313981),f=n(643095),p=n(156040),h=n(323344),m=n(445368),g=n(955026),v=n(982862),y=n(7958),_=n(854250),b=n(642844),w={};a().ajaxSetup({beforeSend:function(e){e.done((function(e){i().isObject(e)&&(e.response&&(e.response.lang&&APP.addLang(e.response.lang),e.response.user_rights&&APP.constant("user_rights",i().extend(APP.constant("user_rights"),e.response.user_rights)),(0,g.hasKeys)(e,["response","redirect"])&&i().isString(e.response.redirect)&&APP.router.navigate(e.response.redirect,{trigger:!0,replace:!0})),e.js_params&&i().isObject(e.js_params.constants)&&i().each(e.js_params.constants,(function(e,t){APP.constant(t,e)})))}))}}),w._construct=function(e){this._destroyed||(this.setElement(document.querySelector(this._getContainerSelector())),this.el.className=this.className||"",this.$el.on("click".concat(this.ns),".js-filter-preset-link",i().bind(this._presetLinkClick,this)).on("click".concat(this.ns),".js-list-top-nav__text-button_submenu",(function(e){u().publish("hover_menu:show",a()(e.currentTarget).data("entity"))})),this._$document.on("page:overlay:show".concat(this.ns),i().bind(this._showOverlay,this)).on("page:overlay:hide".concat(this.ns),i().bind(this._hideOverlay,this)),this.construct(e),this._initComponents.apply(this,arguments),APP.data.is_card||this._$document.triggerHandler("widgets:load"),e.first_load?a()(i().bind((function(){this.page_constructed=!0,this._$document.trigger("page:construct")}),this)):(this.page_constructed=!0,this._$document.trigger("page:construct").triggerHandler("page:changed")),p.handleEndComponentLoading(p.components.page),APP.setTitle(this._title()))},w._request=function(e){var t,n,r=this.template;null!==(n=(t=e).isOverlayEnabled)&&void 0!==n||(t.isOverlayEnabled=!0),e.isOverlayEnabled&&this._showOverlay(),i().isFunction(r)&&(r=r.call(this)),Promise.all([w._xhr.call(this,e.construct_options),c()._preload(w._getTemplates.call(this))()]).then(i().bind((function(t){var n=this;t[0]&&t[0].redirect||!0===this._destroyed?this.destroy():(e.isOverlayEnabled&&this._hideOverlay(),t[0]&&t[0].template&&(r="/tmpl/".concat(t[0].template.name)),this._renderPage({response:t[0],container:this._getContainerSelector(),template:r,options:(e||{}).construct_options||{}}),_.default.restorePosition(),a()((function(){w._construct.call(n,i().extend(e.construct_options,{response:t[0]}))})))}),this)).catch(i().bind((function(e){console.error(e),i().isUndefined(e)||this._hideOverlay(),p.handleEndComponentLoading(p.components.page)}),this))},w._xhr=function(e){var t;return new Promise(i().bind((function(n,r){w._curr_xhr&&(i().result(w._curr_xhr,"abort",i().noop),i().result(w._curr_xhr,"reject",i().noop)),w._curr_xhr=this._makeRequest(e).always(i().bind((function(){var e=document.getElementById("page_holder");(e.children.length||APP.is_card)&&(document.getElementById("card_holder").style.display="none",e.style.display=""),this._$document.triggerHandler("page:change:stop"),w._curr_xhr=null,setTimeout((function(){APP.page_xhr=null}))}),this)).done(i().bind((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=i().isEmpty(e)||e.response?e.response:e)&&t.lang&&APP.addLang(t.lang),t&&t.user_rights&&APP.constant("user_rights",i().extend(APP.constant("user_rights")||{},t.user_rights)),this._$document.trigger("page:changed",[{querystring:(0,h.getQueryString)()}]),n(t)}),this)).fail(i().bind((function(e,t){var n=(0,m.i18n)("Something went wrong");if("error"===t){this._$document.triggerHandler("page:changed");var a={el:this._getContainerSelector(),title:n,text:(0,m.i18n)("page_404_mail_text")};this._addComponent(b.default,{jqXHR:e,space_options:a}),this._title(n)}"abort"===t&&this.destroy(),r("error"===t?e.responseJSON||{}:void 0)}),this)),APP.page_xhr=w._curr_xhr}),this))},w._getTemplates=function(){var e=this.template;return e&&i().isFunction(e)&&(e=e.call(this)),i().isArray(e)||(e=[e]),i().isArray(this.preload)&&(e=i().unique(e.concat(this.preload))),i().compact(e)},w._renderPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.response||{},n=e.template,r=e.container||"#page_holder";if(n){var a=c()({ref:n}).render("/tmpl/common/404page.twig"===n?t:this._updateResponseData(t));(0,v.replaceHtml)(document.querySelector(r),a)}};const E=d.default.extend({endpoint:null,template:null,preload:[],_destroyed:!1,construct:i().noop,destruct:i().noop,isCsrPageOnly:!1,initialize:function(e){p.trackStartComponentLoading(p.components.page),(0,f.startBrowserTracingSpan)({entity:APP.data.current_entity}),d.default.prototype.initialize.call(this,i().extend(e,{init_components:!1})),y.default.isMutationAvailable()&&this._addComponent(y.default),this.setNS(),e=i().extend(e||{},{first_load:APP.first_load}),this.page_constructed=!1;var t=document.getElementById("template_params");!APP.first_load||t||this.isCsrPageOnly?w._request.call(this,{construct_options:e,isOverlayEnabled:!t||this.isCsrPageOnly}):c()._preload(w._getTemplates.call(this),i().bind((function(){a()(i().bind(w._construct,this,e))}),this))()},destroy:function(e){this._destroyed=!0,this._$document.off("page:overlay:show".concat(this.ns)).off("page:overlay:hide".concat(this.ns)).off("page:reload".concat(this.ns)).off("list:reload".concat(this.ns)),!1!==e&&this.destruct(),d.default.prototype.destroy.apply(this,arguments)},_request:w._request,_updateResponseData:function(e){return e},_makeRequest:function(e,t){var n=document.getElementById("template_params");if(n){var r=n.textContent;n.remove();try{var o=JSON.parse(r);return a().Deferred().resolve(o)}catch(e){return a().Deferred().reject()}}return a().ajax(i().extend({url:this._getEndpoint(e.route_args),data:this._getEndpointData(e.route_args),type:this._getEndpointType(e.route_args),dataType:"json"},t||{}))},_getEndpoint:function(){var e=(0,h.getQueryString)();return this.endpoint+(e?"?".concat(e):"")},_getEndpointData:function(){return{}},_getEndpointType:function(){return"POST"},_getContainerSelector:function(){return"#page_holder"},_renderPage:function(e){w._renderPage.call(this,e)},_presetLinkClick:function(e){var t=a()(e.currentTarget);t.parent().find(".filter__list__item-selected,.aside__list-item_selected").removeClass("filter__list__item-selected aside__list-item_selected"),t.addClass("filter__list__item-selected aside__list-item_selected")},_title:function(){var e="".concat(APP.getBaseEntity(),"_head_title");return i().isUndefined(APP.lang[e])?null:(0,m.i18n)(e)},_showOverlay:function(){var e=this._$window.scrollTop();this._$body.get(0).classList.add("page-loading"),this._$window.on(["mousewheel.".concat(this.ns,".disable_scroll"),"DOMMouseScroll.".concat(this.ns,".disable_scroll"),"touchmove.".concat(this.ns,".disable_scroll")].join(" "),(function(e){e.preventDefault()})),this._$window.on("scroll.".concat(this.ns,".disable_scroll"),(function(t){t.currentTarget.scrollTop="".concat(e,"px")}))},_hideOverlay:function(){this._$body.get(0).classList.remove("page-loading"),this._$window.off(".disable_scroll")},_getInstance:function(){return this}});var k="../build/transpiled/core/page";window.define(k,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([k])},98682:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(629133),a=n.n(r),o=n(460159),i=n.n(o),s=n(809228),c=n.n(s),l=n(661533),u=n.n(l),d=n(161320),f=n.n(d),p=n(313981),h=n(445368),m=n(359538),g=n(845043),v=n(304483);function y(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,s,"next",e)}function s(e){y(o,r,a,i,s,"throw",e)}i(void 0)}))}}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},w(e,t,n||e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}function A(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(o,e);var t,n,r=C(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"initialize",value:function(e){var t=e.onModelSet,n=e.uuid,r=e.isPublicIntegration,i=void 0!==r&&r;w(E(o.prototype),"initialize",this).call(this),this.isPublicIntegration=i,this.uuid=n,this.onModelSet=a().isFunction(t)?t:a().noop,this.htmlButtonLongLivedToken=this._findElem("longLivedTokenButton"),this.initClipboardHandlers()}},{key:"events",value:function(){return{"click .js-generate-long-lived-token":"handleGenerateLongLivedTokenClick","click .js-generate-secret-key":"handleGenerateSecretKeyClick"}}},{key:"_selectors",value:function(){return{copy_uuid:".js-copy-uuid",copySecret:".js-copy-secret",long_lived_token:".js-long-lived-token",longLivedTokenButton:".js-generate-long-lived-token",secretKeyButton:".js-generate-secret-key",authCode:".js-auth-code",copyAuthCode:".js-copy-auth-code"}}},{key:"_classes",value:function(){return{copied:"js-copied"}}},{key:"openConfirmModal",value:function(e){var t=this,n=e.text,r=e.template,a=e.message,o=e.onAccept,i=e.onInit;this.confirmModal=new g.default({class_name:"keys-confirmation-modal",text:n,decline_text:(0,h.i18n)("Cancel"),accept_text:(0,h.i18n)("Confirm [secret key]"),template:r,message:a,init:i,accept:o,destroy:function(){t.confirmModal=!1}})}},{key:"handleGenerateLongLivedTokenClick",value:function(){var e=this;this.openConfirmModal({text:(0,h.i18n)("Generate long-lived token"),template:"/tmpl/settings/widgets/oauth_integration/confirm_long_lived_token.twig",onAccept:_((function(){var t,n,r,a,o;return A(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e.confirmModal.requestStart(),t=e.getTokenDataFromModal(),[4,e.requestLongLivedToken(t)];case 1:return n=i.sent(),e.confirmModal.requestSuccess((0,h.i18n)("Created (male)")),e.toggleHtmlButtonLongLivedToken(n.accessToken),[3,3];case 2:return r=i.sent(),o=(null==r||null===(a=r.responseJSON)||void 0===a?void 0:a.hint)||(0,h.i18n)("Something went wrong"),e.confirmModal.requestFail(o,!1),[3,3];case 3:return[2]}}))}))})}},{key:"getTokenDataFromModal",value:function(){return{tokenValue:this.confirmModal.$modal_body.find(".js-long-lived-token-value").val()}}},{key:"requestLongLivedToken",value:function(e){var t=e.tokenValue,n=f()(t,APP.system.format.date.date).endOf("day").utc(APP.system.timezone).unix();return(0,m.getLongLivedToken)({uuid:this.uuid,expiresAt:n})}},{key:"handleGenerateSecretKeyClick",value:function(){var e=this,t=(0,h.i18n)("A new secret key will be generated and shown only once. You can regenerate a new key at any time, but please note that any authorizations linked to the old key will be removed."),n=this.isPublicIntegration?null:[{text:t,class_name:"modal-body__paragraph-text_warning"}];this.openConfirmModal({text:(0,h.i18n)("Generate secret key"),message:n,template:this.isPublicIntegration?"/tmpl/settings/widgets/oauth_integration/confirm_generate_secret_key_public.twig":null,onInit:function(){var e=this.$modal_body,t=e.find(".js-control-option-delete-auth"),n=e.find(".js-warning-delete-keys-text");n.hide(),t.on("change",(function(){n.toggle()}))},onAccept:function(){var t=e.isPublicIntegration?e.getAgreeDeleteAuthFromModal():null;e.requestSecretKey(t),e.confirmModal.destroy()}})}},{key:"getAgreeDeleteAuthFromModal",value:function(){return this.confirmModal.$modal_body.find(".js-control-option-delete-auth").is(":checked")}},{key:"requestSecretKey",value:function(e){var t=this;return _((function(){var n,r,a,o,i;return A(this,(function(s){switch(s.label){case 0:e&&(r={clearAllAuthenticatedAccounts:e}),t._$document.trigger("page:overlay:show"),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,(0,m.getSecretKey)({uuid:t.uuid,payloadData:r})];case 2:return(n=s.sent()).secret?(t._elem("secretKeyButton").text((0,h.i18n)("Regenerate secret key")),t.toggleHtmlButtonLongLivedToken(),t.showSecretKeyModal(n.secret),n.authCode&&(t._elem("authCode").text(n.authCode),t._elem("authCode").attr("title",n.authCode),t._elem("copyAuthCode").attr("data-clipboard-text",n.authCode)),[3,5]):(t.showErrorModal((0,h.i18n)("Something went wrong")),[2]);case 3:return a=s.sent(),i=(null==a||null===(o=a.responseJSON)||void 0===o?void 0:o.hint)||(0,h.i18n)("Something went wrong"),n=a,t.showErrorModal(i),[3,5];case 4:return t._$document.trigger("page:overlay:hide"),t.onModelSet(n),[7];case 5:return[2]}}))}))()}},{key:"showSecretKeyModal",value:function(e){var t=this;new v.default({class_name:"secret-key-modal",preload_templates:["/tmpl/settings/widgets/oauth_integration/secret_key.twig","stylesheets/_chunks/secret_key.css"],init:function(n){var r=i()({ref:"/tmpl/settings/widgets/oauth_integration/secret_key.twig"});n.trigger("modal:loaded").html(r.render({secret:e,isPublicIntegration:t.isPublicIntegration})).trigger("modal:centrify")}})}},{key:"showErrorModal",value:function(e){(new v.default).showError(e,!1)}},{key:"toggleHtmlButtonLongLivedToken",value:function(e){var t=this._findElem("long_lived_token");if(e)t.text(e).parent().find(this._selector("copy_uuid")).attr("data-clipboard-text",e);else{if(this._findElem("longLivedTokenButton").length)return;t.html(this.htmlButtonLongLivedToken),t.parent().find(this._selector("copy_uuid")).attr("data-clipboard-text","")}}},{key:"initClipboardHandlers",value:function(){this.initClipboard(this._selector("copy_uuid"),!1,800),this.initClipboard(this._selector("copySecret"),!0,1500)}},{key:"initClipboard",value:function(e,t,n){var r=this;this._addComponent(c(),e).on("success",(function(e){var o=u()(e.trigger),i=o.text();o.addClass(r._class("copied")),t&&o.text((0,h.i18n)("Copied")),a().delay((function(){o.removeClass(r._class("copied")),t&&o.text(i)}),n)})).on("error",(function(e){var t=u()(e.trigger);t.addClass("animated shake"),a().delay((function(){t.removeClass("animated shake")}),200)}))}}])&&b(t.prototype,n),o}(p.default),S="../build/transpiled/interface/account/development/integration/keys";window.define(S,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([S])},69991:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(304483),a=n(845043),o={threadCommonFailModal:function(e){var t,n;if(e.responseJSON&&e.responseJSON.error_code&&(n=e.responseJSON.error_code,APP.lang["mail_error_".concat(n)]&&(t=APP.lang["mail_error_".concat(n)])),!t&&e.status)switch(e.status){case 410:t=APP.lang.mail_letter_deleted;break;case 403:t=APP.lang.mail_letter_view_forbidden;break;case 404:t=APP.lang.page_404_caption}t?(new r.default).showError(t,!1):o.commonErrorConfirm()},commonErrorConfirm:function(){new a.default({class_name:"modal-list",template:"/tmpl/mail/modal/connection_error.twig"})}};const i=o;var s="../build/transpiled/interface/mail/common/modals";window.define(s,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([s])},568547:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r,a,o,i=n(629133),s=n.n(i),c=n(445368),l=n(450422),u=n(500034),d={widget:5},f=(0,n(506379).getGrouppedTriggers)("name"),p={TOKEN_TYPES:{ADS:1,FORMS:2,CONVERSIONS_API:3},ACTIONS:{RENEWABLE_ACTION_TYPES:{lead_added:1,lead_status_changed:14,lead_appeared_in_status:15,customer_added:20,customer_period_changed:21,customer_appeared_in_period:22,customer_status_changed:57,customer_appeared_in_status:58,segment_attached:94,action_relative_date:121},CUSTOM_DELAY_OPTION_ID:-1,KEYACTION_CONDITION_ID:116,RELATIVE_DATE_CONDITION_ID:121,TRIGGERS_WITH_DELAY_FIRST:s().compact([f.lead_added.id,f.lead_status_changed.id,f.lead_appeared_in_status.id,f.site_visit.id,f.customer_added.id,f.customer_status_changed.id,f.customer_appeared_in_status.id,f.talk_closed.id,f.last_incoming_message.id,f.outgoing_message.id]),TRIGGERS_WITH_ENTITY_SELECT:[[f.lead_status_changed.id,f.customer_status_changed.id],[f.lead_appeared_in_status.id,f.customer_appeared_in_status.id],[f.lead_responsible_changed.id,f.customer_responsible_changed.id]],TRIGGER_GROUPS:[{name:"pipeline",triggers:[f.lead_added.id,f.customer_added.id,f.lead_status_changed.id,f.customer_status_changed.id,f.lead_appeared_in_status.id,f.customer_appeared_in_status.id,f.lead_responsible_changed.id,f.customer_responsible_changed.id,f.invoice_added.id,f.invoice_paid.id,f.transaction_added.id],title:(0,c.i18n)("Pipeline triggers")},{name:"scheduled",triggers:[],title:(0,c.i18n)("Scheduled triggers")},{name:"behavior",triggers:[f.form_filled.id,f.mail_in.id,f.call_in.id,f.key_action_completed.id,f.site_visit.id],title:(0,c.i18n)("Behavior-based triggers")},{name:"conversational",triggers:[f.talk_created.id,f.last_incoming_message_date.id,f.incoming_outgoing_message_first_time_that_cool_down.id,f.incoming_mentioned_event.id,f.incoming_comment_event.id,f.seen_messages.id,f.talk_closed.id,f.chat.id,f.first_incoming_message.id,f.last_incoming_message.id,f.outgoing_message.id,f.incoming_message.id,f.incoming_message_first_time_that_hidden_cool_down.id,f.emotion_added.id,f.instagram_user_followed.id],title:(0,c.i18n)("Conversational triggers")}],SPECIFIC_SOURCES:(r={},a=f.seen_messages.id,o={origins:["instagram_business","facebook","onlinechat","waba"],types:s().keys(d),types_id:s().values(d)},a in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,r)},UNIT_ITEMS:[{id:"1048576",option:(0,c.i18n)("MB"),name:"MB"},{id:"1024",option:(0,c.i18n)("KB"),name:"KB"},{id:"1073741824",option:(0,c.i18n)("GB"),name:"GB"},{id:"1",option:(0,c.i18n)("Bytes"),name:"Bytes"}],FILE_ORIGIN_TYPE_ITEMS:[{id:"origin_type_custom_field",name:"origin_type_custom_field",option:(0,c.i18n)("Used in fields")},{id:"origin_type_note",name:"origin_type_note",option:(0,c.i18n)("Attached in notes")},{id:"origin_type_manual_load",name:"origin_type_manual_load",option:(0,c.i18n)("Uploaded in media tab")},{id:"origin_type_chat",name:"origin_type_chat",option:(0,c.i18n)("Sent in chats")}],CONVERSIONS_EVENTS_TYPE:[{id:"lead",option:(0,c.i18n)("Lead"),name:"lead"},{id:"purchase",option:(0,c.i18n)("Purchase"),name:"purchase"}],IMAGES:{TOTAL_LIMIT:20}};(0,u.isFeatureAvailable)("tags_triggers")&&s().findWhere(p.ACTIONS.TRIGGER_GROUPS,{name:"pipeline"}).triggers.push(f.tag_changed.id),(0,u.isFeatureAvailable)("field_value_changed_trigger")&&s().findWhere(p.ACTIONS.TRIGGER_GROUPS,{name:"pipeline"}).triggers.push(f.field_value_changed.id),(0,l.isAmoChatsFullEnabled)()&&p.ACTIONS.TRIGGER_GROUPS.push({name:"segments",triggers:[f.segment_attached.id,f.segment_detached.id],title:(0,c.i18n)("Segments")});const h=p;var m="../build/transpiled/interface/settings/digital_pipeline/constants";window.define(m,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([m])},136675:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(661533),a=n.n(r),o=n(629133),i=n.n(o),s=n(543666),c=n(407710),l=n(955026);const u={add:function(e,t,n,r){return t=this.getTypeCode(t),s.WriteFirstLeadSourcesCollection.clearAllCache(),c.ChatSourcesCollection.clearAllCache(),a().ajax({method:"POST",url:"/ajax/settings/pipeline/sources/add",data:{request:{pipeline_id:e,type:t,params:n}},xhr:r})},smart_delete:function(e,t,n){var r,a=!1;return s.WriteFirstLeadSourcesCollection.clearAllCache(),c.ChatSourcesCollection.clearAllCache(),this.list(e,t).then(i().bind((function(e){return e[this.getTypeCode(t)]&&(r=e[this.getTypeCode(t)])[n]&&(a=r[n].source_id),this.delete(a)}),this))},delete:function(e){return s.WriteFirstLeadSourcesCollection.clearAllCache(),c.ChatSourcesCollection.clearAllCache(),a().ajax({method:"POST",url:"/ajax/settings/pipeline/sources/delete",data:{request:{id:e}}})},deleteAllByType:function(e){return s.WriteFirstLeadSourcesCollection.clearAllCache(),c.ChatSourcesCollection.clearAllCache(),a().ajax({method:"POST",url:"/ajax/settings/pipeline/sources/delete",data:{request:{type:e}}})},edit:function(e,t){return s.WriteFirstLeadSourcesCollection.clearAllCache(),c.ChatSourcesCollection.clearAllCache(),a().ajax({method:"POST",url:"/ajax/settings/pipeline/sources/edit",data:{request:{id:e,params:t}}})},list:function(e,t){var n={},r=a().Deferred();return e&&(n.pipeline_id=e),t&&(n.type=this.getTypeCode(t)),a().ajax({method:"GET",url:"/ajax/settings/pipeline/sources/list",data:n}).done(i().bind((function(e){(e=(0,l.cleanResponse)(e))&&e.sources&&r.resolve(e.sources)}))),r},listSources:function(e,t){var n={filter:{origin:[]}},r=[],o=a().Deferred();return e&&(n.only="chats"),t&&n.filter.origin.push(t),a().ajax({method:"GET",url:"/ajax/v4/sources",data:n}).done(i().bind((function(e){e=(0,l.cleanResponse)(e),r=i().propertyOf(e)(["_embedded","sources"])||[],o.resolve(r)}))),o},getTypeCode:function(e){var t=i().invert(APP.constant("leads_sources_types"));return!(!e||!t[e])&&t[e]},switchDuplicationControlEnabled:function(e,t,n){var r={pipeline_id:e},o=a().Deferred();return t?(r.all="Y",r.enabled=n?"Y":"N"):(r.all="N",r.enabled=n),a().ajax({method:"POST",url:"/ajax/settings/pipeline/sources/duplication_control",data:r}).done(i().bind((function(e){(e=(0,l.cleanResponse)(e))&&e.success?o.resolve():o.reject()}))).fail((function(){o.reject()})),o}};var d="../build/transpiled/interface/settings/digital_pipeline/leads_sources";window.define(d,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([d])},790401:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r,a=n(661533),o=n.n(a),i=n(629133),s=n.n(i),c=n(955026),l=n(568547);function u(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,s,"next",e)}function s(e){u(o,r,a,i,s,"throw",e)}i(void 0)}))}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h={},m={},g=[l.default.TOKEN_TYPES.ADS,l.default.TOKEN_TYPES.FORMS,l.default.TOKEN_TYPES.CONVERSIONS_API],v={profile:{},link:"",result:!1};s().each(["vk","facebook","instagram_business"],(function(e){s().each(g,(function(t){var n,r,a;h[e]&&h[e][t]||(h[e]=s().extend((n={},r=t,a=o().extend(!0,{},v),r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n),h[e]))})),m[e]={}}));const y=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"setPipeline",value:function(e){e!==this.pipeline_id&&(r=null),this.pipeline_id=e}},{key:"getToken",value:function(e){if(!this.pipeline_id)throw new Error("No pipeline_id, need use 'setPipeline'");return!0!==e&&r?o().Deferred().resolve(r):"customers"===this.pipeline_id?o().ajax("/ajax/settings/pipeline/customers/token").then(s().bind((function(e){return r=e.data.triggers_token}),this)):o().ajax("/ajax/settings/pipeline/leads/".concat(this.pipeline_id,"/token")).then(s().bind((function(e){return r=e.response.token}),this))}},{key:"getFormPages",value:function(e){return this._getFormPages(e).then((function(e){return e=e.pages.data,s().each(e,(function(e){e.label=e.name,e.value=e.id})),e}))}},{key:"removeForm",value:function(e,t){return this.getToken().then((function(n){return o().ajax({url:"/api/forms/".concat(e,"/delete"),data:t,beforeSend:function(e){e.setRequestHeader("X-Auth-Token",n)},type:"POST"})}))}},{key:"_getFormPages",value:function(e){return this.getToken().then((function(t){return o().ajax({url:"/api/forms/".concat(e,"/pages"),beforeSend:function(e){e.setRequestHeader("X-Auth-Token",t)},type:"POST",dataType:"json",data:{account_id:APP.constant("account").id}}).then((function(e){return e=(0,c.cleanResponse)(e),(0,c.hasKeys)(e,["pages","data"])?o().Deferred().resolve(e):o().Deferred().reject(e)})).fail((function(e){return o().Deferred().reject(e)}))}))}},{key:"logoutForm",value:function(e){var t=l.default.TOKEN_TYPES.FORMS;return this.logout(e,{type:t}).then((function(){h[e][t]=o().extend(!0,{},v)}))}},{key:"logoutAds",value:function(e){var t=l.default.TOKEN_TYPES.ADS;return this.logout(e,{type:t}).then((function(){h[e][t]=o().extend(!0,{},v)}))}},{key:"logoutMetaConversions",value:function(e){var t=this;return d((function(){var n;return p(this,(function(r){return n=l.default.TOKEN_TYPES.CONVERSIONS_API,[2,t.logout("meta_conversions").then((function(){h[e][n]=o().extend(!0,{},v)}))]}))}))()}},{key:"logout",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getToken().then((function(r){return o().ajax({method:"POST",url:"/api/triggers/handler/".concat("instagram_business"===e?"facebook":e,"/logout"),beforeSend:s().bind((function(e){e.setRequestHeader("X-Auth-Token",r)}),t),data:n})}),this)}},{key:"checkAuthForms",value:function(e){var t=l.default.TOKEN_TYPES.FORMS,n={type:t,service:"forms"};return h[e][t].result?Promise.resolve(h[e][t]):this._checkAuth({service_name:e,type:t,data:n}).then((function(n){var r=h[e][t];return n&&(r.result=n.result,r.profile=n.profile),r}))}},{key:"checkAuthAds",value:function(e){var t=l.default.TOKEN_TYPES.ADS,n={type:t};return h[e][t].result?Promise.resolve(h[e][t]):this._checkAuth({service_name:e,type:t,data:n})}},{key:"checkAuthMetaConversions",value:function(){var e=this;return d((function(){var t,n,r;return p(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t=l.default.TOKEN_TYPES.CONVERSIONS_API,h.facebook[t].result?[2,Promise.resolve(h.facebook[t])]:[4,e.makeRequest("meta_conversions",{})];case 1:return n=a.sent().response,[2,{result:null==(r=null==n?void 0:n.auth)?void 0:r.result,link:null==r?void 0:r.link}];case 2:return a.sent(),[2,{result:!1}];case 3:return[2]}}))}))()}},{key:"_checkAuth",value:function(e){var t=e.service_name,n=e.type,r=e.data;return this.makeRequest(t,r).then((function(e){var r=h[t][n];return e=(0,c.cleanResponse)(e),(0,c.hasKeys)(e,["auth","result"])&&(r.result=e.auth.result),(0,c.hasKeys)(e,["auth","profile"])&&(r.profile=e.auth.profile),(0,c.hasKeys)(e,["auth","link"])&&(r.link=e.auth.link),{result:r.result,profile:r.profile,link:r.link}}))}},{key:"makeRequest",value:function(e,t){return this.getToken().then((function(){return o().ajax({url:"/api/triggers/handler/".concat("instagram_business"===e?"facebook":e,"/check_auth?source=v3"),beforeSend:function(e){e.setRequestHeader("X-Auth-Token",r)},data:t,type:"POST",dataType:"json"})}))}},{key:"checkGroupAuth",value:function(e,t){return this.makeRequest(e,{group_id:t,service:"forms"}).then((function(n){var r=m[e];return n=(0,c.cleanResponse)(n),r[t]||(r[t]={}),(0,c.hasKeys)(n,["auth","result"])&&(r[t].result=n.auth.result),(0,c.hasKeys)(n,["auth","link"])&&(r[t].link=n.auth.link),{result:r[t].result,link:r[t].link}}))}},{key:"isAuthorized",value:function(e,t){if(!t||!e)throw new Error("No type or service_name");return h[e][t].result}},{key:"isAuthorizedGroup",value:function(e,t){if(!t||!e)throw new Error("No group_id or service_name");return!!m[e][t]&&m[e][t].result}},{key:"getCurrentProfileHandler",value:function(e){if(!e)throw new Error("No service_name");return h[e][l.default.TOKEN_TYPES.ADS].profile}},{key:"getAuthLink",value:function(e,t){if(!t||!e)throw new Error("No type or service_name");return h[e][t].link}},{key:"getAuthLinkGroup",value:function(e,t){if(!t||!e)throw new Error("No group_id or service_name");return m[e][t]?m[e][t].link:""}},{key:"reset",value:function(e,t){if(!t||!e)throw new Error("No type or service_name");h[e][t].result=!1,h[e][t].profile={}}},{key:"getMetaConversionsPages",value:function(){var e=this;return d((function(){var t,n,r,a,i,s;return p(this,(function(c){switch(c.label){case 0:return[4,e.getToken()];case 1:return i=c.sent(),[4,o().ajax({url:(null===(a=APP.constant("settings_pipeline_template_params"))||void 0===a||null===(r=a.data)||void 0===r||null===(n=r.endpoints)||void 0===n||null===(t=n.meta_conversions)||void 0===t?void 0:t.pages)||"/api/triggers/handler/meta_conversions/pages",beforeSend:function(e){e.setRequestHeader("X-Auth-Token",i)},type:"GET"})];case 2:return[2,null==(s=c.sent().response)?void 0:s.pages]}}))}))()}}],n&&f(t.prototype,n),e}());var _="../build/transpiled/interface/settings/services/api";window.define(_,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([_])},363119:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(629133),a=n.n(r),o=n(661533);const i={showMainOverlay:function(e,t){this._$overlay=o('<div class="default-overlay widget-settings__overlay" id="service_overlay" style="z-index: 101"><span class="spinner-icon expanded spinner-icon-abs-center" id="service_loader"></span></div>'),t&&(t.position_absolute&&this._$overlay.css("position","absolute"),a().isNumber(t.z_index)&&this._$overlay.css("z-index",t.z_index),t.offset_left_menu&&this._$overlay.css("left",o("#left_menu").width()),t.isDefaultOverlay&&this._$overlay.removeClass("widget-settings__overlay")),e.append(this._$overlay),this._$overlay.trigger("overlay:show")},hideMainOverlay:function(){this._$overlay&&(this._$overlay.trigger("overlay:hide",{instantly:!0}),this._$overlay.remove(),this._$overlay=null)}};var s="../build/transpiled/interface/settings/widgets/helpers/overlay";window.define(s,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([s])},817713:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ne});var r=n(629133),a=n.n(r),o=n(827378),i=n.n(o),s=n(937634),c=n(567952),l=n.n(c),u=n(460159),d=n.n(u),f=n(162262),p=n.n(f),h=n(629821),m=n.n(h),g=n(267651),v=n.n(g),y=n(906886),_=n(215164),b=n(372209),w=n(288410),E=n(214558),k=n(323344),C=n(445368),A=n(450422),I=n(694345),S=n(790401),O=n(142693),P=n(363119),x=n(203541),T=n(890930),N=n(947297),j=n(757168),R=n(153789),M=n(636682),B=n(496336),D=n(236411),L=n(806476),G=n(98682),W=n(977590),q=n(304483),F=n(398448),K=n(730832),H=n(983514),U=n(358055),Q=n(661533);function V(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){V(o,r,a,i,s,"next",e)}function s(e){V(o,r,a,i,s,"throw",e)}i(void 0)}))}}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var a=J(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}function ee(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(o,e);var t,n,r=$(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n=[{key:"template",get:function(){return"/tmpl/amo_market/page.twig"}},{key:"endpoint",get:function(){return"/ajax/amo-market/"}},{key:"preload",get:function(){return["stylesheets/_chunks/settings.css","stylesheets/_chunks/amo_market.css"]}},{key:"_getEndpointType",value:function(){return"GET"}},{key:"_classes",value:function(){return{amo_market:"amo-market",keys:"view-integration-modal__keys"}}},{key:"_selectors",value:function(){return{react:"#react"}}},{key:"_title",value:function(){return(0,C.i18n)("amoMarket")}},{key:"construct",value:function(e){this.integration_requests={},this.account_type="not_defined",this.initWidgetSettings=a().throttle(a().bind(this._initWidgetSettings,this),2e3,{trailing:!1});var t=function(t){return e.response?e.response[t]:APP.constant("widgets")[t]};this.webhooks_paid=t("webhooks_paid"),this.webhooks_count=t("webhooks_count")||0,this.can_review=Boolean(t("can_review")),this.is_tech_account=t("is_technical_account"),this.widgets_categories=t("widgets_categories"),this.integration_slides=t("integration_slides"),this.own_widgets_create_paid=t("own_widgets_create_paid"),this.main_day_recommendations=t("main_day_recommendations"),this.has_installed_integrations=t("has_installed_integrations"),this.widgets=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){X(e,t,n[t])}))}return e}({},this.main_day_recommendations||{}),S.default.setPipeline(APP.constant("main_pipeline")),this.createCollectionSource(APP.constant("main_pipeline")),this.leads_sources_collection&&this.leads_sources_collection.fetch(),this.unsubscribePubSub=this.subscribePubSub(),this.unmountReactComponent=this.mountReactComponent(),this.processQueryString()}},{key:"destruct",value:function(){var e=this;Q(document).one("page:changed",(function(){a().result(e,"unsubscribePubSub"),a().result(e,"unmountReactComponent")}))}},{key:"subscribePubSub",value:function(){var e=this,t=v().subscribe(y.default,(function(t,n){a().extend(e.widgets,n)}));return function(){v().unsubscribe(t)}}},{key:"mountReactComponent",value:function(){var e=this._elem("react").get(0),t=i().createElement(K.default,this.createProps()),n=s.createRoot(e);return n.render(t),function(){n.unmount()}}},{key:"createProps",value:function(){var e=this,t=this.isCategoryHash?window.location.hash.slice(10).replace(/-/g,"_"):void 0,n=a().toArray(this.widgets_categories);n.unshift({id:-1,code:"recommended",name:(0,C.i18n)("amoCRM picks")}),(0,A.isAmoChatsFullEnabled)()&&n.unshift({id:-2,code:"amochats",name:"amochats"});var r,o=a().map(this.main_day_recommendations,(function(e){return(0,_.default)(e)})),i=a().map(this.integration_slides,(function(e){return e.category_code?{src:e.src,alt:e.alt,categoryCode:e.category_code}:{src:e.src,integrationCode:e.integration_code}})),s=function(t){var n=e.widgets[t];n&&"base_integration"===n.type?e.openServiceCard(t):e.openWidgetCard(t)},c=this;return{initialCategory:t,initialMainDayRecommendations:o,categories:a().indexBy(l()(n),"code"),isIntegrator:Boolean(this.is_tech_account),initialWebhooksCount:this.webhooks_count,hasInstalledIntegrations:Boolean(this.has_installed_integrations),recommendedIntegrationSlides:i,onOpenIntegrationClick:function(t){e.createOnInstallIntegrationResultFn(t),e.openIntegrationCard(t)},onInstalledIntegrationClick:function(t){e.createOnInstallIntegrationResultFn(t),e.openIntegrationCard(t)},onIntegrationBannerClick:function(e){s(e)},onOpenIntegrationSupportChatClick:function(t){var n=t.developer.livechat,r=n.id,a=n.hash,o=n.userId,i=(0,E.current)();e._addComponent(T.default,{id:r,hash:a,locale:APP.lang_id,user_id:o,profile:{name:i.name,phone:i.personal_mobile,email:i.login,avatar:i.photo||(0,C.getDefaultAvatar)(i.id)}})},onIntegrationSlideClick:(r=Y((function(e){return ee(this,(function(t){switch(t.label){case 0:if(e!==F.TOCHKA_WIDGET_CODE)return[3,5];t.label=1;case 1:return t.trys.push([1,,3,4]),(0,I.showPageOverlay)(),[4,F.TochkaAcquiringEasyConnection.start()];case 2:return t.sent(),[3,4];case 3:return(0,I.hidePageOverlay)(),[7];case 4:return[2];case 5:return s(e),[2]}}))})),function(e){return r.apply(this,arguments)}),onUninstallIntegrationClick:function(){var e=Y((function(e){var t,n,r,a;return ee(this,(function(o){switch(o.label){case 0:return t=e.isBase,n=e.isExternal,r=e.code,t?[2]:(P.default.showMainOverlay(c._$body,{offset_left_menu:!0}),c.createOnInstallIntegrationResultFn(e,(function(){a.destroy(),P.default.hideMainOverlay()})),n?(a=c.openIntegration(r,{onModelFetched:function(){a.uninstallIntegration()}}),[3,3]):[3,1]);case 1:return[4,c.openWidgetCard(r,{onModalRenderDone:function(){c.Modal.uninstall()}})];case 2:o.sent(),a=c.Modal,o.label=3;case 3:return a.$el.hide(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),onWebhooksButtonClick:function(){return e.openWebhooksModal()},onCreateIntegrationClick:function(){e.onCreateIntegrationClick()}}}},{key:"isCategoryHash",get:function(){return 0===window.location.hash.indexOf("#category-")}},{key:"createOnInstallIntegrationResultFn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a().noop;this.onInstallResult=function(n){t(n),n?v().publish(H.LEGACY_INSTALL_INTEGRATION_EVENT,e):v().publish(U.LEGACY_UNINSTALL_INTEGRATION_EVENT,e)}}},{key:"openIntegrationCard",value:function(e){var t=e.code,n=e.isBase;switch(!0){case e.isExternal:this.openIntegration(t);break;case n:this.openServiceCard(t);break;default:this.openWidgetCard(t)}}},{key:"openWebhooksModal",value:function(){var e,t=this;return this.webhooks_modal=this._addComponent(x.default,{webhooks_paid:this.webhooks_paid}),this.webhooks_modal.on("destroy",(function(n){var r=n.hooks_count||0;t.webhooks_count=r,e(r)})),new Promise((function(t){e=t}))}},{key:"onCreateIntegrationClick",value:function(){this.choosePublicIntegrationType()}},{key:"choosePublicIntegrationType",value:function(){var e=this;this._addComponent(N.default,{own_widgets_create_paid:this.own_widgets_create_paid}).on("render:done",(function(){e.Modal&&a().isFunction(e.Modal.hide)&&e.Modal.hide()})).on("alert_modal:show",(function(){e.getAdditionalAgreementAndOpenWindow()})).on("external_integration:show",(function(){e.openEditIntegration(e.uuid,e.widget_code,"external")})).on("close:modal",(function(){e.Modal&&a().isFunction(e.Modal.show)&&e.Modal.show()}))}},{key:"getAdditionalAgreementAndOpenWindow",value:function(){var e=this;Q.ajax({url:"/ajax/v4/additional_agreements",dataType:"json"}).done((function(t){e.application_status=t.status,e.account_type=t.entity_type,e.is_new_account=t.is_new_account,e.is_tech_account=t.is_tech_account,"not_defined"===e.application_status&&e.is_new_account&&!e.is_tech_account?e.showAlertModal():"performed"===e.application_status||!e.is_new_account||e.is_tech_account?e.openEditIntegration(e.uuid,e.widget_code,"internal"):"accepted"===e.application_status&&(e.is_new_account||e.is_tech_account)&&e.showWaitingModal()}))}},{key:"showWaitingModal",value:function(){this.private_integration_waiting_modal=this._addComponent(M.default,{})}},{key:"showAlertModal",value:function(){var e=this;this._addComponent(j.default,{integration_type:this.integration_type}).on("close:modal",(function(){e.Modal&&a().isFunction(e.Modal.show)&&e.Modal.show()})).on("private_integration_form:show",(function(){e.showPrivateIntegrationForm()})).on("choose_public_integration_type:show",(function(){e.choosePublicIntegrationType(e.uuid,e.widget_code)}))}},{key:"showPrivateIntegrationForm",value:function(){var e=this;this._addComponent(R.default,{account_type:this.account_type,onModalClose:function(){e.showAlertModal()}})}},{key:"openEditIntegration",value:function(e,t,n,r){var o=this,i=this;this._addComponent(B.default,{uuid:e,mode:r,integration_type:n,own_widgets_create_paid:this.own_widgets_create_paid}).on("doneRender",(function(){o.Modal&&a().isFunction(o.Modal.hide)&&o.Modal.hide()})).on("doneSaving",(function(){var e=this;i.Modal&&a().isFunction(i.Modal.destroy)&&i.Modal.destroy(),i.requestInstalledAndOwn(!0).then((function(){(e.model.get("widget-archive")||e.model.get("has_widget"))&&i.openWidgetByName(t||e.model.get("code"))}))})).on("doneDelete",(function(){o.Modal&&a().isFunction(o.Modal.destroy)&&o.Modal.destroy(),o.requestInstalledAndOwn(!0)})).on("close:modal",(function(){o.Modal&&a().isFunction(o.Modal.show)&&o.Modal.show()}))}},{key:"requestInstalledAndOwn",value:function(){return Promise.resolve()}},{key:"openIntegration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=this.Modal,o=t.onModelFetched,i=void 0===o?a().noop:o,s=t.onRenderDone,c=void 0===s?a().noop:s,l=this._addComponent(D.default,{uuid:e,widget_modal:r,onModelFetched:i});return l.on("doneRender",(function(){c()})).on("openEdit",(function(){this.openEditIntegration(l.uuid,l.widget_code,l.integration_type,"edit"),l.destroy()}),this).on("doneDelete",(function(){APP.widgets.clear_cache(),n.requestInstalledAndOwn(!0)})).on("doneUpdate",(function(e){n.onInstallResult(e),APP.widgets.clear_cache(),n.requestInstalledAndOwn(!0)})),l}},{key:"openWidgetCard",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;return Y((function(){var r,o,i,s,c,l,u,d,f,p;return ee(this,(function(h){switch(h.label){case 0:return r=Promise.resolve(),i=t.onModalRenderDone,s=void 0===i?a().noop:i,c=t.onAfterUninstall,l=void 0===c?a().noop:c,u=t.onUpdate,d=void 0===u?a().noop:u,f=t.onDestroy,p=void 0===f?a().noop:f,e||(e=!1),n.widget_obj=APP.widgets.list[e]||!1,o=n.widgets[e]||{},a().isEmpty(o)?(P.default.showMainOverlay(n._$body,{offset_left_menu:!0}),[4,n.requestIntegrationByCode(e)]):[3,2];case 1:o=h.sent(),P.default.hideMainOverlay(),h.label=2;case 2:return a().isObject(n.widget_obj)&&!a().isEmpty(o.category_code)&&(n.widget_obj.params=a().extend(n.widget_obj.params,{category_code:o.category_code})),n.widget_obj||"N"===o.installable||o.tour&&o.tour.is_tour&&"installed"!==o.state?(o.oauth_client_uuid&&(r=n.getOAuthIntegrations(o.oauth_client_uuid)),[2,r.then(a().bind((function(t){o.client&&t&&a().extend(o.client,t),this.Modal=new L.default({widget:o,widget_code:e,widgets:this.widgets,new_design:o.new_design,is_loaded:!!(o.tour&&o.tour.is_tour&&this.widget_obj),preload_templates:["langs/secretKey"],afterInit:a().bind((function(e){this.$modal_body=e}),this),onAfterRender:a().bind((function(){o.oauth_client_uuid&&this.initOAuthKeys(o.oauth_client_uuid),s()}),this),onAfterInstall:a().bind((function(e){var t={recommended:{code:"recommended"}};e.params&&e.params.category_code&&(t[e.params.category_code]={code:e.params.category_code}),d(),this.onInstallResult(!0),this.requestInstalledAndOwn(!0,t)}),this),onAfterUninstall:a().bind((function(){this.onInstallResult(!1),l(),d(),this.requestInstalledAndOwn(!0,this.widgets_categories)}),this),onAfterPostSettings:function(){},destroy:function(){p()},openOauthModal:a().bind((function(t){this.openEditIntegration(t,e,"common")}),this),setSettings:a().bind((function(t){w.default.prototype.init_by_click(e,o.status).then(t).fail(a().bind((function(){(new q.default).showError("",!1),P.default.hideMainOverlay()}),this))}))})}),n))]):[2,n.initWidgetSettings(e,o.status)]}}))}))()}},{key:"requestIntegrationByCode",value:function(e){var t=this,n=this.integration_requests[e];if(n)return n;var r=this._requestIntegrationByCode(e);return this.integration_requests[e]=r,r.then((function(){delete t.integration_requests[e]})),r}},{key:"_requestIntegrationByCode",value:function(e){var t=this;return Y((function(){var n;return ee(this,(function(r){switch(r.label){case 0:return[4,Q.ajax({url:"/ajax/settings/widgets/category/own_integrations/1/?only_code=".concat(e)})];case 1:return n=r.sent().integrations,a().each(n,(function(e,n){t.widgets[n]=e})),[2,t.widgets[e]]}}))}))()}},{key:"stopLoadingScriptWidget",value:function(){this.close_overlay=!0}},{key:"_initWidgetSettings",value:function(e,t){return P.default._$overlay&&P.default._$overlay.visible()||P.default.showMainOverlay(this._$body),this.close_overlay?(P.default.hideMainOverlay(),void(this.close_overlay=!1)):w.default.prototype.init_by_click(e,t).then(a().bind((function(){return P.default.hideMainOverlay(),this.openWidgetCard(e)}),this)).fail(a().bind((function(){P.default.hideMainOverlay(),this.widgets[e]&&this.widgets[e].oauth_client_uuid?this.openIntegration(this.widgets[e].oauth_client_uuid):(new q.default).showError("",!1)}),this))}},{key:"initOAuthKeys",value:function(e){this.integration_key=this._addComponent(G.default,{el:this.$modal_body.find(this._selector("keys")).get(0),uuid:e})}},{key:"getOAuthIntegrations",value:function(e){return Q.ajax("/ajax/v3/clients/"+e)}},{key:"fetchEndpoints",value:function(){var e=this;return Y((function(){var t,n;return ee(this,(function(r){switch(r.label){case 0:return e.endpoints?[2]:(t=APP.constant("main_pipeline"),[4,Q.ajax({url:"/ajax/settings/pipeline/leads/".concat(t,"/handler_endpoints")})]);case 1:return n=r.sent(),e.endpoints=n,[2]}}))}))()}},{key:"openServiceCard",value:function(e){var t=this;return Y((function(){return ee(this,(function(n){switch(n.label){case 0:return e=e.toLowerCase(),[4,d()._preload(["/tmpl/settings/widgets/service_settings.twig","/tmpl/digital_pipeline/modal_templates/popular_chat/"+e+".twig"])()];case 1:return n.sent(),[4,t.fetchEndpoints()];case 2:return n.sent(),[4,t._openServiceCard(e)];case 3:return n.sent(),[2]}}))}))()}},{key:"_openServiceCard",value:function(e){var t=this;return Y((function(){var n,r;return ee(this,(function(o){switch(o.label){case 0:if(n={onDestroy:a().bind(t.destroyModal,t),pipeline_id:APP.constant("main_pipeline"),name:e,update:a().bind(t.leads_sources_collection.update,t.leads_sources_collection),getSourcesByType:a().bind(t.getSourcesByType,t),has_integrate_page:!0,endpoints:t.endpoints,from_widget_page:!0,afterUpdate:function(e){t.onInstallResult(Boolean(e)),t.requestInstalledAndOwn(!0)}},(0,A.isAmoChatsFullEnabled)()&&a().extend(n,{openWidgetCard:a().bind(t.openWidgetCard,t)}),e)return(0,W.default)(e).then((function(e){t.$service_modal=t._addComponent(e,n),t._$window.on("storage"+t.ns,a().bind(t.localStorageCheck,t))})),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,w.default.prototype.init_by_click(e)];case 2:return o.sent(),Q("#"+e).trigger("click"),[3,4];case 3:return r=o.sent(),console.error(r),(new q.default).showError("",!1),P.default.hideMainOverlay(),[3,4];case 4:return[2]}}))}))()}},{key:"destroyModal",value:function(){this.$service_modal&&this._destroyComponent(this.$service_modal),this._$window.off("storage"+this.ns)}},{key:"localStorageCheck",value:function(){if(m().get("auth_error")){if("Unauthenticated user"===m().get("auth_error")){var e=[(0,C.i18n)("Authorization error").toUpperCase(),(0,C.i18n)("GOOGLE_ADS_ERROR_MANAGER_ACCOUNT_REQUIRED"),APP.constant("is_kommo")?(0,C.i18n)("GOOGLE_ADS_KOMMO_INSTRUCTION_LINK"):(0,C.i18n)("GOOGLE_ADS_AMO_INSTRUCTION_LINK")];(new q.default).showError(e,!1)}else(new q.default).showError(m().get("auth_error"),!1);this._$window.off("storage"+this.ns),m().set("save_auth_error",m().get("auth_error")),m().remove("auth_error")}}},{key:"processQueryString",value:function(){var e,t=(0,k.QStoJSON)(window.location.search);if(a().isUndefined(t.widget_code)||""===t.widget_code){var n=window.location.hash.slice(1);n&&!this.isCategoryHash&&(e=n,window.location.hash="")}else e=t.widget_code;e&&this.openWidgetCard(e),t.webhooks_modal&&"y"===t.webhooks_modal.toLowerCase()&&this.openWebhooksModal()}}],n&&z(t.prototype,n),o}(b.default);p().mixin(te,O.default);const ne=te},23456:(e,t,n)=>{"use strict";n.r(t),n.d(t,{kommoLogAmplitude:()=>o});var r=n(629133),a=n.n(r),o=function(e,t,n){a().isFunction(window.logAmplitudeEvent)&&window.logAmplitudeEvent(e,t,n)},i="../build/transpiled/utils/analytics/amplitude";window.define(i,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([i])},273218:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(629133),a=n.n(r),o=n(827378),i=n(292554),s=n.n(i),c=n(724329),l=n(916569),u=n(529062),d=n(701106),f=n(12615),p=n(445368),h=n(464702),m=n(500034),g=n(998798),v=n(226764),y=n(422859),_=n(532153),b=n(827378);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=s().bind(_.default),k=(0,h.getCDNPath)("/frontend/images/interface/i/"),C=function(e){var t=e.variant,n=e.isRetina,r=void 0!==n&&n;return t===y.ErrorVariants.CONNECTION_PROBLEM?v.default:"".concat(k,r?"black_hole_2x.png":"black_hole.png")},A=function(){var e="/leads/";switch(!0){case(0,g.isImboxSection)():e=(0,m.isFeatureAvailable)("is_customization_for_global")?"/chats/":"/imbox/";break;case APP.isCard()&&"leads"===APP.getBaseEntity():case"leads-pipeline"===APP.data.current_entity:e="/leads/";break;case"mail"===APP.getBaseEntity():e="/mail/inbox/"}return{handleClick:function(){APP.router.navigate(e,{replace:!0,trigger:!0})}}}().handleClick;const I=function(e){var t=(0,o.useRef)(a().noop),n=function(){f.default.check().fail((function(){t.current()})).done((function(){return APP.router.reload()}))},r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({},(0,c.useConst)((function(){var e;return w(e={},y.ErrorVariants.NO_ACCESS,{title:(0,p.i18n)("You can't view this page"),text:"".concat((0,p.i18n)("This content may have been deleted,"),"\n").concat((0,p.i18n)("or you dont have permission to view it.")),buttonText:(0,p.i18n)("Go back"),onButtonClick:A}),w(e,y.ErrorVariants.CONNECTION_PROBLEM,{title:"".concat((0,p.i18n)("Can't connect to")," ").concat((0,p.i18n)("{{brand_name.without_article}}")),text:(0,p.i18n)("Please check your connection and try again."),buttonText:(0,p.i18n)("Refresh"),onButtonClick:n}),e}))[e.variant],e),i=r.variant,s=r.title,h=r.text,m=r.buttonText,g=r.onButtonClick;return b.createElement("div",{className:E("wrapper")},b.createElement("div",{className:E("content")},b.createElement("div",{className:E("central-block")},b.createElement("picture",{className:E("image-wrapper")},b.createElement("img",{src:C({variant:i}),alt:i.split("_").join(" "),srcSet:C({variant:i,isRetina:!0}),className:E("image")})),b.createElement("div",{className:E("text-block")},b.createElement(d.default,{type:"h2",size:"xxl",className:E("title")},s),b.createElement(l.Text,{theme:l.TextPrimaryTheme,className:E("description"),size:"l"},h)),b.createElement(u.Button,{theme:u.ButtonNeutralTheme,onClick:function(){g()},className:E("button"),showInvalidAnimationRef:t},m))))}},226764:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="data:image/png;base64,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"},775813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ErrorMessage:()=>r.default,ErrorVariants:()=>a.ErrorVariants});var r=n(273218),a=n(422859)},422859:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{ErrorVariants:()=>r}),function(e){e.NO_ACCESS="no_access",e.CONNECTION_PROBLEM="connection_problem"}(r||(r={}))},196585:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="amo-market"},234561:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=["chats_and_messengers","amochats"]},906886:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="legacy:integrations:fetched"},155436:(e,t,n)=>{"use strict";n.r(t),n.d(t,{preInstallWidget:()=>c});var r=n(785561),a=n(497491);function o(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var i,s,c=(i=function(){var e,t,n;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){switch(o.label){case 0:return[4,(0,r.getIsInstall)(a.TOCHKA_WIDGET_CODE)];case 1:return e=o.sent(),t=e.id,"install"!==e.status?[2,Promise.resolve()]:(n="widgetsSettings"===APP.getBaseEntity(),[4,(0,r.editWidget)({id:t,action:"edit",code:a.TOCHKA_WIDGET_CODE,widgetActive:"S",settings:{text:""},isWidgetStateAction:0,isMarketplaceRequest:n?1:0})]);case 2:return o.sent(),[2]}}))},s=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=i.apply(e,t);function s(e){o(a,n,r,s,c,"next",e)}function c(e){o(a,n,r,s,c,"throw",e)}s(void 0)}))},function(){return s.apply(this,arguments)})},398448:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TOCHKA_WIDGET_CODE:()=>a.TOCHKA_WIDGET_CODE,TochkaAcquiringEasyConnection:()=>r.EasyConnection});var r=n(657117),a=n(497491)},508070:(e,t,n)=>{"use strict";n.r(t),n.d(t,{clearInternalRoutes:()=>a});var r=n(323344),a=function(){var e=(0,r.removeQueryParam)("tochka_page"),t="".concat(window.location.pathname).concat(e?"?".concat(e):"");APP.router.navigate(t,{replace:!0,trigger:!1})}},947892:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InternalRoutes:()=>o.InternalRoutes,clearInternalRoutes:()=>a.clearInternalRoutes,navigateTo:()=>r.navigateTo});var r=n(192277),a=n(508070),o=n(615036)},192277:(e,t,n)=>{"use strict";n.r(t),n.d(t,{navigateTo:()=>a});var r=n(323344),a=function(e){APP.router.navigate((0,r.setQueryParam)({tochka_page:e}),{replace:!0,trigger:!1})}},615036:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{InternalRoutes:()=>r}),function(e){e.EasyConnection="easy-connection"}(r||(r={}))},657117:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EasyConnection:()=>d});var r=n(288410),a=n(304483),o=n(155436),i=n(947892),s=n(497491);function c(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))}}function u(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var d={start:function(){return l((function(){var e,t,c;return u(this,(function(d){switch(d.label){case 0:return d.trys.push([0,2,3,5]),[4,(0,o.preInstallWidget)()];case 1:return d.sent(),[3,5];case 2:return e=d.sent(),console.error(e),[3,5];case 3:return[4,Promise.all([n.e(1296),n.e(6476),n.e(17008)]).then(n.bind(n,806476))];case 4:return t=d.sent(),c=t.default,(0,i.navigateTo)(i.InternalRoutes.EasyConnection),new c({widget_code:s.TOCHKA_WIDGET_CODE,setSettings:function(){var e=l((function(e){return u(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,r.default.prototype.init_by_click(s.TOCHKA_WIDGET_CODE)];case 1:return t.sent(),e(),[3,3];case 2:return t.sent(),(new a.default).showError("",!1),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),destroy:function(){(0,i.clearInternalRoutes)()}}),[7];case 5:return[2]}}))}))()}}},497491:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TOCHKA_WIDGET_CODE:()=>r});var r="amo_tochkacq"},47121:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(398457),a=n.n(r),o=n(827378);function i(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}const s=function(e){var t=e.throttle,n=void 0===t?100:t,r=e.toBottomSpace,s=void 0===r?250:r,c=e.scrollElementRef,l=e.handler;(0,o.useEffect)((function(){var e,t,r=c&&"current"in c?c.current:window,o=new(a())({scrollElement:r,conditions:{"max-bottom":s},throttle:n,handler:(e=function(e,t){var n;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,l()];case 1:return e.sent(),[3,3];case 2:return n=e.sent(),console.error('There is an exception while "useAutoload" handler awaiting',n),[3,3];case 3:return t(),[2]}}))},t=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,c,"next",e)}function c(e){i(o,r,a,s,c,"throw",e)}s(void 0)}))},function(e,n){return t.apply(this,arguments)})});return function(){o.stop()}}),[l])}},730832:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var r=n(629133),a=n.n(r),o=n(292554),i=n.n(o),s=n(827378),c=n.n(s),l=n(456552),u=n(529062),d=n(491967),f=n(701106),p=n(199525),h=n(248243),m=n(196585),g=n(445368),v=n(450422),y=n(614759),_=n(983514),b=n(358055),w=n(329421),E=n(538902),k=n(111235),C=n(259851),A=n(497372),I=n(511339);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){P(e,t,n[t])}))}return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=i().bind(I.default);const j=(0,y.withQueryProvider)((function(e){var t,n,r=e.initialCategory,o=void 0===r?"recommended":r,i=e.initialWebhooksCount,y=e.initialMainDayRecommendations,I=e.categories,S=e.isIntegrator,P=e.recommendedIntegrationSlides,j=e.hasInstalledIntegrations,R=e.onOpenIntegrationClick,M=e.onWebhooksButtonClick,B=e.onCreateIntegrationClick,D=e.onInstalledIntegrationClick,L=e.onUninstallIntegrationClick,G=e.onIntegrationBannerClick,W=e.onOpenIntegrationSupportChatClick,q=e.onIntegrationSlideClick,F=(0,l.useQueryClient)(),K=(0,s.useMemo)((function(){return[{text:(0,g.i18n)("Developer portal"),icon:"settings-key",className:N("context-item"),_blank:!0,href:"https://www.amocrm.ru/developers/content/integrations/intro"},{text:(0,g.i18n)("Create integration"),absoluteIcon:"controls--button-add",id:"add-integration",className:N("context-item")}]}),[]),H=(0,v.isAmoChatsFullEnabled)(),U=(0,s.useRef)(null),Q=T((0,s.useState)(""),2),V=Q[0],Y=Q[1],z=T((0,s.useState)(i),2),X=z[0],J=z[1],Z=T((0,s.useState)(!1),2),$=Z[0],ee=Z[1],te=T((0,s.useState)(j),2),ne=te[0],re=te[1],ae=T((0,s.useState)(y),2),oe=ae[0],ie=ae[1],se=T((0,s.useState)(H?"amochats":o),2),ce=se[0],le=se[1],ue=(0,_.default)({onBeforeInstall:function(e){var t=e.code;ne||re(!0),a().findWhere(oe,{code:t})&&ie((function(e){return a().map(e,(function(e){return e.code!==t?e:ue(e)}))}))}}).mutateIntegrationToInstalled,de=(0,b.default)({onBeforeUninstall:function(e){var t=e.code;a().findWhere(oe,{code:t})&&ie((function(e){return a().map(e,(function(e){return e.code!==t?e:de(e)}))}))}}).mutateIntegrationToUninstalled,fe=function(e){G(e)},pe=(t=function(){var e;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(t){switch(t.label){case 0:return[4,M()];case 1:return e=t.sent(),J(e),[2]}}))},n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){O(o,r,a,i,s,"next",e)}function s(e){O(o,r,a,i,s,"throw",e)}i(void 0)}))},function(){return n.apply(this,arguments)});return(0,s.useEffect)((function(){return function(){F.removeQueries({predicate:function(e){for(var t=e.queryKey;a().isArray(t);)t=t[0];return t===m.default}})}}),[]),c().createElement("div",{ref:U,className:N("amo-market",{"amo-market--search-active":$,"amo-market--integrator":S,"amo-market--trial":H})},c().createElement("div",{className:N("header")},c().createElement("div",{className:N("header-top")},c().createElement("div",{className:N("burger",{"burger--integrator":S})},c().createElement("div",{className:"".concat(N("burger-inner")," js-aside_toggler")},c().createElement(d.default,{type:"png",name:"icon-list"}))),c().createElement(f.default,{type:"h2",size:"l",className:N("header-title",{"header-title--integrator":S}),isCaption:!0},"amo",c().createElement("span",{style:{textTransform:"uppercase"}},(0,g.i18n)("Market"))),H?null:c().createElement(c().Fragment,null,c().createElement(h.default,{className:N("search"),value:V,onChange:function(e){return Y(e)}}),c().createElement("div",{className:N("buttons")},c().createElement(p.default,{reactContainerClassName:"".concat(N("context-button-react-container")," search-more"),buttonClassName:N("context-button"),menuClassName:N("context-menu"),onItemClick:function(e){"add-integration"===e.currentTarget.id&&B()},items:K}),c().createElement(u.Button,{theme:u.ButtonNeutralTheme,className:N("webhooks-button"),before:c().createElement(d.default,{type:"svg",name:"controls--button-add"}),after:c().createElement(c().Fragment,null,Boolean(X)&&c().createElement("span",{className:N("webhooks-counter",{"webhooks-counter--single":1===X.toString().length})},X)),onClick:pe},"WEB HOOKS")))),!$&&!H&&c().createElement(E.default,{categories:x({},ne?{installed:{code:"installed",id:"installed",name:(0,g.i18n)("Installed (integrations)")}}:{},I),selectedCategoryCode:ce,onCategoryChange:function(e){le(e)}})),c().createElement("div",{className:N("content")},"installed"===ce&&!$&&c().createElement(C.default,{onInstalledIntegrationClick:D,onUninstallIntegrationClick:L,onOpenIntegrationSupportChatClick:W}),"recommended"===ce&&!$&&c().createElement(k.default,{categories:I,onShowAllLinkClick:function(e){le(e)},onOpenIntegrationClick:R,integrationSlides:P,mainDayRecommendations:oe,isIntegrator:S,onCategorySlideClick:function(e){le(e)},onIntegrationBannerClick:fe,onIntegrationSlideClick:q}),!a().includes(["installed","recommended"],ce)&&!$&&c().createElement(A.default,{key:ce,category:I[ce],onOpenIntegrationClick:R,onIntegrationBannerClick:fe,isIntegrator:S,isBannerShow:!H,isTitleShow:!H}),c().createElement(w.default,{onActiveChange:function(e){ee(e)},searchValue:V,onOpenIntegrationClick:R,onShowAllClick:function(){le("recommended"),Y("")},isIntegrator:S})))}))},538902:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(629133),a=n.n(r),o=n(827378),i=n.n(o),s=n(292554),c=n.n(s),l=n(199525),u=n(479098),d=n(344737),f=c().bind(d.default);const p=function(e){var t=e.categories,n=e.selectedCategoryCode,r=e.onCategoryChange,s=(0,o.useRef)(null),c=(0,o.useRef)(),d=(0,u.default)({ref:s,itemSelector:".".concat(f("link")),categories:a().keys(t),hiddenClass:"hidden"}).hiddenCategoryCodesHashMap,p=a().toArray(t),h=a().chain(d).keys().reduce((function(e,t){return d[t]&&e.push(t),e}),[]).value(),m=a().map(h,(function(e){var r=t[e],a=r.name,o=r.code;return{text:a,href:"#category-".concat(o.replace(/_/g,"-")),className:f("context-item"),textClassName:f({"context-text-active":o===n}),additionalData:"data-code=".concat(o)}}));return i().createElement("nav",{ref:s,className:f("categories-bar",{"categories-bar--hidden-categories":h.length})},a().map(p,(function(e){var t=e.code,a=e.name;return i().createElement("a",{key:t,"data-code":t,href:"#category-".concat(t.replace(/_/g,"-")),className:f("link",{"link--selected":t===n,hidden:d[t]}),onClick:function(){r(t)}},a)})),Boolean(h.length)&&i().createElement(l.default,{reactContainerClassName:"".concat(f("context-button-react-container")," search-more"),buttonClassName:f("context-button",{"context-button--selected":d[n]}),buttonContainerClassName:f("context-button-container"),menuClassName:f("context-menu"),items:m,onClick:function(e){e.stopPropagation()},onItemClick:function(e){var t=e.currentTarget,n=t.dataset.code,a=f("context-button-react-container--hover"),o=t.closest(".".concat(a));o&&o.classList.remove(a);var i=s.current;i&&i.classList.remove(f("categories-bar--hover--active")),n&&r(n)},onMouseEnter:function(e){var t=e.target,n=s.current;n&&n.classList.add(f("categories-bar--hover--active")),t.classList.add(f("context-button-react-container--hover"))},onMouseLeave:function(e){var t=e.target,n=s.current;c.current&&clearTimeout(c.current),c.current=setTimeout((function(){t.querySelector(":hover")||(n&&n.classList.remove(f("categories-bar--hover--active")),t.classList.remove(f("context-button-react-container--hover")))}),200)}}))}},479098:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(827378),a=n(629133),o=n.n(a);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const s=function(e){var t,n,a=e.ref,s=e.itemSelector,c=e.categories,l=e.hiddenClass,u=(t=(0,r.useState)({}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],f=u[1];return(0,r.useEffect)((function(){var e=a.current;if(e){var t=getComputedStyle(e),n=parseInt(t.paddingLeft),r=parseInt(t.paddingLeft),i=e.querySelectorAll(s),c=o()(i).reduce((function(e,t){var n=!1;t.classList.contains(l)&&(n=!0,t.classList.remove("hidden"));var r=getComputedStyle(t),a=t.dataset.code;return a&&(e[a]=t.offsetWidth+parseInt(r.marginRight)),n&&t.classList.add("hidden"),e}),{}),u=function(){var t=e.offsetWidth,a=e.querySelectorAll(s),i=n+r,l=o().once((function(){i+=60})),u={};return o().each(a,(function(e,n){var r=e.dataset.code;if(r){var o=(i+=c[r])>t;u[r]=o;var s=a[n+1];if(s&&!o){var d=s.dataset.code;d&&i+c[d]>t&&(l(),(o=i>t)&&(u[r]=o))}}})),f(u),0};return u(),window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}}),[c.join("")]),{hiddenCategoryCodesHashMap:d}}},497372:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(827378),a=n(292554),o=n.n(a),i=n(629133),s=n.n(i),c=n(234561),l=n(47121),u=n(247844),d=n(167038),f=n(970302),p=n(610438),h=n(276138),m=n(827378);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=o().bind(h.default);const _=function(e){var t=e.category,n=e.onOpenIntegrationClick,a=e.isIntegrator,o=e.onIntegrationBannerClick,i=e.isBannerShow,h=void 0===i||i,g=e.isTitleShow,_=void 0===g||g,b=t.code,w=(0,r.useRef)(null),E=(0,p.default)({categoryCode:b}),k=E.fetchNextPage,C=E.integrations,A=E.isLoading,I=E.banner,S=E.dayRecommendations,O=(0,u.default)(),P=O.integrations,x=O.isLoading;(0,l.default)({handler:k,toBottomSpace:500,throttle:300}),(0,r.useEffect)((function(){return function(){window.scrollTo({top:0})}}),[]),(0,r.useEffect)((function(){var e=w.current;if(P.length&&e){var t=e.getBoundingClientRect(),n=document.body.getBoundingClientRect(),r=t.y<0,a=t.bottom>n.bottom;r||a||setTimeout((function(){k()}))}}),[P.length,k]);var T,N,j=s().include(c.default,b),R=A&&!C.length,M=[];j&&(R||x)||(j&&(N=M).push.apply(N,v(P)),(T=M).push.apply(T,v(C)));return m.createElement("div",null,Boolean(S.length)&&m.createElement(d.default,{className:y("category-list"),category:{code:"day_recommendation_".concat(b),id:"day_recommendation_".concat(b),name:" "},initialWidth:(0,f.default)(a),integrations:S,onOpenIntegrationClick:n,isTitleShow:_}),m.createElement(d.default,{ref:w,className:y("category-list"),category:t,initialWidth:(0,f.default)(a),integrations:M,isLoading:j?A||x:A,banner:I,isBannerShow:h,onIntegrationBannerClick:o,onOpenIntegrationClick:n,bannerPosition:"left",isTitleShow:_}))}},610438:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E,fetchCategoryPage:()=>w,generateQueryKey:()=>b,generateQueryKeyName:()=>_});var r=n(629133),a=n.n(r),o=n(661533),i=n.n(o),s=n(267651),c=n.n(s),l=n(827378),u=n(456552),d=n(906886),f=n(196585),p=n(215164);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function g(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}var v,y,_=function(e){return[f.default,"widgets-category-".concat(e)]},b=function(e,t){return[_(e),t]},w=(v=function(e){var t,n,r,o,s,l,u,f,h,m,g,v;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(y){switch(y.label){case 0:return t=e.page,n=e.categoryCode,[4,i().ajax({url:"/ajax/settings/widgets/category/".concat(n,"/").concat(t),data:{limit:19,offset:19*(t-1)}})];case 1:return r=y.sent(),o=r.count,s=r.banner,l=r.integrations,u=r.day_recommendations,c().publish(d.default,l),c().publish(d.default,u),f={},h={},m=19*t<o?t+1:void 0,g=a().map(l,(function(e){return f[e.code]=1,(0,p.default)(e)})),v=a().map(u,(function(e){return h[e.code]=1,(0,p.default)(e)})),[2,{page:t,nextPage:m,count:o,integrations:g,banner:s?{src:s.src,integrationCode:s.integration_code}:void 0,dayRecommendations:v,integrationsHashMap:f,dayRecommendationHashMap:h}]}}))},y=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=v.apply(e,t);function o(e){m(a,n,r,o,i,"next",e)}function i(e){m(a,n,r,o,i,"throw",e)}o(void 0)}))},function(e){return y.apply(this,arguments)});const E=function(e){var t,n,r,o,i,s,c=e.categoryCode,d=(i=(0,l.useState)(1),s=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(i,s)||g(i,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=d[0],p=d[1],m=a().map(new Array(f).fill(null),(function(e,t){var n=t+1;return{queryFn:function(){return w({page:n,categoryCode:c})},queryKey:b(c,n)}})),v=(0,u.useQueries)(m),y=a().last(v),_=(0,l.useCallback)((function(){var e;y&&(null===(e=y.data)||void 0===e?void 0:e.nextPage)&&p(f+1)}),[f,y]),E=a()(v).reduce((function(e,t){var n,r=t.data;return r&&(n=e).push.apply(n,function(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.integrations)),e}),[]),k=null===(n=a().first(v))||void 0===n||null===(t=n.data)||void 0===t?void 0:t.banner,C=(null===(o=a().first(v))||void 0===o||null===(r=o.data)||void 0===r?void 0:r.dayRecommendations)||[];return{isLoading:Boolean(null==y?void 0:y.isLoading),fetchNextPage:_,integrations:E,dayRecommendations:C,banner:k}}},167038:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(629133),a=n.n(r),o=n(827378),i=n.n(o),s=n(292554),c=n.n(s),l=n(701106),u=n(445368),d=n(609611),f=n(568374),p=c().bind(f.default),h=i().forwardRef((function(e,t){var n=e.className,r=void 0===n?"":n,o=e.count,s=e.integrations,c=e.banner,f=e.isBannerShow,h=void 0===f||f,m=e.bannerPosition,g=void 0===m?"right":m,v=e.isOverflowHidden,y=void 0!==v&&v,_=e.onShowAllLinkClick,b=void 0===_?a().noop:_,w=e.initialWidth,E=e.category,k=e.isLoading,C=e.isTitleShow,A=void 0===C||C,I=e.onOpenIntegrationClick,S=e.onIntegrationBannerClick,O=void 0===S?a().noop:S;return i().createElement("div",{className:r,ref:t},A&&i().createElement("div",{className:p("header")},i().createElement(l.default,{className:p("title"),type:"h2",size:"xl"},E.name),Boolean(o)&&i().createElement("a",{className:"".concat(p("link")," std-link"),href:"#category-".concat(E.code.replace(/_/g,"-")),onClick:b},(0,u.i18n)("Show all (look at)")," (",o,")")),i().createElement(d.default,{integrations:s,initialWidth:w,isLoading:k,banner:c,isBannerShow:h,bannerPosition:g,isOverflowHidden:y,onOpenIntegrationClick:I,onIntegrationBannerClick:O}))}));h.displayName="CategoryList";const m=h},259851:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(827378),a=n.n(r),o=n(629133),i=n.n(o),s=n(292554),c=n.n(s),l=n(916569),u=n(701106),d=n(445368),f=n(247844),p=n(293584),h=n(55550),m=n(307720),g=n(293949);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=c().bind(g.default);const b=function(e){var t=e.onInstalledIntegrationClick,n=e.onUninstallIntegrationClick,r=e.onOpenIntegrationSupportChatClick,o=(0,p.default)(),s=o.integrations,c=void 0===s?[]:s,g=o.isLoading,v=(0,f.default)(),b=v.installedIntegrations;if(v.isLoading||g)return a().createElement("div",{className:_("installed")},a().createElement(m.default,null));var w=[],E=[];return i().each(y(b).concat(y(c)),(function(e){var o=e.id,i=e.code,s=e.isPrivate,c=a().createElement(h.default,{integration:e,key:"".concat(i,"-").concat(o),className:_("integration"),onOpenClick:function(){t(e)},onUninstallClick:function(){n(e)},onOpenSupportChatClick:function(){r(e)}});s?E.push(c):w.push(c)})),a().createElement("div",{className:_("installed")},a().createElement("div",null,Boolean(w.length)&&w),a().createElement("div",null,Boolean(E.length)&&a().createElement(a().Fragment,null,a().createElement("div",{className:_("disclaimer",{"disclaimer--single":!w.length})},a().createElement(u.default,{className:_("title"),size:"xl",type:"h2"},(0,d.i18n)("Private integrations")),a().createElement(l.Text,{theme:l.TextPrimaryTheme,className:_("text"),size:"l"},(0,d.i18n)("Your account is customized, and you have the ability to use private integrations."),a().createElement("br",null),(0,d.i18n)("Unlike integrations in our marketplace, private integrations have not been tested by the amoCRM team."),a().createElement("br",null),(0,d.i18n)("Use them at your own risk  private integrations can greatly affect the interface and display of data, making it impossible to provide support for your account."))),E)))}},55550:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(629133),a=n.n(r),o=n(827378),i=n.n(o),s=n(292554),c=n.n(s),l=n(230385),u=n.n(l),d=n(916569),f=n(529062),p=n(701106),h=n(445368),m=n(673950),g=n(10328),v=c().bind(g.default);const y=function(e){var t,n=e.integration,r=n.isPrivate,o=n.isBase,s=n.isExternal,c=n.isDisconnected,l=n.name,g=n.categories,y=n.developer,_=n.image,b=n.subscription,w=n.lastInstalledAt,E=n.payment,k=e.className,C=void 0===k?"":k,A=e.onOpenClick,I=e.onUninstallClick,S=e.onOpenSupportChatClick;g&&(t=a()(g).reduce((function(e,t){var n=t.name;return e?"".concat(e,", ").concat(n):n}),""));var O,P=!(!r&&!s)&&c,x=Boolean(null==b?void 0:b.isExpired);if(x){if(O=(0,h.i18n)("Expired (amoMarket)"),b){var T=u().unix(b.activeTo).tz(APP.system.timezone).format(APP.system.format.date.date);O="".concat(O," ").concat(T)}}else if(P)O=(0,h.i18n)("Disconnected (integration)");else if(O=(0,h.i18n)("Installed"),w){var N=u().unix(w).tz(APP.system.timezone).format(APP.system.format.date.date);O="".concat(O," ").concat(N)}return i().createElement("div",{className:"".concat(v("integration",{"integration--private":r})," ").concat(C)},i().createElement("div",{className:v("main-info"),onClick:function(){A()}},i().createElement("img",{src:_,className:v("image"),alt:l}),i().createElement("div",{className:v("wrapper")},i().createElement(p.default,{size:"l",type:"h3",className:"".concat(v("integration-name")),title:l},l),i().createElement(d.Text,{theme:d.TextSecondaryDarkTheme,size:"m",className:"h-text-overflow"},t))),i().createElement("div",{className:v("status")},i().createElement(d.Text,{theme:d.TextPrimaryTheme,className:v({"status--expired":x,"status--disconnected":P}),size:"m"},O)),y&&i().createElement("div",{className:v("developer")},i().createElement(d.Text,{theme:d.TextSecondaryLightTheme,size:"m",maxRows:2,title:y.name||l},(0,h.i18n)("Developer"),": ",y.name||l),y.livechat&&"subscription"===E.type&&i().createElement("button",{className:"".concat(v("developer-support")),onClick:function(){S()}},i().createElement(d.Text,{theme:d.TextSecondaryLightTheme,size:"m",className:"".concat(v("developer-support-text"))},(0,h.i18n)("Technical support")))),i().createElement("div",{className:v("manage-block")},!o&&!P&&i().createElement(f.Button,{theme:r?m.InstalledPrivateIntegrationButtonTheme:m.InstalledIntegrationButtonTheme,className:v("manage"),onClick:function(){I()}},(0,h.i18n)("disable"))))}},307720:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(629133),a=n.n(r),o=n(827378),i=n.n(o),s=n(292554),c=n.n(s),l=n(683534),u=n(445696),d=c().bind(u.default),f=function(){return i().createElement("div",{className:"".concat(d("integration"))},i().createElement("div",{className:d("main-info")},i().createElement(l.default,{className:d("image")}),i().createElement("div",{className:d("wrapper")},i().createElement(l.default,{className:d("text"),width:"".concat(a().random(60,80),"%")}),i().createElement(l.default,{className:d("text"),width:"".concat(a().random(30,60),"%")}))),i().createElement("div",{className:d("status")},i().createElement(l.default,{className:d("text"),width:"".concat(a().random(40,60),"%")})),i().createElement("div",{className:d("developer")},i().createElement(l.default,{className:d("text"),width:"".concat(a().random(40,60),"%")}),i().createElement(l.default,{className:d("text"),width:"40%"})),i().createElement("div",{className:d("manage-block")},i().createElement(l.default,{className:d("button")})))};const p=i().memo(f)},673950:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.r(t),n.d(t,{InstalledIntegrationButtonTheme:()=>i,InstalledPrivateIntegrationButtonTheme:()=>s});var i=o(a({},n(529062).ButtonNeutralTheme),{"--crm-ui-kit-button-color":"var(--palette-text-secondary-dark)","--crm-ui-kit-button-hover-color":"var(--palette-text-secondary-dark)","--crm-ui-kit-button-background-color":"var(--palette-background-default)","--crm-ui-kit-button-hover-background-color":"var(--palette-background-default)","--crm-ui-kit-button-border-color":"var(--palette-border-default)","--crm-ui-kit-button-hover-border-color":"var(--palette-border-default)"}),s=o(a({},i),{"--crm-ui-kit-button-border-color":"#848c90","--crm-ui-kit-button-hover-border-color":"#848c90"})},293584:(e,t,n)=>{"use strict";n.r(t),n.d(t,{QUERY_KEY:()=>m,default:()=>v});var r=n(629133),a=n.n(r),o=n(456552),i=n(267651),s=n.n(i),c=n(906886),l=n(196585),u=n(215164),d=n(661533);function f(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var p,h,m=[l.default,"own-integrations"],g=(p=function(){var e;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(t){switch(t.label){case 0:return[4,d.ajax({url:"/ajax/settings/widgets/category/own_integrations/1/"})];case 1:return e=t.sent(),s().publish(c.default,e.integrations),[2,{integrations:a().map(e.integrations,(function(e){return(0,u.default)(e)}))}]}}))},h=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=p.apply(e,t);function o(e){f(a,n,r,o,i,"next",e)}function i(e){f(a,n,r,o,i,"throw",e)}o(void 0)}))},function(){return h.apply(this,arguments)});const v=function(){var e=(0,o.useQuery)({queryKey:m,queryFn:g}),t=e.data;return{isLoading:e.isLoading,integrations:null==t?void 0:t.integrations}}},609611:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(629133),a=n.n(r),o=n(827378),i=n.n(o),s=n(292554),c=n.n(s),l=n(119527),u=n(75892),d=n(232262),f=n(86198),p=c().bind(f.default);const h=function(e){var t=e.integrations,n=e.banner,r=e.isBannerShow,s=void 0===r||r,c=e.bannerPosition,f=void 0===c?"right":c,h=e.isOverflowHidden,m=void 0!==h&&h,g=e.initialWidth,v=e.isLoading,y=e.onOpenIntegrationClick,_=e.onIntegrationBannerClick,b=void 0===_?a().noop:_,w=(0,o.useRef)(null),E=(0,d.default)({ref:w,initialWidth:g}),k=E.columns,C=E.bannerColumns,A=E.minItemWidth,I=Boolean(n)&&s,S=t.length;I?(S=3*C,t.length<C&&"right"===f&&(I=!1)):m&&S>3*k&&(S=3*k);var O=a()(t).reduce((function(e,t,n){var r=t.id,a=t.code;return e[n<S?"banner":"rest"].push(i().createElement(l.default,{key:"".concat(a,"-").concat(r),integration:t,className:p("integration"),onOpenClick:function(){y(t)}})),e}),{banner:[],rest:[]}),P=O.banner,x=O.rest;I&&1===C&&m?x=a().first(x,k):m&&(x=[]);var T="right"===f?"repeat(".concat(C,", minmax(").concat(A,"px, 1fr)) 342px"):"342px repeat(".concat(C,", minmax(").concat(A,"px, 1fr))");if(v){var N=x.length?x:P,j=k;!x.length&&I&&(j=C);var R=j-N.length%j||j;!P.length&&I&&(R=3*j);for(var M=0;M<R;M++)N.push(i().createElement(u.default,{key:M,className:p("integration")}))}return i().createElement("div",{ref:w,"data-columns":k,"data-banner-columns":C},i().createElement("div",{className:p("top"),style:{gridTemplateColumns:I?T:"repeat(".concat(k,", minmax(").concat(A,"px, 1fr))")}},P,I&&n&&i().createElement("img",{className:p("banner"),onClick:function(){var e=(n||{}).integrationCode;e&&b(e)},style:{gridColumn:"right"===f?"".concat(C+1," / ").concat(C+2):void 0,cursor:n.integrationCode?void 0:"default"},src:n.src,alt:""})),Boolean(x.length)&&i().createElement("div",{className:p("rest"),style:{gridTemplateColumns:"repeat(".concat(k,", minmax(").concat(A,"px, 1fr))")}},x))}},232262:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(827378);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=300,s=function(e,t){var n=(t||{}).shouldCalculateWithBanner,r=Math.floor(e/i);for(n&&(e-=366);r>1&&!(12*(r-1||1)+r*i<=e);r--);return r},c=function(e){return i+i/e+12*(e-1||1)};const l=function(e){var t,n,i=e.ref,l=e.initialWidth,u=s(l),d=s(l,{shouldCalculateWithBanner:!0}),f=(t=(0,r.useState)({minItemWidth:300,columns:u,bannerColumns:d}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],h=f[1];return(0,r.useEffect)((function(){var e=i.current;if(e){var t=function(){var t=e.offsetWidth,n=s(t),r=s(t,{shouldCalculateWithBanner:!0}),a=parseInt(e.dataset.columns),i=parseInt(e.dataset.bannerColumns);n===a&&r===i||h((function(e){return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},e),a=null!=(a={columns:n,bannerColumns:r,maxItemWidth:c(n),maxBannerItemWidth:c(r)})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})),t;var t,a}))};return t(),window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}}),[]),p}},607596:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(827378),a=n.n(r),o=n(629133),i=n.n(o),s=n(661533),c=n.n(s),l=(n(536207),n(491967)),u=n(845636);const d=function(e){var t=e.slides,n=e.containerClassName,o=void 0===n?"":n,s=e.wrapperClassName,d=void 0===s?"":s,f=e.isIntegrator,p=e.onCategorySlideClick,h=e.onIntegrationSlideClick,m=(0,r.useRef)(null),g=(0,r.useRef)(null),v=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=m.current,t=g.current,n=v.current;if(e&&t&&n)return c()(e).gallery({autoplay:!0,interval:4e3,disable_inline_styles:!0,prevEl:t,nextEl:n}),function(){c()(e).gallery("destroy")}}),[]),a().createElement("div",{className:"integrations-slider ".concat(o," ").concat(f?"integrations-slider--integrator":""),style:{overflow:"hidden"}},a().createElement("div",{ref:g,className:"integrations-slider__left"},a().createElement(l.default,{type:"svg",name:"common--arrow-left-rounded",className:"integrations-slider__left-icon"})),a().createElement("div",{ref:v,className:"integrations-slider__right"},a().createElement(l.default,{type:"svg",name:"common--arrow-left-rounded",className:"integrations-slider__right-icon"})),a().createElement("div",{ref:m,id:"dg-container",className:"".concat(u.default["dg-container"]," ").concat(d," dg-container_com"),style:{display:"block"}},a().createElement("div",{className:"dg-wrapper"},i().map(t,(function(e,t){var n="categoryCode"in e,r=n?"#category-".concat(e.categoryCode.replace(/_/g,"-")):"";return a().createElement("a",{key:t,href:r,onClick:function(t){n?p(e.categoryCode):(t.preventDefault(),h(e.integrationCode))},className:"js-banner-click",style:{zIndex:t?"auto":1}},a().createElement("img",{src:e.src,alt:n?e.alt:void 0}))}))),a().createElement("div",{className:"banner_aside-windows"},a().createElement("div",{className:"left_click"}),a().createElement("div",{className:"right_click"}))))}},111235:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=n(629133),a=n.n(r),o=n(292554),i=n.n(o),s=n(827378),c=n.n(s),l=n(456552),u=n(234561),d=n(47121),f=n(247844),p=n(610438),h=n(970302),m=n(167038),g=n(607596),v=n(753448);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}var w=i().bind(v.default);const E=function(e){var t,n,r=e.categories,o=e.onShowAllLinkClick,i=e.mainDayRecommendations,v=e.onCategorySlideClick,y=e.onOpenIntegrationClick,E=e.integrationSlides,k=e.isIntegrator,C=e.onIntegrationBannerClick,A=e.onIntegrationSlideClick,I=(0,s.useMemo)((function(){return a().toArray(a().omit(r,["recommended"]))}),[]),S=(t=(0,s.useState)(3),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(t,n)||b(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),O=S[0],P=S[1],x=a().chain(I).first(O).map((function(e){var t=e.code;return{queryKey:(0,p.generateQueryKey)(t,1),queryFn:function(){return(0,p.fetchCategoryPage)({categoryCode:t,page:1})}}})).value(),T=(0,l.useQueries)(x),N=(0,f.default)(),j=N.integrations,R=N.isLoading;(0,d.default)({handler:(0,s.useCallback)((function(){P(O+1)}),[O]),toBottomSpace:500,throttle:300});var M=a().map(T,(function(e,t){var n,r,o,i=e.isLoading,s=e.data,c=void 0===s?{}:s,l=c.integrations,d=void 0===l?[]:l,f=c.count,p=c.banner,h=I[t],m=h.code,g=a().include(u.default,m),v=i&&!d.length,y=[];g&&(v||R)||(n=f,g&&((o=y).push.apply(o,_(j)),n&&(n+=j.length)),(r=y).push.apply(r,_(d)));return{category:h,isLoading:g?i||R:i,integrations:y,count:n,banner:p}}));return(0,s.useEffect)((function(){return function(){window.scrollTo({top:0})}}),[]),c().createElement("div",{className:w("recommended")},c().createElement("div",{style:{margin:"0 -25px 32px"}},c().createElement(g.default,{wrapperClassName:w("slider-wrapper"),slides:E,isIntegrator:k,onCategorySlideClick:v,onIntegrationSlideClick:A})),Boolean(i.length)&&c().createElement(m.default,{className:w("category-list"),category:{id:"day_recommendation_recommended",code:"day_recommendation_recommended",name:" "},initialWidth:(0,h.default)(k),onOpenIntegrationClick:y,integrations:i,onIntegrationBannerClick:C}),a().map(M,(function(e,t){var n=e.category,r=e.integrations,a=e.count,i=e.isLoading,s=e.banner;return c().createElement(m.default,{key:n.code,className:w("category-list"),bannerPosition:t%2?"left":"right",category:n,count:a,isLoading:i,integrations:r,onShowAllLinkClick:function(){return o(n.code)},isOverflowHidden:!0,initialWidth:(0,h.default)(k),onOpenIntegrationClick:y,banner:s,onIntegrationBannerClick:C})})))}},329421:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(629133),a=n.n(r),o=n(292554),i=n.n(o),s=n(827378),c=n.n(s),l=n(730860),u=n(916569),d=n(445368),f=n(970302),p=n(609611),h=n(883743),m=n(637373),g=i().bind(m.default);const v=function(e){var t,n=e.searchValue,r=e.onActiveChange,o=e.onOpenIntegrationClick,i=e.onShowAllClick,s=e.isIntegrator,m=(0,h.default)({searchValue:n,onActiveChange:r}),v=m.searchResult,y=m.isLoading,_=m.isNotFound,b=m.isSearchActive;switch(!0){case y:t=c().createElement("div",{className:g("overlay")},c().createElement(l.Spinner,{isCentered:!0,theme:l.SpinnerPrimaryTheme}));break;case _:t=c().createElement(u.Text,{theme:u.TextPrimaryTheme,size:"l"},(0,d.i18n)("No results were found for this search."),"",c().createElement("a",{className:"std-link",onClick:i},(0,d.i18n)("Show all")));break;case a().isArray(v):t=c().createElement(p.default,{initialWidth:(0,f.default)(s),integrations:v,onOpenIntegrationClick:o});break;default:t="something is going wrong right now"}return c().createElement("div",{className:g("search",{"search--active":b})},t)}},883743:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var r=n(629133),a=n.n(r),o=n(827378),i=n(456552),s=n(267651),c=n.n(s),l=n(724329),u=n(906886),d=n(196585),f=n(445368),p=n(669982),h=n(577486),m=n(247844),g=n(215164),v=n(661533);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function k(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}var C,A,I=function(e){return e.trim().length>=3},S=function(e,t){return a()(t).reduce((function(t,n){var r,a,o=e.match(new h.UnsafeRegExp(n,"gi"));return o&&(r=t).push.apply(r,function(e){if(Array.isArray(e))return y(e)}(a=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||k(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t}),[])},O=(C=function(e,t){var n,r,o,i,s;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(l){switch(l.label){case 0:return n=(0,f.transliterate)(e),r=[e,n],o=v.ajax({url:"/ajax/settings/widgets/search/",method:"POST",data:{query:r}}),t&&(t.onabort=function(){return o.abort()}),[4,o];case 1:return i=l.sent(),c().publish(u.default,i.widgets),s=a().toArray(i.widgets),[2,a().map(s,(function(e){var t=S(e.name,r);return E(w({},(0,g.default)(e)),{highlights:t})}))]}}))},A=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=C.apply(e,t);function o(e){_(a,n,r,o,i,"next",e)}function i(e){_(a,n,r,o,i,"throw",e)}o(void 0)}))},function(e,t){return A.apply(this,arguments)});const P=function(e){var t,n,r=e.searchValue,s=e.onActiveChange,c=(t=(0,o.useState)(I(r)),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(t,n)||k(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],h=c[1],g=(0,m.default)(),v=g.isLoading,y=g.integrations;(0,o.useEffect)((function(){var e=I(r);e!==u&&(h(e),s(e))}),[r]);var _=(0,l.useDebounce)(r,700),b=(0,i.useQuery)({queryKey:[d.default,"widgets-search",_],queryFn:function(e){var t=e.signal;return O(_,t)},enabled:I(_),staleTime:3e5}),C=b.data,A=b.isLoading,P=a().union(function(e,t){var n=(0,p.default)(e,t,"name"),r=[e,(0,f.transliterate)(e)];return a().map(n,(function(e){var t=S(e.name,r);return E(w({},e),{highlights:t})}))}(r,y),C||[]),x=_!==r||A||v;return{searchResult:P,isLoading:x,isNotFound:!x&&!P.length,isSearchActive:u}}},247844:(e,t,n)=>{"use strict";n.r(t),n.d(t,{QUERY_KEY:()=>v,default:()=>_});var r=n(629133),a=n.n(r),o=n(456552),i=n(267651),s=n.n(i),c=n(906886),l=n(196585),u=n(215164),d=n(661533);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function h(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m,g,v=[l.default,"base-integrations"],y=(m=function(){var e,t;return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return[4,d.ajax({url:"/ajax/settings/widgets/get_base_integrations"})];case 1:return e=n.sent(),s().publish(c.default,a().indexBy(e.integrations_installed,"code")),s().publish(c.default,a().indexBy(e.integrations_not_installed,"code")),t=a().map(e.integrations_installed,u.default),[2,{integrations:h(a().map(e.integrations_not_installed,u.default)).concat(h(t)),installedIntegrations:t}]}}))},g=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=m.apply(e,t);function o(e){p(a,n,r,o,i,"next",e)}function i(e){p(a,n,r,o,i,"throw",e)}o(void 0)}))},function(){return g.apply(this,arguments)});const _=function(){var e=(0,o.useQuery)({queryKey:v,queryFn:y}),t=e.data;return{isLoading:e.isLoading,integrations:(null==t?void 0:t.integrations)||[],installedIntegrations:(null==t?void 0:t.installedIntegrations)||[]}}},983514:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LEGACY_INSTALL_INTEGRATION_EVENT:()=>b,default:()=>w});var r=n(629133),a=n.n(r),o=n(267651),i=n.n(o),s=n(827378),c=n(456552),l=n(161320),u=n.n(l),d=n(610438),f=n(293584),p=n(247844);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function y(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}var b="amo-market:install-integration";const w=function(e){var t=e.onBeforeInstall,n=void 0===t?a().noop:t,r=(0,c.useQueryClient)(),o=function(e){var t=e.isPrivate,n=e.isExternal,r=v(g({},e),{status:"installed"});return t||n?r.isDisconnected=!1:r.lastInstalledAt=u()().tz(APP.system.timezone).unix(),r},l=function(e){var t=r.getQueryData(f.QUERY_KEY);if(t){var n,i=e.isPrivate,s=e.isExternal,c=t.integrations;n=i||s?a().map(c,(function(t){return t.code!==e.code?t:o(t)})):[o(e)].concat(y(c)),r.setQueryData(f.QUERY_KEY,v(g({},t),{integrations:n}))}},h=(0,c.useMutation)({mutationFn:function(){return Promise.resolve()},onSuccess:function(e,t){var n=t.isBase,i=t.isPrivate,s=t.isExternal;switch(!0){case n:!function(e){var t=r.getQueryData(p.QUERY_KEY);if(t){var n=t.integrations,i=t.installedIntegrations,s=a().map(n,(function(t){return t!==e?t:o(e)})),c=y(i).concat([e]);r.setQueryData(p.QUERY_KEY,v(g({},t),{integrations:s,installedIntegrations:c}))}}(t);break;case i||s:l(t);break;default:!function(e){var t=e.categories;l(e),t&&a().each(t,(function(t){var n=t.code,i=(0,d.generateQueryKeyName)(n),s=r.getQueriesData({predicate:function(e){var t=e.queryKey;return a().isEqual(t[0],i)}});a().each(s,(function(t){var n,i,s=(i=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(n,i)||_(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],l=s[1],u=l.integrations,d=l.dayRecommendations,f=l.integrationsHashMap,p=l.dayRecommendationHashMap,h=Boolean(f[e.code]),m=Boolean(p[e.code]);if(h||m){var y,b,w=function(t){return t.code!==e.code?t:o(e)};y=h?a().map(u,w):u,b=m?a().map(d,w):d,r.setQueryData(c,v(g({},l),{integrations:y,dayRecommendations:b}))}}))}))}(t)}}}).mutate;return(0,s.useEffect)((function(){var e=i().subscribe(b,(function(e,t){n(t),h(t)}));return function(){i().unsubscribe(e)}})),{mutateIntegrationToInstalled:o}}},358055:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LEGACY_UNINSTALL_INTEGRATION_EVENT:()=>g,default:()=>v});var r=n(629133),a=n.n(r),o=n(267651),i=n.n(o),s=n(827378),c=n(456552),l=n(293584),u=n(247844),d=n(610438);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var g="amo-market:uninstall-integration";const v=function(e){var t=e.onBeforeUninstall,n=void 0===t?a().noop:t,r=(0,c.useQueryClient)(),o=function(e){var t=e.isPrivate,n=e.isExternal,r=h({},e);return t||n?r.isDisconnected=!0:r.status="uninstalled",r},p=function(e){var t=r.getQueryData(l.QUERY_KEY);if(t){var n,i=t.integrations,s=e.isPrivate,c=e.isExternal;n=s||c?a().map(i,(function(t){return t.code!==e.code?t:o(t)})):a().reject(i,{code:e.code}),r.setQueryData(l.QUERY_KEY,m(h({},t),{integrations:n}))}},v=(0,c.useMutation)({mutationFn:function(){return Promise.resolve()},onSuccess:function(e,t){var n=t.isBase,i=t.isPrivate,s=t.isExternal;switch(!0){case n:!function(e){p(e);var t=r.getQueryData(u.QUERY_KEY);if(t){var n=t.integrations,i=t.installedIntegrations,s=a().map(n,(function(t){return t.code!==e.code?t:o(e)})),c=a().reject(i,{code:e.code});r.setQueryData(u.QUERY_KEY,m(h({},t),{integrations:s,installedIntegrations:c}))}}(t);break;case i||s:p(t);break;default:!function(e){var t=e.categories;p(e),t&&a().each(t,(function(t){var n=t.code,i=(0,d.generateQueryKeyName)(n),s=r.getQueriesData({predicate:function(e){var t=e.queryKey;return a().isEqual(t[0],i)}});a().each(s,(function(t){var n,i,s=(i=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],l=s[1],u=l.integrations,d=l.dayRecommendations,p=l.integrationsHashMap,g=l.dayRecommendationHashMap,v=Boolean(p[e.code]),y=Boolean(g[e.code]);if(v||y){var _,b,w=function(t){return t.code!==e.code?t:o(e)};_=v?a().map(u,w):u,b=y?a().map(d,w):d,r.setQueryData(c,m(h({},l),{integrations:_,dayRecommendations:b}))}}))}))}(t)}}}).mutate;return(0,s.useEffect)((function(){var e=i().subscribe(g,(function(e,t){n(t),v(t)}));return function(){i().unsubscribe(e)}})),{mutateIntegrationToUninstalled:o}}},215164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(629133),a=n.n(r),o=n(161320),i=n.n(o);const s=function(e){var t,n,r,o,s=e.code||e.uuid,c=Boolean(e.uuid&&"integration"===e.type),l="base_integration"===e.type,u=a().propertyOf(e)(["client","settings","is_amocrm_widget"])||!1;if(n="install"!==e.status&&a().includes(["installed","disconnected"],e.state)?"installed":"uninstalled",e.payment)switch(e.payment.type){case"unlimited":case"subscription":r=a().pick(e.payment,["type","products"]);break;default:r=a().pick(e.payment,["type"])}else r={type:"free"};r.products&&(r.products=a().map(r.products,(function(e){var t=e.currency_symbol,n=e.integration_uuid,r=e.uuid,a=e.options.cost_options,o=a.period,i=a.amount;return{currency:t,integrationUuid:n,period:"unlimited"===o?{units:o,duration:o}:{units:o.slice(-1),duration:parseInt(o)},price:i,uuid:r}}))),e.categories&&!e.categories.own_integrations&&(o=a().map(e.categories,(function(e){return{id:e.id,code:e.code,name:e.name}})));var d=a().isFinite(e.rating)?{count:e.reviews_count,score:e.rating,isVisible:e.show_stars}:void 0,f=(null===(t=e.payment)||void 0===t?void 0:t.subscription)?{uuid:e.payment.subscription.uuid,activeTo:e.payment.subscription.active_to,isExpired:i().unix(e.payment.subscription.active_to).tz(APP.system.timezone).isBefore()}:void 0,p=e.support?{id:e.support.id,name:e.support.name,livechat:e.support.livechat.id?{id:e.support.livechat.id,hash:e.support.livechat.hash,userId:e.support.livechat.user_id}:void 0}:void 0,h=e.last_installed_at?e.last_installed_at:void 0,m=c?!e.is_enabled:"disconnected"===e.state;return{id:e.id,code:s,name:e.name,image:e.logo_small||e.logo,rating:d,isPrivate:Boolean(e.is_private),isBase:l,isExternal:c,status:n,isDpSupported:Boolean(e.dp_ready),categories:o,payment:r,lastInstalledAt:h,developer:p,subscription:f,isDisconnected:m,isAmoCRMWidget:u}}},970302:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){var t=document.documentElement.clientWidth;return e?t<=1279?t-65-60:t-65-265-60:t-65-60}},722473:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addSource:()=>p,deleteAllSources:()=>b,disableSource:()=>h,getChatStatus:()=>u,getIceBreakers:()=>m,getLongLivedToken:()=>E,getSecretKey:()=>w,logoutAds:()=>_,logoutForm:()=>y,logoutIntegration:()=>f,pushUuid:()=>d,saveIceBreakers:()=>g,toggleAcceptFollowers:()=>v});var r=n(104737),a=n(790401),o=n(136675);function i(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,c,"next",e)}function c(e){i(o,r,a,s,c,"throw",e)}s(void 0)}))}}function c(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l,u=(l=s((function(e){return c(this,(function(t){switch(t.label){case 0:return[4,r.default.request({method:"GET",url:"/ajax/v1/chats/origin/".concat(e,"/status")})];case 1:return[2,t.sent()]}}))})),function(e){return l.apply(this,arguments)}),d=function(){var e=s((function(e){return c(this,(function(t){switch(t.label){case 0:return[4,r.default.request({method:"POST",url:"/profile/external/".concat(e,"/push")})];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=s((function(e,t){return c(this,(function(n){switch(n.label){case 0:return[4,r.default.request({method:"POST",url:"/ajax/v1/chats/origin/".concat(e,"/logout"),data:{request:{chats:{origin:[{loginId:t,logout:!0}]}}},isFormDataPayload:!0})];case 1:return n.sent(),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),p=function(e){var t=e.origin,n=e.id,a=e.name,o=e.pipelineId,i=e.loginId;return r.default.request({method:"POST",url:"/ajax/v1/chats/origin/".concat(t,"/add"),data:{request:{chats:{origin:[{login_id:i,id:n,name:a,pipeline_id:o}]}}},isFormDataPayload:!0})},h=function(){var e=s((function(e){var t,n,a;return c(this,(function(o){switch(o.label){case 0:return t=e.id,n=e.loginId,a=e.origin,[4,r.default.request({method:"POST",url:"/ajax/v1/chats/origin/".concat(a,"/disable"),data:{request:{chats:{origin:[{id:t,login_id:n}]}}},isFormDataPayload:!0})];case 1:return o.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=e.pageId;return r.default.request({method:"GET",url:"/ajax/v4/instagram/page/".concat(t,"/welcome_messages")})},g=function(e){var t=e.pageId,n=e.iceBreakers;return r.default.request({method:"POST",url:"/ajax/v4/instagram/page/".concat(t,"/welcome_messages"),data:n})},v=function(e){var t=e.pageId,n=e.acceptFollowers;return r.default.request({method:"POST",url:"/ajax/v4/instagram/page/".concat(t,"/follows"),data:{accept_followers:n}})},y=function(){var e=s((function(e){return c(this,(function(t){switch(t.label){case 0:return[4,a.default.logoutForm(e)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=s((function(e){return c(this,(function(t){switch(t.label){case 0:return[4,a.default.logoutAds(e)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=s((function(){return c(this,(function(e){switch(e.label){case 0:return[4,o.default.deleteAllByType(o.default.getTypeCode("fb_form"))];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),w=function(e){var t=e.uuid,n=e.payloadData;return r.default.request({url:"/ajax/v3/clients/".concat(t,"/secret/"),dataType:"json",method:"PATCH",contentType:"application/json",data:n})},E=function(e){var t=e.uuid,n=e.expiresAt;return r.default.request({url:"/oauth2/long_lived_access_token",method:"POST",isFormDataPayload:!0,data:{clientId:t,grantType:"long_lived",expiresAt:n}})}},895783:(e,t,n)=>{"use strict";var r,a;n.r(t),n.d(t,{ErrorCode:()=>a,OriginName:()=>r}),function(e){e.INSTAGRAM_BUSINESS="instagram_business",e.INSTAGRAM_BUSINESS_COMMENTS="instagram_business_comments",e.FACEBOOK="facebook",e.UNIFIED_ONBOARDING="meta"}(r||(r={})),function(e){e.DIRECT_DISABLED="DIRECT_DISABLED",e.INSUFFICIENT_PERMISSIONS="INSUFFICIENT_PERMISSIONS",e.NOT_CONNECTED_TO_FB="NOT_CONNECTED_TO_FB",e.MISSING_MESSAGING_PERMISSION="MISSING_MESSAGING_PERMISSION",e.PAGE_DELETED="PAGE_DELETED",e.PASSWORD_CHANGED="PASSWORD_CHANGED",e.APP_NOT_INSTALLED="APP_NOT_INSTALLED",e.FOLLOW_INSTRUCTIONS="FOLLOW_INSTRUCTIONS",e.DISALLOWED_DIRECT_MESSAGES="disallowed_direct_messages",e.MISSING_PERMISSIONS="missing_permissions",e.ACCESS_DENIED="access_denied",e.PROFILE_PROBLEM="profile_problem",e.PROFILE_MISMATCH="profile_mismatch",e.EMAIL_REQUIRED="email_required"}(a||(a={}))},359538:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ErrorCode:()=>a.ErrorCode,OriginName:()=>a.OriginName,addSource:()=>r.addSource,deleteAllSources:()=>r.deleteAllSources,disableSource:()=>r.disableSource,getChatStatus:()=>r.getChatStatus,getIceBreakers:()=>r.getIceBreakers,getLongLivedToken:()=>r.getLongLivedToken,getSecretKey:()=>r.getSecretKey,logoutAds:()=>r.logoutAds,logoutForm:()=>r.logoutForm,logoutIntegration:()=>r.logoutIntegration,pushUuid:()=>r.pushUuid,saveIceBreakers:()=>r.saveIceBreakers});var r=n(722473),a=n(895783)},584104:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getGrouppedTriggers:()=>o});var r=n(249017),a=new Map,o=function(e){if(a.has(e))return a.get(e);var t=Object.fromEntries(r.TRIGGERS.map((function(t){return[t[e],t]})));return a.set(e,t),t}},406026:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getGrouppedTriggers:()=>r.getGrouppedTriggers});var r=n(584104)},506379:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TRIGGERS:()=>r.TRIGGERS,getGrouppedTriggers:()=>a.getGrouppedTriggers});var r=n(249017),a=n(406026)},249017:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TRIGGERS:()=>r});var r=[{id:1,name:"lead_added",label:"Created in pipeline stage"},{id:13,name:"lead_responsible_changed",label:"Resp. user changed"},{id:14,name:"lead_status_changed",label:"Moved to pipeline stage"},{id:15,name:"lead_appeared_in_status",label:"Moved to or created in stage"},{id:16,name:"mail_in",label:"Email received"},{id:17,name:"call_in",label:"Call received"},{id:18,name:"site_visit",label:"Website visited (trigger)"},{id:19,name:"chat",label:"First chat of the day"},{id:20,name:"customer_added",label:"Customer created"},{id:21,name:"customer_period_changed",label:null},{id:22,name:"customer_appeared_in_period",label:null},{id:26,name:"transaction_added",label:"Purchase"},{id:43,name:"customer_responsible_changed",label:"Resp. user changed"},{id:46,name:"form_filled",label:"Form submitted"},{id:57,name:"customer_status_changed",label:"Moved to pipeline stage"},{id:58,name:"customer_appeared_in_status",label:"Moved to or created in stage"},{id:62,name:"invoice_paid",label:"When an invoice/purchase is paid"},{id:63,name:"tag_added",label:null},{id:64,name:"tag_removed",label:null},{id:94,name:"segment_attached",label:"Segment attached"},{id:95,name:"segment_detached",label:"Segment detached"},{id:116,name:"key_action_completed",label:null},{id:119,name:"talk_created",label:"Any new conversation"},{id:120,name:"talk_closed",label:"Talk closed"},{id:121,name:"relative_date",label:null},{id:123,name:"invoice_added",label:"When an invoice/purchase is added"},{id:124,name:"first_incoming_message",label:"Incoming conversation"},{id:140,name:"incoming_outgoing_message_first_time_that_cool_down",label:"First chat of the day"},{id:141,name:"last_incoming_message",label:"Message received (advanced)"},{id:142,name:"outgoing_message",label:"Message sent"},{id:143,name:"incoming_message",label:"Message received"},{id:144,name:"seen_messages",label:"Message seen"},{id:145,name:"incoming_outgoing_message_first_time_that_cool_down",label:null},{id:146,name:"incoming_outgoing_message_first_time_that_cool_down",label:"Any new conversation"},{id:147,name:"field_value_changed",label:"Field updated"},{id:154,name:"incoming_mentioned_event",label:"Story mention"},{id:155,name:"incoming_comment_event",label:"Comment received"},{id:156,name:"instagram_user_followed",label:"New Instagram follower"},{id:160,name:"tag_changed",label:null},{id:161,name:"incoming_message_first_time_that_hidden_cool_down",label:null},{id:163,name:"last_incoming_message_date",label:"Last incoming message"},{id:170,name:"emotion_added",label:"Emotion is detected"}]},817932:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p,processHighlights:()=>f});var r=n(629133),a=n.n(r),o=n(827378),i=n.n(o),s=n(577486),c=n(296760);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e,t){var n=e.split(new s.UnsafeRegExp(t,"i"));return 1===n.length?n:a().reduce(n,(function(e,r,a){return a===n.length-1?(e.push(r),e):(e.push(r,{value:t}),e)}),[])},f=function(e,t){var n,r,o=function(e,t){return a().reduce(t,(function(t,n,r){var o;return r?a().reduce(t,(function(e,t){var r;if(a().isObject(t))return e;var o=e.indexOf(t),i=d(t,n);return(r=e).splice.apply(r,[o,1].concat(u(i))),e}),u(t)):((o=t).push.apply(o,u(d(e,n))),t)}),[])}(e,t);return n=o,r=a().reduce(n,(function(e,t,n){var r=e[e.length-1];return n?a().isObject(t)?a().isObject(r)?(r.value+=t.value,e):(e.push(t),e):!t.trim()&&a().isObject(r)?(r.value+=t,e):(e.push(t),e):(e.push(t),e)}),[]),a().compact(r)};const p=function(e){var t=e.children,n=e.highlights,r=e.className,o=void 0===r?"":r,s=e.markClassName,l=e.converters,u=void 0===l?[]:l,d=e.lengthRef,p=function(e,t){return a().reduce(t,(function(e,t){return t(e)}),e)}(f(t,n),u);return d&&(d.current=a().reduce(p,(function(e,t){return a().isObject(t)?e+t.value.length:e+t.length}),0)),i().createElement("span",{className:o},a().map(p,(function(e,t){return a().isObject(e)?i().createElement(c.default,{className:s,key:t},e.value):i().createElement("span",{key:t},e)})))}},296760:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(827378),a=n.n(r);const o=function(e){var t=e.children,n=void 0===t?"":t,r=e.className,o=void 0===r?"":r;return a().createElement("span",{className:o,style:{background:o?void 0:"var(--palette-highlight-mark-background)",color:o?void 0:"var(--palette-highlight-mark-text-color)"}},n)}},119527:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(827378),a=n.n(r),o=n(292554),i=n.n(o),s=n(916569),c=n(529062),l=n(491967),u=n(701106),d=n(817932),f=n(445368),p=n(875257),h=n(548191),m=n(955568),g=n(596455),v=i().bind(g.default);const y=function(e){var t=e.className,n=void 0===t?"":t,r=e.integration,o=e.onOpenClick,i=r.image,g=r.name,y=r.rating,_=r.isDpSupported,b=r.highlights,w=r.status,E=r.isAmoCRMWidget,k=function(){o()},C=(0,h.default)(r);return a().createElement("div",{className:"".concat(v("item")," ").concat(n)},a().createElement("div",{className:v("content")},a().createElement("img",{className:v("image"),src:i,alt:g}),a().createElement("div",{className:v("info")},a().createElement(u.default,{className:v("name"),title:g,type:"h3",size:"l"},(null==b?void 0:b.length)?a().createElement(d.default,{highlights:b},g):g),y&&!E&&a().createElement(a().Fragment,null,y.isVisible?a().createElement(m.default,{count:y.count,score:y.score}):a().createElement(s.Text,{theme:s.TextSecondaryLightTheme,size:"m"},(0,f.i18n)("Low rating"))))),"uninstalled"===w?a().createElement(c.Button,{theme:p.BlueOutlineButtonTheme,onClick:k},C):a().createElement(c.Button,{theme:c.ButtonPrimaryTheme,onClick:k},C),_&&a().createElement(l.default,{type:"svg",name:"settings--widgets--dp-pic-bottom",className:v("dp-icon")}))}},955568:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(629133),a=n.n(r),o=n(827378),i=n.n(o),s=n(292554),c=n.n(s),l=n(888974),u=c().bind(l.default),d=function(e){var t=e.fillWidth,n=a().uniqueId();return i().createElement("svg",{width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i().createElement("defs",null,i().createElement("linearGradient",{id:"fillWidth_".concat(n)},i().createElement("stop",{offset:"".concat(t,"%"),stopColor:"#4077D6"}),i().createElement("stop",{offset:"".concat(t,"%"),stopColor:"#E4E4E4",stopOpacity:"1"}))),i().createElement("path",{d:"M6.02447 0.463526C6.17415 0.00287056 6.82585 0.00286996 6.97553 0.463525L8.0716 3.83688C8.13854 4.04289 8.33051 4.18237 8.54713 4.18237H12.0941C12.5784 4.18237 12.7798 4.80218 12.388 5.08688L9.51843 7.17173C9.34318 7.29905 9.26985 7.52474 9.33679 7.73075L10.4329 11.1041C10.5825 11.5648 10.0553 11.9478 9.66344 11.6631L6.79389 9.57827C6.61865 9.45095 6.38135 9.45095 6.20611 9.57827L3.33656 11.6631C2.9447 11.9478 2.41746 11.5648 2.56714 11.1041L3.66321 7.73075C3.73015 7.52474 3.65682 7.29905 3.48157 7.17173L0.612025 5.08688C0.220169 4.80218 0.421556 4.18237 0.905918 4.18237H4.45287C4.66949 4.18237 4.86146 4.04289 4.9284 3.83688L6.02447 0.463526Z",fill:"url(#fillWidth_".concat(n,")")}))};const f=function(e){var t=e.count,n=e.score,r=Array(Math.floor(n)).fill(100),o=n-Math.floor(n);o&&r.push(Math.round(100*o));var s=a().map(Array(5),(function(e,t){var n=r[t]||0;return i().createElement(d,{key:t,fillWidth:n})}));return i().createElement("div",{className:u("rating")},i().createElement("div",{className:u("stars")},s),i().createElement("div",{className:u("count")},t))}},75892:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(629133),a=n.n(r),o=n(292554),i=n.n(o),s=n(827378),c=n.n(s),l=n(683534),u=n(164262),d=i().bind(u.default),f=function(e){var t=e.className,n=void 0===t?"":t;return c().createElement("div",{className:"".concat(d("integration-item-skeleton")," ").concat(n)},c().createElement("div",{className:d("integration-item-skeleton__content")},c().createElement(l.default,{className:d("integration-item-skeleton__image")}),c().createElement("div",{className:d("integration-item-skeleton__info")},c().createElement(l.default,{className:d("integration-item-skeleton__title"),width:"".concat(a().random(30,80),"%")}),c().createElement(l.default,{className:d("integration-item-skeleton__rating")}))),c().createElement(l.default,{className:d("integration-item-skeleton__button"),width:"".concat(a().random(80,120),"px")}))};const p=c().memo(f)},548191:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(629133),a=n.n(r),o=n(827378),i=n(445368);const s=function(e){var t=e.status,n=e.subscription,r=e.payment;return(0,o.useMemo)((function(){var e,o,s,c=(0,i.i18n)("Install");if("installed"===t)c=(0,i.i18n)("Open");else switch(r.type){case"free":c=(0,i.i18n)("Free install");break;case"subscription":if(!n||n.isExpired){switch(o=(s=a().min(r.products,"price")).period.duration,s.period.units){case"m":e=(0,i.numeralWord)(o,(0,i.i18n)("month,months,months,months"),!0);break;case"y":e=(0,i.numeralWord)(o,(0,i.i18n)("year,years,years,years"),!0);break;default:e=(0,i.i18n)("Unlimited")}c=(0,i.i18n)("Get %p for %v").replace("%p",e).replace("%v",(0,i.currency)(s.price,void 0,void 0,s.currency))}else c=(0,i.i18n)("Install");break;case"unlimited":c=(0,i.i18n)("Buy for %s").replace("%s",(0,i.currency)(r.products[0].price,void 0,void 0,r.products[0].currency));break;case"external":c=(0,i.i18n)("External payment")}return c}),[t])}},199525:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(827378),a=n.n(r),o=n(460159),i=n.n(o),s=n(629133),c=n.n(s),l=n(661533);const u=function(e){var t=e.onClick,n=void 0===t?c().noop:t,o=e.onItemClick,s=void 0===o?c().noop:o,u=e.onMouseEnter,d=void 0===u?c().noop:u,f=e.onMouseLeave,p=void 0===f?c().noop:f,h=e.buttonContainerClassName,m=void 0===h?"":h,g=e.menuClassName,v=void 0===g?"":g,y=e.buttonClassName,_=void 0===y?"":y,b=e.reactContainerClassName,w=void 0===b?"":b,E=e.items,k=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=k.current;if(e){var t=i()({ref:"/tmpl/controls/button.twig"}).render({class_name:m,inner_class_name:"button-input-more-inner",svg_class_name:"controls--button-more",button_input_class_name:_,context_menu_class_name:v,context_menu:c().map(E,(function(e){var t=e.href,n=e.className,r=e.text,a=e.id,o=e._blank,i=e.icon,s=e.navigate,c=e.additionalData,l=e.textClassName;return{href:t,class_name:n,text:r,id:a,_blank:o,svg_icon:i,svg_icon_absolute:e.absoluteIcon,disable_navigate:!s,additional_data:c,span_class:l}}))});return l(e).html(t),l(e).on("click",n),l(e).find(".button-input__context-menu__item").on("click",s),function(){l(e).off("click",n),l(e).find(".button-input__context-menu__item").off("click",s)}}}),[E]),a().createElement("div",{className:w,ref:k,onMouseEnter:d,onMouseLeave:p})}},248243:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(629133),a=n.n(r),o=n(827378),i=n.n(o),s=n(292554),c=n.n(s),l=n(491967),u=n(445368),d=n(73280),f=n(321364),p=c().bind(f.default);const h=function(e){var t=e.value,n=e.onChange,r=e.onFocus,o=void 0===r?a().noop:r,s=e.onBlur,c=void 0===s?a().noop:s,f=e.className,h=void 0===f?"":f,m=e.inputClassName,g=void 0===m?"":m,v=e.loopIconClassName,y=void 0===v?"":v,_=e.isClearButtonAvailable,b=void 0===_||_,w=e.placeholderText,E=void 0===w?(0,u.i18n)("Search"):w;return i().createElement("label",{className:"".concat(p("search-line")," ").concat(h)},i().createElement(l.default,{type:"svg",className:"".concat(p("loop")," ").concat(y),name:"common--filter-search"}),i().createElement("input",{className:"".concat(p("input")," ").concat(g),value:t,onChange:function(e){n(e.target.value)},onFocus:function(){o()},onBlur:function(){c()},placeholder:E,type:"text"}),b&&t.trim()&&i().createElement(d.IconButton,{className:p("close"),onClick:function(e){e.preventDefault(),n("")},iconName:"common--cross-close",iconClassName:p("close-icon")}))}},669982:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(629133),a=n.n(r),o=n(445368),i=n(577486),s=function(e){return e.replace(/([!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?])/gim,"\\$1")};const c=function(e,t,n){var r=function(e){var t=s(e),n=s((0,o.transliterate)(t)),r=s((0,o.transliterate)(t,"punto")),a=t.replace(/(|)/gim,"(|)");return{containsTerm:{regExp:new i.UnsafeRegExp("(".concat(a,"|").concat(n,"|").concat(r,")"),"igm"),rate:1},equalityAtStart:{regExp:new i.UnsafeRegExp("^(".concat(a,"|").concat(n,"|").concat(r,")"),"igm"),rate:10},strictEquality:{regExp:new i.UnsafeRegExp("^(".concat(a,"|").concat(n,"|").concat(r,")$"),"igm"),rate:100}}}(e);return a().chain(t).reduce((function(e,t){var o=0;return a().each(r,(function(e){var r=a().propertyOf(t)(n),i=e.regExp.exec(r)||[];o+=e.rate*i.length,e.regExp.lastIndex=0})),o>0&&e.push({sortRate:o,item:t}),e}),[]).sortBy((function(e){return-e.sortRate})).map((function(e){return e.item})).value()}},694345:(e,t,n)=>{"use strict";n.r(t),n.d(t,{hidePageOverlay:()=>o,showPageOverlay:()=>a});var r=n(661533),a=function(){r(document).trigger("page:overlay:show")},o=function(){r(document).trigger("page:overlay:hide")}}}]);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"build_2025_11_28_17_08_33"},function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d8dc2239-ab94-441e-8ca3-d0333c81b14d",e._sentryDebugIdIdentifier="sentry-dbid-d8dc2239-ab94-441e-8ca3-d0333c81b14d")}catch(e){}}();
//# sourceMappingURL=58640.c75d12eb2763e3b09562.js.map