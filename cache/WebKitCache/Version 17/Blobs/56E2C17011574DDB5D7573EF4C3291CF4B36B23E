/*! For license information please see auth.e8ffab34bb32ffc75b71.js.LICENSE.txt */
(window.webpackChunk=window.webpackChunk||[]).push([[59818],{130860:(e,t,n)=>{var r;function o(){"use strict";var e,t,n,r=window.crypto||window.msCrypto;if(!e&&r&&r.getRandomValues)try{var o=new Uint8Array(16);n=e=function(){return r.getRandomValues(o),o},e()}catch(e){}if(!e){var a=new Array(16);t=e=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}for(var i="function"==typeof Buffer?Buffer:Array,s=[],c={},u=0;u<256;u++)s[u]=(u+256).toString(16).substr(1),c[s[u]]=u;function l(e,t){var n=t||0,r=s;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var d=e(),_=[1|d[0],d[1],d[2],d[3],d[4],d[5]],h=16383&(d[6]<<8|d[7]),f=0,p=0;function m(t,n,r){var o=n&&r||0;"string"==typeof t&&(n="binary"===t?new i(16):null,t=null);var a=(t=t||{}).random||(t.rng||e)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n)for(var s=0;s<16;s++)n[o+s]=a[s];return n||l(a)}var v=m;return v.v1=function(e,t,n){var r=t&&n||0,o=t||[],a=null!=(e=e||{}).clockseq?e.clockseq:h,i=null!=e.msecs?e.msecs:(new Date).getTime(),s=null!=e.nsecs?e.nsecs:p+1,c=i-f+(s-p)/1e4;if(c<0&&null==e.clockseq&&(a=a+1&16383),(c<0||i>f)&&null==e.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=i,p=s,h=a;var u=(1e4*(268435455&(i+=122192928e5))+s)%4294967296;o[r++]=u>>>24&255,o[r++]=u>>>16&255,o[r++]=u>>>8&255,o[r++]=255&u;var d=i/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var m=e.node||_,v=0;v<6;v++)o[r+v]=m[v];return t||l(o)},v.v4=m,v.parse=function(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){o<16&&(t[r+o++]=c[e])}));o<16;)t[r+o++]=0;return t},v.unparse=l,v.BufferClass=i,v._rng=e,v._mathRNG=t,v._whatwgRNG=n,v}e.exports?e.exports=new o:void 0===(r=function(){return new o}.call(t,n,t,e))||(e.exports=r);var a="js-uuid";window.define(a,(function(){var t="undefined",n=typeof __webpack_exports__===t?typeof r===t?typeof e===t?void 0:e.exports:r:__webpack_exports__;return n&&n.default||n})),window.require([a])},551447:(e,t,n)=>{"use strict";n.r(t)},412212:(e,t,n)=>{"use strict";n.r(t)},810427:function(e,t,n){var r,o,a;o=[n(345839)],r=function(e){"use strict";var t=/%(\((\w*?)\))?s/g;function n(e,n){if("string"!=typeof e)throw new TypeError("Classes and selectors should be strings, check the values in the objects inside _classes and _selectors methods");if("object"==typeof n[1]&&(n=n[1]),!n)throw new TypeError("Selector or class replacement error. Second argument must be an object or an array");var r=1;return e.replace(t,(function(t,o,a){var i=void 0!==a,s=i?n[a]:n[r++];if(void 0===s)throw new Error("Replacement is undefined during processing selector: "+e+" for "+(i?"key "+a:"position "+(r-1)));return s}))}var r=e.View.extend({_$window:e.$(window),_$document:e.$(document),_$body:e.$(document.body),_$page:e.$("#page"),initialize:function(){var t=e.View.prototype.initialize.apply(this,arguments);return this._cachedClasses=null,this._cachedSelectors=null,this._cachedElements={},t},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return this._data=this.$el.data()||{},this._dropElemCache(),t},_classes:function(){return{}},_retrieveClass:function(e){return this._cachedClasses||(this._cachedClasses=this._classes()),this._cachedClasses[e]},_class:function(e,t){var r=this._retrieveClass(e);if(!r)throw new Error("CSS class for `"+e+"` does not found");return arguments.length>1&&(r=n(r,arguments)),r},_runClassMethod:function(e,t,n,r){var o=n?Array.isArray(n)?this._elem.apply(this,n):"string"==typeof n?this._elem(n):n:this.$el,a=Array.isArray(t)?this._class.apply(this,t):this._class(t);return void 0!==r?r.unshift(a):r=[a],o[e].apply(o,r)},_hasClass:function(e,t){return this._runClassMethod("hasClass",e,t)},_addClass:function(e,t){return this._runClassMethod("addClass",e,t)},_removeClass:function(e,t){return this._runClassMethod("removeClass",e,t)},_toggleClass:function(e,t,n){return 2===arguments.length&&"boolean"==typeof t&&(n=t,t=void 0),this._runClassMethod("toggleClass",e,t,[n])},_selectors:function(){return{}},_retrieveSelector:function(e){return this._cachedSelectors||(this._cachedSelectors=this._selectors()),this._cachedSelectors[e]},_selector:function(e,t){var r=this._getCacheKey.apply(this,arguments),o=this._retrieveSelector(r);return void 0===o&&(void 0===(o=this._cachedSelectors[e])&&(o="."+this._class(e),this._cachedSelectors[e]=o),arguments.length>1&&(o=n(o,arguments),this._cachedSelectors[r]=o)),o},_hasDescribedSelector:function(e){return!(!this._retrieveClass(e)&&!this._retrieveSelector(e))},_elem:function(e,t){var n=this._getCacheKey.apply(this,arguments),r=this._cachedElements[n];return r||(r=this._findElem.apply(this,arguments),this._cachedElements[n]=r,r)},_getCacheKey:function(e,t){return JSON.stringify(Array.prototype.slice.call(arguments,0))},_findElem:function(e,t){return this.$(this._selector.apply(this,arguments))},_dropElemCache:function(e){return e?delete this._cachedElements[this._getCacheKey.apply(this,arguments)]:this._cachedElements={},this},_getElemData:function(e,t){var n=this._elem(e).data();return t?n[t]:n}});return r},void 0===(a=r.apply(t,o))||(e.exports=a)},661533:(e,t,n)=>{var r;void 0===(r=function(e){var t=n(72326),r={},o=r.toString;return"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach((function(e){r["[object "+e+"]"]=e.toLowerCase()})),t.each=function(e,t){var n,a=0;if(function(e){var t=!!e&&"length"in e&&e.length,n=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?r[o.call(e)]||"object":void 0===e?"undefined":function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}(e)}(e);return!function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}(e)&&!function(e){return null!=e&&e===e.window}(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}(e))for(n=e.length;a<n&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},t.noConflict(),window.$||(window.$=t),window.$}.call(t,n,t,e))||(e.exports=r)},850487:(e,t,n)=>{"use strict";n.r(t),n(412212),n(551447)},385398:(e,t,n)=>{"use strict";n.r(t);var r=n(661533),o=n.n(r),a=n(353281);n(850487),o()((function(){new a.default({el:o()("#page_auth_holder")})}))},323344:(e,t,n)=>{"use strict";n.r(t),n.d(t,{QStoJSON:()=>d,getParam:()=>h,getQueryParam:()=>m,getQueryString:()=>_,removeQueryParam:()=>p,setParam:()=>f,setQueryParam:()=>v});var r=n(661533),o=n.n(r),a=n(629133),i=n.n(a),s=n(577486);function c(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function u(e){return e.indexOf("?")>=0?e.split("?")[1]:e}function l(e){try{e=decodeURIComponent(e.toString().replace(/\+/gi," "))}catch(t){e=""}return e.toString()}function d(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"==typeof e?r?function(e,t){var n,r={},a=u(e);return i().isObject(t)||(t={to_arrays:!1}),a?(o().each(a.split("&"),(function(e,o){var a;o=o.split("=");try{o[0]=decodeURIComponent(o[0])}catch(e){return console.error(e),r}if(void 0!==r[o[0]])c(r[o[0]],Array)?r[o[0]].push(l(o[1]||"")):(n=r[o[0]].toString(),r[o[0]]=[n,l(o[1]||"")]);else if(o[0].indexOf("[",1)>0){(a=o[0].split("["))[a.length]=l(o[1]);var i=0,s=function(e,n){if(i<n.length-1)if(n[i]=n[i].replace("]",""),""===n[i])Object.keys(e).length?e[Object.keys(e).length]=n[n.length-1]:e[0]=n[n.length-1];else{e[n[i]]=e[n[i]]||(t.to_arrays&&"]"===n[i+1]?[]:{});var r=e[n[i]];++i==n.length-1?e[n[i-1]]=n[i]:s(r,n)}};s(r,a)}else r[o[0]]=function(e){try{e=decodeURIComponent(e.toString().replace(/\+/gi," "))}catch(t){e=""}try{return JSON.parse(e)}catch(t){return e.toString()}}(o[1]||"")})),r):r}(e,r):function(e){var t,n={},r=u(e);if(!r)return n;try{o().each(r.split("&"),(function(e,r){(r=r.split("="))[0]=decodeURIComponent(r[0]),void 0===n[r[0]]?n[r[0]]=l(r[1]||""):c(n[r[0]],Array)?n[r[0]].push(l(r[1]||"")):(t=n[r[0]].toString(),n[r[0]]=[t,l(r[1]||"")])}))}catch(e){return console.error(e),{}}return n}(e):(t=e,n=[],i().each(t,(function(e,t){"object"==typeof e?i().each(e,(function(e,r){n.push("".concat(t,"[").concat(isNaN(r,10)?r:"","]=").concat(encodeURIComponent(e)))})):n.push("".concat(t,"=").concat(encodeURIComponent(e)))})),n.join("&"))}function _(){var e=window.location.href.replace(/.*\?/,"").toString();return e===window.location.href&&(e=""),e||""}function h(e){var t,n=window.location.pathname||"",r=new s.UnsafeRegExp("".concat(e.toString(),"/([^\\/]+)"),"i");return!(!n.length||!(t=n.match(r))||2!==t.length)&&0|(t[1]||1)}function f(e,t){var n=window.location.pathname,r=_();return t=t||{},i().each(e,(function(e,t){h(t)?n=n.replace(new s.UnsafeRegExp("(".concat(t,")/([^/]?)+(/)?(.*)")),e&&e.toString().length?"$1/".concat(e,"/$4"):"$4"):e&&e.toString().length&&("/"!==n.charAt(n.length-1)&&(n+="/"),n+="".concat(t,"/").concat(e,"/"))})),n+(!0!==t.only_path&&r.length?"?".concat(r):"")}function p(e,t){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).shouldDecodeValues,o=void 0===r||r,a=((i().isUndefined(t)?_():t.replace(/^\?/,"")).replace(/\+/g," ")||"").split(/[&;]/g);i().isArray(e)||(e=[e]);try{i().each(e,(function(e,t){for(n="".concat(decodeURIComponent(e),"="),t=a.length;t-- >0;)-1!==(o?decodeURIComponent(a[t]):a[t]).lastIndexOf(n,0)&&a.splice(t,1)}))}catch(e){console.error(e)}return t&&0===t.indexOf("?")?"?".concat(a.join("&")):a.join("&")}function m(e){var t="?".concat(_().replace(/\[/g,"%5B").replace(/\]/g,"%5D"));e=e.replace(/\[/g,"%5B").replace(/\]/g,"%5D");var n,r="[\\?&]".concat(e,"=([^&#]*)"),o=new s.UnsafeRegExp(r).exec(t);if(i().isNull(o))return!1;n="phone"===e?o[1]:o[1].replace(/\+/g," ");try{n=decodeURIComponent(n)}catch(e){return console.error(e),!1}return n}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=window.location.pathname,r=i().isString(t.query_string)?t.query_string:_();return 0!==r.indexOf("?")&&(r="?".concat(r)),i().each(e,(function(e,t){var n="";if("?"!==r&&(n=-1===r.indexOf("?")?"?":"&"),r=p(t,r),"object"==typeof e)r="".concat(r+n+t,"=").concat(e.join("&".concat(t,"=")));else{e=encodeURIComponent(e);var o=new s.UnsafeRegExp("([?|&])".concat(t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"=.*?(&|$)"),"ig"),a=r.match(o);if(a)if(e)r=r.replace(o,"$1".concat(t,"=").concat(e,"$2"));else{var i=a[0],c=i[0],u="";"&"===i[i.length-1]&&(u=c),r=r.replace(o,u)}else r+=e?"".concat(n+t,"=").concat(e):""}})),0!==r.indexOf("?")&&(r="?".concat(r)),!1===t.question_mark&&(r=r.replace(/^\?/,"")),(!0===t.only_query_string?"":n)+("?"===r?"":r.replace(/^\?&=?/,"?"))}var g="../build/transpiled/common/urlparams";window.define(g,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([g])},353281:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>V,getErrorByCode:()=>F});var r=n(345839),o=n.n(r),a=n(629133),i=n.n(a),s=n(575049),c=n.n(s),u=n(694615),l=n(509372),d=n(323344),_=n(955026),h=n(840214),f=n(560399),p=n(909599),m=n(368480),v=n(316222),g=n(715394),y=n(907040),b=n(661533);function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){C(a,r,o,i,s,"next",e)}function s(e){C(a,r,o,i,s,"throw",e)}i(void 0)}))}}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}function T(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?E(e):t;var n}(this,n)}}function R(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var M=!1,N="#authentication",x="mfa_required",D={login_submit:"#auth_submit",forgot_password:".auth_form__forgot_password",login_form:".auth__login-form",oauth2_form:".auth__mfa-form",sso_btn:".auth_form__field_wrapper-sso",forgot_form:".auth__forgot-form",register_btn:".auth_form__register",sso_submit_btn:".auth__sso_submit-form",submit_btn:".auth_form__submit",help_box:".standart_help_box_na",sso_error:".auth__error-send-sso",error_auth:"#error_auth",auth_error:"#auth_error",session_end:".session_end_wrapper",forgot_email:"#email_forgot",timer:".auth_forgot-form-timer",timer_wrapper:".auth_form__field_wrapper-timer-sso",timer_wrapper_reset:".auth_form__field_wrapper-timer-reset",sso_timer:".auth_form_sso-timer",sso_timer_data:".auth_form_sso-timer-data",email_text_before:".auth__email",email_text_after:".auth__email-send",forgot_form_text:".auth__forgot-form-text",forgot_form_text_after:".auth__forgot-form-text-email_send",forgot_form_error:".auth__error-send-forgot",session_end_login:"#session_end_login",input_code:'input[name="AUTH_CODE"]',input_code_by_id:'input[data-id="%s"]',auth__mfa_input_wrapper:".auth__mfa-input-wrapper",secret_email:".auth__mfa-from-email",oauth2_submit:".auth__mfa-submit",recaptcha:"#recaptcha",recaptcha_mfa:"#recaptcha_mfa",oauth_timer_wrapper:".js-oauth-timer-wrapper",oauth_resend_wrapper:".js-oauth-resend-wrapper",oauth_timer:".js-oauth-timer",oauth_resend:".js-oauth-resend",oauth_loader:".js-oauth-loader",oauth_error_wrapper:".js-auth-mfa-wrapper",oauth_error:".js-auth-mfa-error",oauth_back:".js-auth-back",textMfa:".js-auth-mfa__forgot-form-text",textRecoveryFirst:".js-auth-recovery__forgot-form-text",textRecoverySecond:".js-auth-recovery-second__forgot-form-text",oauthRecoveryResendContainer:".js-oauth_recovery-resend-container",recoveryLink:".js-oauth_recovery-resend"},L=function(e){return m.default[APP.lang_id][e]||e},F=function(e){switch(e){case y.VerificationCodeError.OTP_REQUIRED:case y.VerificationCodeError.CODE_REQUIRED:return L("Please enter a verification code");case y.VerificationCodeError.CODE_INVALID:case y.VerificationCodeError.CHALLENGE_REQUIRED:case y.VerificationCodeError.CHALLENGE_INVALID:return L("Invalid verification code");case y.VerificationCodeError.CODE_EXPIRED:return L("This code has expired. Click “Resend” for a new code");case y.VerificationCodeError.RECAPTCHA_REQUIRED:return L("Please, check reCaptcha");case y.VerificationCodeError.ONE_MORE_CODE_REQUIRED:return L("Please enter one more code");case y.VerificationCodeError.VERIFICATION_TOKEN_EXPIRED:case y.VerificationCodeError.VERIFICATION_TOKEN_MISSING:return L("Invalid verification code");case y.VerificationCodeError.DUPLICATE_CODE:return L("This one-time code has already been used. Please try a different one.");default:return L("Invalid verification code")}},U=function(e){var t;return 400===(null==e?void 0:e.status)?y.VerificationCodeError.RECAPTCHA_REQUIRED:null==e||null===(t=e.responseJSON)||void 0===t?void 0:t.error_code},V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(o,e);var t,n,r=O(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),I(E(e=r.apply(this,arguments)),"currentActiveInputId",1),I(E(e),"code",[]),I(E(e),"isResendAvailable",!0),I(E(e),"isAutoCodeSending",!0),I(E(e),"isValid",!1),I(E(e),"isCodeSendingForm",!1),I(E(e),"isLoading",!1),I(E(e),"lastErrorCode",""),I(E(e),"lastResendErrorCode",""),I(E(e),"activeMode",y.AuthMode.LOGIN),I(E(e),"verificationToken",""),I(E(e),"modeHistory",[]),I(E(e),"challengeByMode",{}),I(E(e),"resendTimerId",null),e}return t=o,n=[{key:"initialize",value:function(){var e=this.$(D.session_end);e.length?(M=!0,e.addClass("expanded").one(APP.transition_event,this.focusOnUsername)):((0,l.listenCookie)({name:v.IS_AUTH_RESTORED,listener:function(){location.reload()}}),this.focusOnUsername()),this.handlePostMessage=i().bind(this.handlePostMessage,this),this.setTimeForSsoTimer(),this.processQueryString()}},{key:"events",value:function(){var e;return I(e={},"keyup","_onKeyboardClick"),I(e,"click ".concat(D.login_submit,":not(.btn-disabled)"),"handleSubmitForm"),I(e,"click ".concat(D.forgot_password),"handleForgotPasswordClick"),I(e,"click ".concat(D.sso_btn),"handleSsoBtnClick"),I(e,"click ".concat(D.forgot_form," ").concat(D.register_btn),"handleRegisterBtnClick"),I(e,"click ".concat(D.sso_submit_btn," ").concat(D.register_btn),"handleRegisterBtnClickSso"),I(e,"click ".concat(D.forgot_form," ").concat(D.submit_btn,":not(.btn-disabled)"),"handleChangePasswordClick"),I(e,"click ".concat(D.sso_submit_btn," ").concat(D.submit_btn,":not(.btn-disabled)"),"handleClickSendSsoEmail"),I(e,"input ".concat(D.input_code),"handleCodeInputChange"),I(e,"keydown ".concat(D.input_code),"handleCodeInputKeydown"),I(e,"paste ".concat(D.input_code),"handleCodeInputPaste"),I(e,"focus ".concat(D.input_code),"handleTabFocus"),I(e,"mousedown ".concat(D.auth__mfa_input_wrapper),"handleCodeInputWrapperClick"),I(e,"click  ".concat(D.oauth2_submit),"handleSubmitByMode"),I(e,"click ".concat(D.oauth_resend),"handleOauth2ResendClick"),I(e,"click ".concat(D.oauth_back),"handleBackClick"),I(e,"click ".concat(D.recoveryLink),"handleRecoveryLinkClick"),e}},{key:"inputCode",value:function(){return this.$(D.input_code_by_id.replace("%s",this.currentActiveInputId))}},{key:"clearTimer",value:function(){null!==this.resendTimerId&&(clearTimeout(this.resendTimerId),this.resendTimerId=null)}},{key:"startTimer",value:function(){var e=this,t=this.$(D.oauth_timer),n=60;this.clearTimer();var r=function(){if(n<=0)return e.$(D.oauth_timer_wrapper).addClass("hidden"),void e.$(D.oauth_resend_wrapper).removeClass("hidden");var o=String(Math.floor(n/60)).padStart(2,"0"),a=String(n%60).padStart(2,"0");t.html("".concat(o,":").concat(a)),n--,e.resendTimerId=window.setTimeout(r,1e3)};r()}},{key:"onInputsFilled",value:function(){var e=this;return A((function(){return R(this,(function(t){switch(t.label){case 0:return e.isAutoCodeSending?(e.isAutoCodeSending=!1,[4,e.handleSubmitByMode()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))()}},{key:"handleOauth2ResendClick",value:function(){var e=this;return A((function(){var t,n,r;return R(this,(function(o){switch(o.label){case 0:if(t=e.getExtraFormData(D.recaptcha_mfa),!e.isResendAvailable||!e.checkCaptchaValidation(t,e.lastResendErrorCode))return[2];e.isResendAvailable=!1,e.$(D.oauth_loader).removeClass("hidden"),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,u.default.resendCode(T(P({},t),{challenge:e.getChallenge(y.AuthMode.MFA),csrf_token:e.csrf_token}))];case 2:return n=o.sent().challenge,e.setChallenge(y.AuthMode.MFA,n),e.startTimer(),e.$(D.oauth_timer_wrapper).removeClass("hidden"),e.$(D.oauth_resend_wrapper).addClass("hidden"),e.lastResendErrorCode="",[3,5];case 3:return r=o.sent(),e.lastResendErrorCode=U(r)||"",e.lastResendErrorCode===y.VerificationCodeError.RECAPTCHA_REQUIRED&&(e.setIsValid({isValid:!1,error:L("Please, check reCaptcha")}),e.$(D.oauth2_submit).removeClass("btn-disabled")),[3,5];case 4:return e.isResendAvailable=!0,e.$(D.oauth_loader).addClass("hidden"),[7];case 5:return[2]}}))}))()}},{key:"resetInputs",value:function(){var e=this;i().each(i().range(6),(function(t,n){var r=e.$(D.input_code_by_id.replace("%s",n+1));r.val("").trigger("input"),n?r.attr("tabindex",-1):r.attr("tabindex",0)})),this.code=[],this.currentActiveInputId=1}},{key:"updateActiveInput",value:function(e){this.inputCode().attr("tabindex",-1),this.currentActiveInputId=e,this.inputCode().attr("tabindex",0)}},{key:"handleBackClick",value:function(){this.setIsValid({isValid:!0}),this.resetInputs(),this.$(D.error_auth).text("").toggleClass("hidden",!0),this.lastErrorCode="",this.lastResendErrorCode="";var e=this.modeHistory.pop()||y.AuthMode.LOGIN;this.switchMode(e,!1)}},{key:"handleRegisterBtnClick",value:function(){this.$("".concat(D.help_box," .auth__state")).addClass("hidden"),this.$(D.forgot_form).addClass("hidden"),this.$(D.login_form).removeClass("hidden")}},{key:"handleCodeInputWrapperClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.setIsValid({isValid:!0}),this.inputCode().focus()}},{key:"handleTabFocus",value:function(){this.setIsValid({isValid:!0})}},{key:"setChallenge",value:function(e,t){this.challengeByMode[e]=t}},{key:"getChallenge",value:function(e){return this.challengeByMode[e]||""}},{key:"beginUiSubmit",value:function(){this.isLoading=!0,this.$(D.oauth2_submit).addClass("btn-disabled")}},{key:"endUiSubmit",value:function(){this.isLoading=!1,this.$(D.oauth2_submit).removeClass("btn-disabled")}},{key:"goToRecoveryScreen",value:function(e,t){t&&this.setChallenge(e,t),this.setIsValid({isValid:!0}),this.switchMode(e)}},{key:"handleVerificationSuccess",value:function(){var e;this.lastErrorCode="",(0,g.restoreAuth)(),M?null===(e=window.parent.APP.auth_modal)||void 0===e||e.destroy():window.location.reload()}},{key:"shouldRedirectToLogin",value:function(e){switch(e){case y.VerificationCodeError.VERIFICATION_TOKEN_EXPIRED:case y.VerificationCodeError.VERIFICATION_TOKEN_MISSING:return!0;case y.VerificationCodeError.CODE_EXPIRED:return this.activeMode===y.AuthMode.RECOVERY_FIRST||this.activeMode===y.AuthMode.RECOVERY_SECOND;default:return!1}}},{key:"handleVerificationError",value:function(e){this.lastErrorCode=U(e);var t=this.lastErrorCode,n=F(t);if(this.activeMode!==y.AuthMode.RECOVERY_FIRST||t!==y.VerificationCodeError.ONE_MORE_CODE_REQUIRED){if(this.shouldRedirectToLogin(t))return this.switchMode(y.AuthMode.LOGIN),this.$(D.error_auth).text("").toggleClass("hidden",!0),void this.hideCaptcha(D.recaptcha_mfa);this.setIsValid({isValid:!1,error:n})}else{var r,o,a,i=(null==e||null===(o=e.responseJSON)||void 0===o||null===(r=o.otp)||void 0===r?void 0:r.challenge)||(null==e||null===(a=e.otp)||void 0===a?void 0:a.challenge);this.goToRecoveryScreen(y.AuthMode.RECOVERY_SECOND,i)}}},{key:"isSubmitBlocked",value:function(e){return!(this.checkCaptchaValidation(e)&&!this.isLoading)||this.code.length<6&&(this.setIsValid({isValid:!1,error:F(y.VerificationCodeError.CODE_REQUIRED)}),!0)}},{key:"submitVerificationCode",value:function(){var e=this;return A((function(){var t,n;return R(this,(function(r){switch(r.label){case 0:if(t=e.getExtraFormData(D.recaptcha_mfa),e.isSubmitBlocked(t))return[2];e.beginUiSubmit(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,u.default.sendVerificationCode(T(P({},t),{csrf_token:e.csrf_token,grant_type:"otp_code",otp:{code:e.code.join(""),challenge:e.getChallenge(e.activeMode)}}))];case 2:return r.sent(),e.handleVerificationSuccess(),[3,5];case 3:return n=r.sent(),e.handleVerificationError(n),[3,5];case 4:return e.endUiSubmit(),[7];case 5:return[2]}}))}))()}},{key:"setIsValid",value:function(e){var t=e.isValid,n=void 0!==t&&t,r=e.error;if(this.isValid=n,this.isValid){if(this.lastErrorCode===y.VerificationCodeError.RECAPTCHA_REQUIRED)return;this.$(D.oauth_error_wrapper).removeClass("block").addClass("hidden")}else this.$(D.oauth_error).html(r),this.$(D.oauth_error_wrapper).removeClass("hidden").addClass("block")}},{key:"checkCaptchaValidation",value:function(e,t){return i().isUndefined(t)&&(t=this.lastErrorCode),t!==y.VerificationCodeError.RECAPTCHA_REQUIRED||Boolean(i().propertyOf(e)("g-recaptcha-response"))}},{key:"getExtraFormData",value:function(e){return i().reduce(this.$("".concat(e," :input")).serializeArray(),(function(e,t){return e[t.name]?(e[t.name].push||(e[t.name]=[e[t.name]]),e[t.name].push(t.value||"")):e[t.name]=t.value||"",e}),{})}},{key:"handleCodeInputPaste",value:function(e){var t=this;if(e.preventDefault(),this.resetInputs(),e.originalEvent){var n=e.originalEvent.clipboardData.getData("text/plain"),r=(0,_.getDigitsOnly)(n);if(r.length){var o=r.join("").split("");this.code=[],this.currentActiveInputId=1,o.forEach((function(e,n){t.$(D.input_code_by_id.replace("%s",n+1)).val(o[n]).trigger("input")}))}}}},{key:"handleCodeInputChange",value:function(e){var t=e.target.value;if(/^\d$/.test(t)){if(this.isValid||this.setIsValid({isValid:!0}),this.code.push(t),6===this.code.length)return this.inputCode().blur(),void this.onInputsFilled();var n=this.currentActiveInputId+1;this.updateActiveInput(n),this.inputCode().focus()}else e.target.value=""}},{key:"handleCodeInputKeydown",value:function(e){if(e.originalEvent&&8===e.keyCode)if(this.isValid||this.setIsValid({isValid:!0}),this.inputCode().val())this.inputCode().val("").trigger("change"),this.code.pop();else{if(1===this.currentActiveInputId)return;this.updateActiveInput(this.currentActiveInputId-1),this.code.pop(),this.inputCode().focus()}}},{key:"handleRegisterBtnClickSso",value:function(){this.$(D.login_form).removeClass("hidden"),this.$(D.sso_submit_btn).remove()}},{key:"handleForgotPasswordClick",value:function(){this.$(D.forgot_email).val((0,l.get)("last_login")),this.$(D.login_form).addClass("hidden"),this.$(D.forgot_form).removeClass("hidden")}},{key:"handleSsoBtnClick",value:function(){var e="/oauth2/sso/saml/login";if(c().ios()){var t="amocrm://www.".concat(APP.constant("account").subdomain,".amocrm.ru/oauth2/sso/saml/login"),n=window.open(t);setTimeout((function(){var t="https://apps.apple.com/ru/app/amocrm-2-0/id1128315486";n.closed?window.location.replace(t):(n.location.replace(t),setTimeout((function(){n.closed||n.location.replace(e)}),1e3))}),100)}else window.open(e);i().isFunction(this.unsubscribeFromSsoAuthMessage)&&this.unsubscribeFromSsoAuthMessage(),this.unsubscribeFromSsoAuthMessage=this.subscribeToSsoAuthMessage()}},{key:"handlePostMessage",value:function(e){window.location.origin===e.origin&&this.checkSsoAuthEventMessage({data:e.data})}},{key:"subscribeToSsoAuthMessage",value:function(){var e=this;window.addEventListener("message",this.handlePostMessage);var t=(0,f.subscribeToTabsBroadcast)("ssoMessage",(function(t){e.checkSsoAuthEventMessage({data:t})}));return function(){t(),window.removeEventListener("message",e.handlePostMessage)}}},{key:"handleSubmitForm",value:function(){var e=this,t=this.getExtraFormData(N);if(this.checkCaptchaValidation(t)&&!this.isLoading)return(0,l.set)({name:"last_login",value:this.$(D.session_end_login).val()}),this.isLoading=!0,this.$(D.session_end).removeClass("expanded"),this.$(D.auth_error).text("").hide(),this.$(D.login_submit).addClass("btn-disabled"),u.default.auth(t).done((function(t){var n,r=t.server_time;(0,l.set)(p.SERVER_TIME_COOKIE_KEY,r),e.lastErrorCode="",(0,g.restoreAuth)(),M?null===(n=window.parent.APP.auth_modal)||void 0===n||n.destroy():window.location.reload()})).fail((function(n){var r=n.responseJSON;if(e.$(D.session_end).addClass("expanded"),e.$(D.error_auth).text(L(r.detail)).show(),e.$(D.auth_error).text(r.detail).show(),e.$(D.login_submit).removeClass("btn-disabled"),e.lastErrorCode=U(n),403===r.status){var o=t.csrf_token,a=t.username,i=(r.otp||{}).challenge;e.verificationToken=n.responseJSON.verification.token,e.$(D.forgot_form_text).removeClass("hidden"),e.handleAuthMfaError({csrfToken:o,username:a,challenge:i})}})).always((function(){e.isLoading=!1})),!1}},{key:"handleAuthMfaError",value:function(e){this.showOauth2Form(e),this.hideCaptcha(D.recaptcha),this.switchMode(y.AuthMode.MFA)}},{key:"showOauth2Form",value:function(e){var t=e.csrfToken,n=void 0===t?"":t,r=e.username,o=void 0===r?"":r,a=e.challenge,i=void 0===a?"":a,s=e.maskedEmail,c=(void 0===s?"":s)||(0,h.obfuscateEmail)(o);this.$(D.secret_email).html(c),this.csrf_token=n,this.username=o,this.setChallenge(y.AuthMode.MFA,i)}},{key:"_onKeyboardClick",value:function(e){var t=this;return A((function(){var n;return R(this,(function(r){switch(r.label){case 0:return 13!==(n=e.keyCode)||!t.isCodeSendingForm||t.isLoading?[3,2]:[4,t.handleSubmitByMode()];case 1:return r.sent(),[2];case 2:return 13===n&&t.handleSubmitForm(),[2]}}))}))()}},{key:"checkSsoAuthEventMessage",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;try{var t=JSON.parse(e);if("SSOAuth"!==t.message_type)return;if(i().isFunction(this.unsubscribeFromSsoAuthMessage)&&this.unsubscribeFromSsoAuthMessage(),t.success)return document.location.href="/",void this.$(D.error_auth).text("").toggleClass("hidden",!0);if(t.error_code===x){var n=this.getExtraFormData(N).csrf_token,r=t||{},o=r.otp,a=r.masked_email,s=(o||{}).challenge;return void this.handleAuthMfaError({challenge:s,csrfToken:n,maskedEmail:a})}this.$(D.error_auth).text(t.error_message).toggleClass("hidden",!1)}catch(e){}}},{key:"handleChangePasswordClick",value:function(){var e=this,t=this.$("".concat(D.forgot_form," ").concat(D.forgot_email)).val();if(this.$("".concat(D.help_box," ").concat(D.forgot_form_error)).addClass("hidden"),(0,_.isValidEmail)(t)){var n=this.$(D.timer);u.default.resetPass(t).done((function(){var t=e.setTimerToNextClick(n,{event_class:"".concat(D.forgot_form," ").concat(D.submit_btn),timer_class:D.timer_wrapper_reset},e.handleChangePasswordClick);window.requestAnimationFrame(t),e.$(D.forgot_form_text).addClass("hidden"),e.$(D.forgot_form_text_after).removeClass("hidden")})).fail((function(){e.$("".concat(D.help_box," ").concat(D.forgot_form_error)).removeClass("hidden"),e.$("".concat(D.forgot_form," ").concat(D.submit_btn)).removeClass("btn-disabled")})),this.$("".concat(D.forgot_form," ").concat(D.submit_btn)).addClass("btn-disabled")}else this.$("".concat(D.help_box," ").concat(D.forgot_form_error)).removeClass("hidden")}},{key:"setTimeForSsoTimer",value:function(){if((new Date).getTime()/1e3-this.$(D.sso_timer_data).val()<180){var e=this.$(D.sso_timer_data).val(),t=this.setTimerToNextClick(this.$(D.sso_timer),{event_class:"".concat(D.sso_submit_btn," ").concat(D.submit_btn),timer_class:D.timer_wrapper},this.handleClickSendSsoEmail,e);window.requestAnimationFrame(t),this.$("".concat(D.sso_submit_btn," ").concat(D.submit_btn)).addClass("btn-disabled")}}},{key:"handleClickSendSsoEmail",value:function(e){var t=this,n=b(e.target).val(),r=this.$(D.sso_timer);this.$("".concat(D.help_box," ").concat(D.sso_error)).addClass("hidden"),u.default.sendSsoEmail(n).done((function(){t.$(D.email_text_before).addClass("hidden"),t.$(D.email_text_after).removeClass("hidden");var e=t.setTimerToNextClick(r,{event_class:"".concat(D.sso_submit_btn," ").concat(D.submit_btn),timer_class:D.timer_wrapper},t.handleClickSendSsoEmail);window.requestAnimationFrame(e)})).fail((function(){t.$("".concat(D.help_box," ").concat(D.sso_error)).removeClass("hidden"),t.$("".concat(D.sso_submit_btn," ").concat(D.submit_btn)).removeClass("btn-disabled")})),this.$("".concat(D.sso_submit_btn," ").concat(D.submit_btn)).addClass("btn-disabled")}},{key:"setTimerToNextClick",value:function(e,t,n,r){var o=this,a=r;this.$(t.timer_class).removeClass("hidden");var s=function(r){var c=(performance.timeOrigin+r)/1e3;i().isUndefined(a)&&(a=c);var u=Math.trunc(c-a);u<180?(e.text(o.prepareTimerFormat(180-u)),window.requestAnimationFrame(s)):(e.text(""),b(t.event_class).on("click",n),o.$(t.event_class).removeClass("btn-disabled"),o.$(t.timer_class).addClass("hidden"))};return s}},{key:"prepareTimerFormat",value:function(e){var t=Math.trunc(Number(e)/60),n=Number(e)%60;return("0"+t).slice(-2)+":"+("0"+n).slice(-2)}},{key:"focusOnUsername",value:function(){this.$('input[name="username"]').val(this.$('input[name="username"]').val()).focus()}},{key:"hideCaptcha",value:function(e){var t=this.$(e);t.hasClass("hidden")||t.addClass("hidden")}},{key:"processQueryString",value:function(){var e="error_code";if((0,d.getQueryParam)(e)===x){var t=location.pathname,n="masked_email",r="otp[challenge]",o=this.getExtraFormData(N).csrf_token,a=(0,d.getQueryParam)(n)||"",i=(0,d.getQueryParam)(r)||"";this.handleAuthMfaError({csrfToken:o,username:a,challenge:i});var s=(0,d.removeQueryParam)([e,n,r,"otp[expires_at]"]);history.replaceState({},"",t+s)}}},{key:"pushModeHistory",value:function(e,t){t&&this.activeMode!==e&&this.modeHistory.push(this.activeMode)}},{key:"isCodeMode",value:function(e){return e===y.AuthMode.MFA||e===y.AuthMode.RECOVERY_FIRST||e===y.AuthMode.RECOVERY_SECOND}},{key:"updateTopSections",value:function(e){this.$(D.login_form).toggleClass("hidden",e!==y.AuthMode.LOGIN),this.$(D.forgot_form).toggleClass("hidden",e!==y.AuthMode.FORGOT),this.$(D.oauth2_form).toggleClass("hidden",!this.isCodeMode(e))}},{key:"updateMfaParagraphs",value:function(e){this.$(D.textMfa).toggleClass("hidden",e!==y.AuthMode.MFA),this.$(D.textRecoveryFirst).toggleClass("hidden",e!==y.AuthMode.RECOVERY_FIRST),this.$(D.textRecoverySecond).toggleClass("hidden",e!==y.AuthMode.RECOVERY_SECOND)}},{key:"updateBottomBlocks",value:function(e){var t=e===y.AuthMode.MFA;this.$(D.oauth_resend_wrapper).toggleClass("hidden",!t),this.$(D.oauth_timer_wrapper).toggleClass("hidden",!0),this.$(D.oauthRecoveryResendContainer).toggleClass("hidden",!t),this.clearTimer()}},{key:"updateFlags",value:function(e){var t=this.isCodeMode(e);this.isCodeSendingForm=t,this.isAutoCodeSending=t}},{key:"resetUi",value:function(e){this.isCodeMode(e)&&(this.resetInputs(),this.inputCode().focus(),this.$(D.oauth_error_wrapper).removeClass("block").addClass("hidden"),this.hideCaptcha(D.recaptcha_mfa))}},{key:"switchMode",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.pushModeHistory(e,t),this.activeMode=e,this.updateTopSections(e),this.updateMfaParagraphs(e),this.updateBottomBlocks(e),this.updateFlags(e),this.resetUi(e)}},{key:"handleSubmitByMode",value:function(){var e=this;return A((function(){return R(this,(function(t){switch(t.label){case 0:return[4,e.submitVerificationCode()];case 1:return t.sent(),[2]}}))}))()}},{key:"handleRecoveryLinkClick",value:function(){var e=this;return A((function(){var t,n,r,o,a,i;return R(this,(function(s){switch(s.label){case 0:if(t=e.getExtraFormData(D.recaptcha_mfa),!e.checkCaptchaValidation(t)||e.isLoading)return[2];e.beginUiSubmit(),s.label=1;case 1:return s.trys.push([1,3,4,5]),n=e.verificationToken,r=e.csrf_token,[4,u.default.otp({target:"authenticate",type:"recovery",verification_token:n,csrf_token:r})];case 2:return o=s.sent(),a=null==o?void 0:o.challenge,e.goToRecoveryScreen(y.AuthMode.RECOVERY_FIRST,a),[3,5];case 3:return i=s.sent(),e.handleVerificationError(i),[3,5];case 4:return e.endUiSubmit(),[7];case 5:return[2]}}))}))()}}],n&&w(t.prototype,n),o}(o().View),j="../build/transpiled/core/auth/auth";window.define(j,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([j])},907040:(e,t,n)=>{"use strict";var r,o;n.r(t),n.d(t,{AuthMode:()=>o,VerificationCodeError:()=>r}),function(e){e.OTP_REQUIRED="oauth.otp.required",e.VERIFICATION_TOKEN_EXPIRED="oauth.verification_token.expired",e.VERIFICATION_TOKEN_MISSING="oauth.verification_token.missing",e.CODE_REQUIRED="oauth.otp.code_required",e.CODE_INVALID="oauth.otp.code_invalid",e.CHALLENGE_REQUIRED="oauth.otp.challenge_required",e.CHALLENGE_INVALID="oauth.otp.challenge_invalid",e.CODE_EXPIRED="oauth.otp.code_expired",e.RECAPTCHA_REQUIRED="oauth.otp.recaptcha_required",e.ONE_MORE_CODE_REQUIRED="oauth.otp.one_more_code_required",e.DUPLICATE_CODE="oauth.otp.duplicate_code"}(r||(r={})),function(e){e.LOGIN="login",e.FORGOT="forgot",e.MFA="mfa",e.RECOVERY_FIRST="rec1",e.RECOVERY_SECOND="rec2"}(o||(o={}))},368480:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={en:{"Invalid verification code":"Invalid verification code","This code has expired. Click “Resend” for a new code":"This code has expired. Click “Resend” for a new code","Please enter a verification code":"Please enter a verification code","Please, check reCaptcha":"Please, check reCaptcha","The user credentials were incorrect":"The user credentials were incorrect","reCaptcha validation fail":"Please, check reCaptcha","This one-time code has already been used. Please try a different one.":"This one-time code has already been used. Please try a different one."},es:{"Invalid verification code":"Código de verificación inválido","This code has expired. Click “Resend” for a new code":"Código caducado. Clic en «Reenviar» para uno nuevo","Please enter a verification code":"Ingresa un código de verificación","Please, check reCaptcha":"Por favor, verifica el reCaptcha","The user credentials were incorrect":"Las credenciales del usuario son incorrectas","reCaptcha validation fail":"Por favor, verifica el reCaptcha","This one-time code has already been used. Please try a different one.":"Este código de un solo uso ya fue utilizado. Por favor, intenta con uno diferente."},pt:{"Invalid verification code":"Código de verificação inválido","This code has expired. Click “Resend” for a new code":"Código expirado. Vá em “Reenviar” e receba um novo","Please enter a verification code":"Por favor, insira um código de verificação","Please, check reCaptcha":"Por favor, verifique o reCaptcha","The user credentials were incorrect":"As credenciais do usuário estão incorretas","reCaptcha validation fail":"Por favor, verifique o reCaptcha","This one-time code has already been used. Please try a different one.":"Este código único já foi utilizado. Por favor, tente um diferente."},id:{"Invalid verification code":"Kode verifikasi tidak valid","This code has expired. Click “Resend” for a new code":"Kode ini sudah kedaluwarsa. Klik “Kirim Ulang” untuk kode baru","Please enter a verification code":"Silakan masukkan kode verifikasi","Please, check reCaptcha":"Silakan centang reCaptcha","The user credentials were incorrect":"Informasi login pengguna salah","reCaptcha validation fail":"Validasi reCaptcha gagal","This one-time code has already been used. Please try a different one.":"Kode sekali pakai ini sudah pernah digunakan. Silakan coba kode lain."},tr:{"Invalid verification code":"Geçersiz doğrulama kodu","This code has expired. Click “Resend” for a new code":"Kodun süresi doldu. Yeni kod için “Tekrar Gönder”e tıklayın","Please enter a verification code":"Lütfen bir doğrulama kodu girin","Please, check reCaptcha":"Lütfen reCaptcha’yı kontrol edin","The user credentials were incorrect":"Kullanıcı bilgileri hatalı","reCaptcha validation fail":"Lütfen reCaptcha’yı kontrol edin","This one-time code has already been used. Please try a different one.":"Bu tek seferlik kod zaten kullanılmış. Lütfen farklı bir tane deneyin."},ru:{"Invalid verification code":"Неверный код подтверждения","This code has expired. Click “Resend” for a new code":"Срок действия истек. Нажмите “Отправить снова”","Please enter a verification code":"Пожалуйста, введите код подтверждения","Please, check reCaptcha":"Пожалуйста, пройдите reCaptcha","The user credentials were incorrect":"Неверные учетные данные","reCaptcha validation fail":"Пожалуйста, пройдите reCaptcha","This one-time code has already been used. Please try a different one.":"Этот одноразовый код уже был использован. Пожалуйста, введите другой."}}},313981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{View:()=>f,default:()=>p});var r=n(629133),o=n.n(r),a=n(345839),i=n.n(a),s=n(810427),c=n.n(s),u=n(168807);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=".default:page:ns";c().prototype.remove=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.undelegateEvents().$el.off(this.ns),!1===e&&this.stopListening(),(o().isUndefined(e)||!0===e)&&i().View.prototype.remove.apply(this,[e].concat(d(n)))};var h=c().extend({ns:_,initialize:function(e){this.setNS(),c().prototype.initialize.call(this),e=e||{},this._page_components={active:[],all:{}},!1!==e.init_components&&this._initComponents()},delegateEvents:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=c().prototype.delegateEvents.apply(this,t),a=o().result(this,"document_events",{});return o().each(a,(function(e,t){var n,r=t.split(" "),a=[];a.push("".concat(r.shift()+this.ns,".document")),r.length&&a.push(r.join(" ")),o().isFunction(e)?a.push(o().bind(e,this)):a.push(o().bind(this[e],this)),this._has_global_events=!!a.length,(n=this._$document).on.apply(n,d(a))}),this),r},undelegateEvents:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._has_global_events&&(o().each(o().result(this,"document_events",{}),(function(e,t){var n,r=t.split(" "),o=[];o.push("".concat(r.shift()+this.ns,".document")),r.length&&o.push(r.join(" ")),(n=this._$document).off.apply(n,d(o))}),this),this._has_global_events=!1),c().prototype.undelegateEvents.apply(this,t)},destroy:function(e){e=!o().isUndefined(e)&&e,this._$window.off(this.ns),this._page_components&&(this._page_components.active=o().filter(this._page_components.active,(function(t){return this._destroyComponent(t,e),!1}),this)),this.remove(e)},setNS:function(){this.ns===_&&(this.ns=".".concat(o().uniqueId("amo_view_")))},_initComponents:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.components&&this.components.apply(this,d(t));o().each(r,(function(e){this._addComponent.apply(this,d(e))}),this)},_addComponent:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!o().isFunction(e))throw new Error("First argument of a component must be a function");var a=this._initComponent(e,n),i="component_".concat((0,u.randHex)());return o().isFunction(a.destroy)&&(a.destroy=this._wrapComponentDestroy(a.destroy,this)),a.__page_component_hash=i,this._page_components.active.push(a),this._page_components.all[i]={Component:e,args:n},a},_wrapComponentDestroy:function(e,t){return o().wrap(e,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e.apply(this,r),t._page_components.active=o().without(t._page_components.active,this),t._page_components.all=o().omit(t._page_components.all,this.__page_component_hash)}))},_initComponent:function(e,t){var n;return t=[e].concat(t||[]),new((n=e).bind.apply(n,d(t)))},_destroyComponent:function(e,t){return e&&e.__page_component_hash&&(o().isFunction(e.destroy)?e.destroy(t):o().isFunction(e.remove)&&e.remove(t),e=null),this},_disableComponent:function(e){var t;return e&&e.__page_component_hash&&(t=o().indexOf(this._page_components.active,e),this._destroyComponent(e),-1!==t&&this._page_components.active.splice(t,1)),this},_enableComponent:function(e){var t;return e&&e.__page_component_hash&&-1===o().indexOf(this._page_components.active,e)&&(t=this._page_components.all[e.__page_component_hash],e=this._initComponent(t.Component,t.args)),this}}),f=h;const p=h;var m="../build/transpiled/core/view";window.define(m,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([m])},366302:(e,t,n)=>{"use strict";n.r(t),n.d(t,{disallowedWidgetsRegExp:()=>c});var r=n(971588),o=n(577486),a=["amo_mailchimp","mailchimp_kommo","t57c8mssj0hf4lyfyefawyicehiykduabll1w3gt","amo_1c_fresh","amo_unf","amo_tinkoffbacq","amo_yakassa","amo_sberbacq","amo_alfabacq","amo_twilio6","mercado_libre","linkedin_kommo","wix_kommo","lazada","nuvemshop","woocom","shopify","gotoconnect","amo_rd_station","amo_googledocsgenv2","amo_docsgenv2_com","paypal","mercado_pago","amo_dropbox","amo_zoom","amo_zapier","dlzsz9jezzn3yicnojvtwddrip6anomozhrybv72","amo_intercom","amo_activecampaign","amo_stripe","amo_typeform","lzawrqwjjathddycg8griw0lwx1bfaodscd4wfwh","amo_jotform","amo_ringcentral_vol2","zenvia_voip","nvoip","amo_smsc","amo_yametrika","amo_new_moysklad","avito_work","amo_evotor","amo_eskiz","amo_lead_scraper","amo_tranzaptorcom","amo_asterisk","amo_zendesk","amo_ofd","google_translator","cloudtalk","xf2tnprxxab1iax0sclmvrsbwcyazdoxywdgaj1b","tokopedia","api4com","amo_aircall",r.default.WHATSAPP,r.default.WHATSAPP_WHITE,r.default.TIKTOK],i="(".concat(a.join("|"),")"),s="\\/(upl|widgets)\\/(?!(".concat(i,")\\/).*"),c=new o.UnsafeRegExp("".concat("https?:\\/\\/([^.]+\\.)?([^.]+\\.)?(amocrm2?\\.(saas|ru)|kommo2?\\.com)").concat(s))},643095:(e,t,n)=>{"use strict";n.r(t),n.d(t,{captureException:()=>y,isDisallowedWidgetTraceDetected:()=>m,sentryLogBrokenFeed:()=>S,sentryLogErrorHandler:()=>A,sentryLogErrorModal:()=>E,sentryLogFailedGetAmojoToken:()=>w,sentryLogSocketDisconnect:()=>I,sentryLogSpaceError:()=>C,sentryLogUserflowUpdateUserError:()=>P,startBrowserTracingSpan:()=>v});var r=n(661533),o=n.n(r),a=n(629133),i=n.n(a),s=n(998798),c=n(955026),u=n(366302);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}var h=[],f=[],p={fatal:"fatal",error:"error",warning:"warning",log:"log",info:"info",debug:"debug"},m=function(e){return u.disallowedWidgetsRegExp.test(e)};function v(e){var t=e.entity;t&&i().isFunction(window.sentryStartBrowserTracingSpan)&&window.sentryStartBrowserTracingSpan({isPageLoad:APP.first_load,entity:t})}function g(){switch(!0){case(0,s.isImboxSection)():return"imbox";case APP.isCard()&&"leads"===APP.getBaseEntity():return"leads-card";case"leads-pipeline"===APP.data.current_entity:return"leads-pipeline";default:return"".concat(APP.getBaseEntity()).concat(APP.isCard()?"-card":"")}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=window.Sentry;n&&navigator.onLine?(h.length&&b(),t.tags=i().defaults(t.tags||{},{"manually-logged":!0}),n.captureException(e,t)):(h.push([e,t]),(0,c.isDev)()&&console.error("Sentry is offline, error pushed to queue:",e,t))}function b(){var e=h.slice(0);h=[],i().each(e,(function(e){var t;y.apply(void 0,function(e){if(Array.isArray(e))return l(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))}function E(e){var t=g(),n=new Error("Error modal showed - ".concat(t));n.stack&&m(n.stack)||setTimeout((function(){y(n,{tags:{"oops-error.entity":t,"navigator.online":navigator.onLine,"message.empty":i().isEmpty(e)},extra:{"Error Message":e,"Last Ajaxes":f}}),f=[]}))}function C(e){var t=e.errXHR,n=e.extra,r=void 0===n?{}:n;if(t){var o=t.getResponseHeader("X-Request-Id"),a=t.status,i=t.responseText,s=g();y(new Error("Space error - ".concat(s)),{tags:{"space-error.entity":s,"navigator.online":navigator.onLine},extra:_({"Request Id":o,"Status Code":a,"Response Message":i},r)})}}function A(e){var t=e.errXHR,n=e.variant,r=e.extra,o=void 0===r?{}:r;if(t){var a=t.status,i=t.responseText,s=t.getResponseHeader("X-Request-Id"),c=g();y(new Error("Error handler - ".concat(c)),{tags:{"error-handler.entity":c,"navigator.online":navigator.onLine,"handle.variant":n},extra:_({"Request Id":s,"Status Code":a,"Response Message":i},o)})}}function w(e){var t=e.responseJSON,n=void 0===t?{}:t,r=e.isNetworkError,o=void 0!==r&&r,a=APP.constant("account").subdomain,i=(n.response||{}).error,s=void 0===i?{error:""}:i;y(new Error("Failed to receive amojo token"),{tags:{subdomain:a},extra:{"Error reason":o?"Network error":s}})}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.reason,n=void 0===t?{}:t,r=e.socketName,o=void 0===r?"":r,a=e.code,i=APP.constant("account").subdomain;y("Socket disconnected - ".concat(o),{tags:{subdomain:i,socket:o,"socket.error-code":a},extra:{"Disconnected reason":JSON.stringify(n),level:p.info}})}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g();y(new Error("Broken feed - ".concat(t," ")),{tags:{"broken-feed.entity":t},extra:{Options:e}})}function P(e){var t=e.responseJSON,n=APP.constant("account").subdomain,r=t.status,o=t.title;y(new Error("Userflow Update User Error"),{tags:{subdomain:n},extra:{"Response JSON":{status:r,title:o}}})}o()(document).on("ajaxError ajaxComplete",(function(e,t,n){!function(e,t){var n={url:t.url,requestId:e.getResponseHeader("X-Request-Id"),status:e.status},r=e.responseText;i().isString(r)&&r.length&&i().extend(n,{responseMessage:r}),f.push(n),f.length>5&&f.shift()}(t,n)})),o()(window).on("online",b)},761634:(e,t,n)=>{"use strict";n.r(t),n.d(t,{get:()=>s,getSupportBotId:()=>c});var r=n(629133),o=n.n(r),a=n(926168),i=APP.constant("amojo_bots");function s(){var e={};return o().each(i,(function(t){e[t.id]={id:t.id,amojo_id:t.id,name:t.name,active:!0,code:t.code,avatar:t.avatar,option:t.name,title:t.name,bot:!0,group:"bots",is_direct:t.direct,is_integration_bot:t.is_integration_bot,is_available_for_chatting:t.is_available_for_chatting}})),e}function c(){var e=o().find(s(),(function(e){return!(0,a.isCustomers)()&&"amo.support"===e.code}));return o().propertyOf(e)(["id"])}var u="../build/transpiled/interface/amojo/bots";window.define(u,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([u])},513017:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(629133),o=n.n(r);const a={daysFormater:function(e,t){var n,r,a;return t&&7===o().last(e).value&&(o().last(e).value=0,e=o().sortBy(e,"value")),o().every(e,(function(e){return r||0===r?r+1===e.value?(r=e.value,n="dash"):n="comma":(r=e.value,n="dash"),"dash"===n})),o().find(e,(function(t){if(o().isUndefined(a))a=t.name;else{if("dash"===n)return a+=" - ".concat(o().last(e).name),!0;a+=", ".concat(t.name)}})),a}};var i="../build/transpiled/interface/controls/checkboxes_dropdown/format_days";window.define(i,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([i])},500034:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Features:()=>r,default:()=>l,getAccountFeatures:()=>c,isFeatureAvailable:()=>s,isFeatureDefined:()=>i,updateFeature:()=>u});var r,o=n(629133),a=n.n(o);function i(e){return!a().isUndefined(APP.constant("features")[e])}function s(e){return APP.constant("features")[e]}function c(){return APP.constant("features")}function u(e,t){APP.constant("features")[e]=t}!function(e){e.ASYNC_CONSTANTS="async_constants",e.IS_WA_SANDBOX_FEED_TIP_AVAILABLE="is_wa_sandbox_feed_tip_available",e.IS_WA_SANDBOX_MENU_TIP_AVAILABLE="is_wa_sandbox_menu_tip_available",e.IS_AI_AGENT_AVAILABLE="ai_agent_available",e.IS_AI_AGENT_ENABLED="ai_agent_enabled",e.IS_AI_COPILOT_AVAILABLE="ai_copilot_available",e.IS_AI_COPILOT_VIEWABLE="ai_copilot_viewable",e.EMOTION_DETECTOR_AVAILABLE="emotion_detector_available",e.IS_EMOTION_DETECTOR_ENABLED="is_emotion_detector_enabled",e.PARTNERS_HELP_AVAILABLE="partners_help_available",e.WABA_PRODUCTS_AVAILABLE="waba_products_available",e.HIRE_PARTNER_POPUP="hire_partner_popup",e.WHATSAPP_MOBILE_ONBOARDING="whatsapp_mobile_onboarding",e.HAD_WALITE_SOURCE="had_walite_source",e.AIREWRITER="airewriter",e.IS_CUSTOMIZATION_FOR_GLOBAL="is_customization_for_global",e.ONBOARDING_INDUSTRY_NEW_QUALIFICATION="onboarding_industry_new_qualification",e.INFLUENCERS_TOOLS_WIZARD_AVAILABLE="influencers_tools_wizard_available",e.SHOW_PROMOTE_WACA_MIGRATION_MODAL="show_promote_waca_migration_modal",e.SHOW_PROMOTE_WACA_MIGRATION_MODAL_COHORT="show_promote_waca_migration_modal_cohort",e.SHOW_WABA_TRANSFER_TO_WACA_MIGRATION_MODAL="show_waba_transfer_to_waca_migration_modal",e.WABA_BUSINESS_API_CLOSING="waba_business_api_closing",e.IS_PROMOTE_WALITE_TO_WACA_MIGRATION_MODAL_SEEN="is_promote_walite_to_waca_migration_modal_seen",e.B2C_INBOX_CARD="new_inbox_card",e.GLOBAL_INBOX="global_inbox",e.GLOBAL_CHAT_CONTROL="global_chat_control",e.BEXS_RECURRING="bexs_recurring",e.SEPARATE_TEMPLATES_SECTION="separate_templates_section",e.AI_LIMITED="ai_limited",e.AI_AGENT_VIEWABLE="ai_agent_viewable",e.IS_AI_CONFIGURED="is_ai_configured",e.IS_AI_FUNCTIONALITY_ENABLED_IN_FEED="is_ai_functionality_enabled_in_feed",e.SYSTEM_NAVIGATION_V2="system_navigation_v2",e.SYSTEM_NAVIGATION_V2_VIEWABLE="system_navigation_v2_viewable",e.BROADCASTING_PRESETS_MODAL_DISABLED="broadcasting_presets_modal_disabled",e.MM_LITE_API="mm_lite_api",e.SHOULD_SHOW_CUSTOM_AI_SOURCE_MODAL="should_show_custom_ai_source_modal",e.AI_AGENT_ACTION_SET_CUSTOM_FIELD="ai_agent_action_set_custom_field",e.AI_AGENT_CONDITION_OUTSIDE_WORKTIME="ai_agent_condition_outside_worktime",e.AI_AGENT_ACTION_ADD_TASK="ai_agent_action_add_task",e.AI_AGENT_ACTION_CHANGE_RESPONSIBLE="ai_agent_action_change_responsible",e.AI_AGENT_ACTION_CHANGE_LEAD_STATUS="ai_agent_action_change_lead_status",e.AI_AGENT_CONDITION_MESSAGE_TYPE="ai_agent_condition_message_type",e.AI_AGENT_ACTION_MANAGE_TAGS="ai_agent_action_manage_tags",e.AI_AGENT_ACTION_RUN_SALESBOT="ai_agent_action_run_salesbot",e.BEXS_INSTALLMENTS_FOR_EVERY_PAYMENT="bexs_installments_for_every_payment",e.AI_AGENT_CONDITION_USER_ASKS_FIRST_TIME="ai_agent_condition_user_asks_first_time",e.PIX_PAY_SYSTEM="pix_pay_system",e.AI_AGENT_ACTIONS_TARIFF_CHECK="ai_agent_actions_tariff_check"}(r||(r={}));const l={isFeatureDefined:i,isFeatureAvailable:s,getAccountFeatures:c,isAvailable:s,getAll:c};var d="../build/transpiled/utils/account/features";window.define(d,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([d])},926168:(e,t,n)=>{"use strict";n.r(t),n.d(t,{checkIsInvoicesFeatureEnabled:()=>N,checkIsProductsFeatureEnabled:()=>L,convertElementType:()=>k,getContactFullName:()=>U,getEntityByTypeId:()=>P,getEntityLangIdWithCase:()=>T,getLangId:()=>R,getLeadsWinlostStatuses:()=>I,getMatchingEntity:()=>E,getProductsCatalogId:()=>D,getSuppliersCatalogId:()=>x,getVersion:()=>F,isCustomers:()=>V,isExpired:()=>$,isHelpbotEnabled:()=>M,isLostStatus:()=>A,isPartner:()=>j,isPartnersHelpAvailable:()=>G,isTrial:()=>B,isTrialExpired:()=>W,isUnsortedStatus:()=>w,isWonLostStatus:()=>S,isWonStatus:()=>C,parseLinkedType:()=>O});var r=n(629133),o=n.n(r),a=n(866633),i=n(445368),s=n(500034);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={win:142,lost:143},l=APP.element_types.leads,d=APP.element_types.contacts,_=APP.element_types.companies,h=APP.element_types.customers,f=APP.element_types.transactions,p=APP.element_types.catalogs,m=APP.element_types.tags,v=APP.element_types.unsorted,g=APP.element_types.todo,y=APP.element_types.catalog_elements,b=[{int:l,string:"leads",single:"lead"},{int:d,string:"contacts",single:"contact"},{int:_,string:"companies",single:"company"},{int:h,string:"customers",single:"customer"},{int:f,string:"transactions",single:"transaction"},{int:p,string:"catalogs",single:"catalog"},{int:m,string:"tags",single:"tag"},{int:v,string:"unsorted",single:"unsorted"},{int:g,string:"todos",single:"todo"},{int:y,string:"catalog_elements",single:"catalog_element"}],E=function(e){var t;return e=e||APP.data.current_entity,o().each({contacts:["companies"]},(function(n,r){o().contains(n,e)&&(t=r)})),t||e},C=function(e){return u.win===parseInt(e)},A=function(e){return u.lost===parseInt(e)},w=function(e){return APP.constant("unsorted_statuses")[e]},I=function(e){return o().isUndefined(e)?o().values(u):u[e]},S=function(e){return o().contains(I(),+e)},P=function(e){return o().invert(APP.element_types)[e]},T=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nominative";return(c(t={},l,{nominative:"Lead",dative:"lead (dative)",dativeWithPreposition:"lead (dative with preposition)",causative:"lead (causative)",causativeWithPreposition:"lead (causative with preposition)",locative:"lead (locative)"}),c(t,d,{nominative:"Contact",dative:"contact (dative)",dativeWithPreposition:"contact (dative with preposition)",causative:"contact (causative)",causativeWithPreposition:"contact (causative with preposition)",locative:"contact (locative)"}),c(t,h,{nominative:"Customer",dative:"customer (dative)",dativeWithPreposition:"customer (dative with preposition)",causative:"customer (causative)",causativeWithPreposition:"customer (causative with preposition)",locative:"customer (locative)"}),c(t,_,{nominative:"Company",dative:"company (dative)",dativeWithPreposition:"company (dative with preposition)",causative:"company (causative)",causativeWithPreposition:"company (causative with preposition)",locative:"company (locative)"}),t)[e][n]},k=function(e,t){var n={int:!1,string:!1,single:!1};if(o().isUndefined(n[t]))return!1;var r=Number(e)>APP.constant("catalog_min_id")?APP.element_types.catalogs:e;return b.forEach((function(e){var t=o().find(e,(function(e){return e==r}));o().isUndefined(t)||(n=e)})),n[t]},O=function(e){if(!e)throw new Error("Invalid type given: ".concat(JSON.stringify([e])));if(!e.id)throw new Error("Type id must be defined");if(e.type||(e.type=k(e.id,"string")||"catalog_elements"),o().isUndefined(e.name))throw new Error("Type name must be defined");return o().pick(e,["id","type","catalog_type","name"])},R=function(){return APP.lang_id},M=function(){return APP.constant("account").helpbot_enabled},N=function(){var e=APP.constant("account");return Boolean(e&&e.invoices&&e.invoices.enabled)},x=function(){var e=APP.constant("account");return e&&e.suppliers&&e.suppliers.catalog_id||null},D=function(){var e=APP.constant("account");return e&&e.products&&e.products.catalog_id||null},L=function(){var e=APP.constant("account");return e&&e.products&&e.products.enabled||!1},F=function(){return APP.constant("account").version},U=function(e){var t=APP.constant("account").is_contact_name_display_order_first?o().compact([e["contact[FIRST_NAME]"],e["contact[LAST_NAME]"]]).join(" "):o().compact([e["contact[LAST_NAME]"],e["contact[FIRST_NAME]"]]).join(" ");return t||(t=e["contact[NAME]"]),(0,i.contactName)(t)},V=function(){return"customers"===APP.constant("account").subdomain||"customersus"===APP.constant("account").subdomain},j=function(){return"Partner"===APP.constant("account").tariffName},B=function(){return APP.constant("account").pay_type===a.PayType.PAYMENT_TYPE_TRIAL},$=function(){return APP.constant("account").pay_type===a.PayType.PAYMENT_TYPE_BLOCK},W=function(){return $&&APP.constant("account").tariffName===(0,i.i18n)("REPORT_ACCOUNT_INFO_TRIAL")},G=function(){return(0,s.isFeatureAvailable)(s.Features.PARTNERS_HELP_AVAILABLE)},K="../build/transpiled/utils/account/system";window.define(K,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([K])},168807:(e,t,n)=>{"use strict";n.r(t),n.d(t,{exponentialDelay:()=>u,password:()=>l,randHex:()=>i,randInt:()=>c,randString:()=>s,storeWithExpiration:()=>d});var r=n(629821),o=n.n(r),a=["abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ","123456789"],i=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},s=function(e){var t="",n=0;for(e=e||4;n<e;n++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[parseInt(Math.floor(52*Math.random()))];return t},c=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},u=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).with_jitter,n=void 0!==t&&t,r=1e3*Math.pow(2,e);if(0===e&&(r=100),n){var o=u(e>0?e-1:0);r=c(r,3*o)}return r},l=function(e){var t,n=a,r="",o=e/2-1,i=e-o-o;for(t=0;t<o;t++)r+=n[0].charAt(Math.floor(Math.random()*n[0].length));for(t=0;t<o;t++)r+=n[1].charAt(Math.floor(Math.random()*n[1].length));for(t=0;t<i;t++)r+=n[2].charAt(Math.floor(Math.random()*n[2].length));return r.split("").sort((function(){return.5-Math.random()})).join("")},d={set:function(e,t,n){o().set(e,{val:t,exp:n,time:(new Date).getTime()})},get:function(e){var t=o().get(e);return!t||(new Date).getTime()-t.time>t.exp?null:t.val},get_created_at:function(e){var t=o().get(e);return!t||(new Date).getTime()-t.time>t.exp?null:t.time},remove:function(e){o().remove(e)}},_="../build/transpiled/utils/generator";window.define(_,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([_])},998798:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A,getChatsMentionsResourceUrl:()=>g,getCurrentImboxState:()=>p,getInboxMessagingComponent:()=>l,getInboxPageUrlDomain:()=>C,getSupportChatUrl:()=>y,isChatToolsPageSection:()=>f,isChatsInboxEnabled:()=>b,isImboxSection:()=>_,isMentionsPageSection:()=>h,isTeamChatOpened:()=>m,openSupportChat:()=>E,updateInboxMessagingComponent:()=>u});var r=n(629133),o=n.n(r),a=n(500034),i=n(403889),s=n(761634),c=null;function u(e){return c=e}function l(){return c}var d=/^\/(imbox|chats|teams)\//;function _(){return d.test((0,i.getPathname)())}var h=function(){return/^\/(chats\/mentions|teams)\//.test((0,i.getPathname)())},f=function(){return/^\/(chats|teams)\/tools\//.test((0,i.getPathname)())};function p(){return _()?c&&c.getCurrentState():null}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.getPathname)();return/^\/(chats|teams)\/mentions\//.test(e)&&3===o().compact(e.split("/")).length}var v=function(){return(0,a.isFeatureAvailable)(a.Features.SYSTEM_NAVIGATION_V2)?"teams":"chats"},g=function(e,t){var n=v();return e&&t?"/".concat(n,"/mentions/").concat(e,"/detail/").concat(t):"/".concat(n,"/mentions/").concat(e)};function y(){var e=v();return"/".concat(e,"/mentions/").concat((0,s.getSupportBotId)())}function b(){return APP.constant("account").is_chats_inbox_enabled}function E(e){var t=(0,s.getSupportBotId)();APP.constant("account").amojo_enabled&&t&&(b()&&(0,a.isFeatureAvailable)("global_inbox")?APP.router.navigate(y(),{trigger:!0}):e?APP.inbox.showOnlySupport(t):APP.inbox.openDirectChat(t))}var C=function(){return(0,a.isFeatureAvailable)("global_inbox")?"/imbox":"/chats"};const A={isImboxSection:_,isTeamChatOpened:m,getCurrentImboxState:p,getInboxMessagingComponent:l,updateInboxMessagingComponent:u,getSupportChatUrl:y,openSupportChat:E,isChatsInboxEnabled:b};var w="../build/transpiled/utils/imbox";window.define(w,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([w])},840214:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),n.d(t,{obfuscateEmail:()=>o});var o=function(e){var t,n,o=(t=e.split("@"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],i=o[1];return(a.length<=2?a+"***":a.length<=6?a.slice(0,3)+"***":a.slice(0,3)+"*".repeat(a.length-3))+"@"+i},a="../build/transpiled/utils/obfuscateEmail";window.define(a,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([a])},866633:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{PayType:()=>r}),function(e){e.PAYMENT_TYPE_TRIAL="trial",e.PAYMENT_TYPE_PAID="paid",e.PAYMENT_TYPE_FREE="free",e.PAYMENT_TYPE_BLOCK="blocked"}(r||(r={}))},971588:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{default:()=>o}),function(e){e.FACEBOOK="facebook",e.MESSENGER="messenger",e.INSTAGRAM_BUSINESS="instagram_business",e.INSTAGRAM="instagram",e.WHATSAPP="amocrm_whatsapp",e.WHATSAPP_WHITE="whatsapp_cloud_api",e.TELEGRAM="telegram",e.TIKTOK="tiktok_kommo"}(r||(r={}));const o=r},326785:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getDomain:()=>r});var r=function(e){var t=e||{},n=t.url,r=void 0===n?window.location.href:n,o=t.level,a=void 0===o?2:o,i=new URL(r).hostname.split(".");return i.length>=a?i.slice(-a).join("."):null}},455850:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getPathname:()=>o});var r=n(485655),o=function(){return(0,r.normalizePath)(location.pathname)}},403889:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getDomain:()=>r.getDomain,getPathname:()=>a.getPathname,normalizePath:()=>o.normalizePath});var r=n(326785),o=n(485655),a=n(455850)},485655:(e,t,n)=>{"use strict";n.r(t),n.d(t,{normalizePath:()=>r});var r=function(e){return"/"!==e.slice(-1)&&(e+="/"),e}},104737:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(661533),o=n.n(r),a=n(629133),i=n.n(a),s=n(623967),c=n.n(s),u=n(567952),l=n.n(u);function d(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={request:function(e){return(t=function(){var t,n,r;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(a){switch(a.label){case 0:return t=function(e){var t=e.url,n=e.data,r=e.method,o=void 0===r?"GET":r,a=e.contentType,s=e.processData,u=void 0===s||s,l=e.dataType,d=e.isFormDataPayload,_=e.isFilePayload,h=e.shouldSnakeize,f=void 0===h||h,p=e.xhrFields,m=e.crossDomain,v=e.headers,g=e.xhr,y=e.beforeSend,b=f?c()(n):n,E=_?new FormData:null;return E&&i().each(b,(function(e,t){"files"===t?i().each(e,(function(e,t){E.append(t,e)})):E.append(t,e)})),d?{url:t,data:_?E:b,contentType:a,processData:u,dataType:l,xhrFields:p,crossDomain:m,xhr:g,beforeSend:y,headers:v,method:o}:{url:t,contentType:a||"application/json",data:"GET"===o?b:JSON.stringify(b),processData:u,dataType:l,xhrFields:p,crossDomain:m,xhr:g,beforeSend:y,headers:v,method:o}}((s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}({},e),u=null!=(u={shouldCamelizeResponse:void 0})?u:{},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(u)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(u)).forEach((function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(u,e))})),s)),[4,o().ajaxPromisify(t)];case 1:return n=a.sent(),[2,void 0===(r=e.shouldCamelizeResponse)||r?l()(n):n]}var s,u}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){d(a,r,o,i,s,"next",e)}function s(e){d(a,r,o,i,s,"throw",e)}i(void 0)}))})();var t}}}},e=>{e.O(0,[26987,9729,45839,47593,72180,91328,75202,53067,90083],(()=>(385398,e(e.s=385398)))),e.O()}]);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"build_2025_11_28_17_08_33"},function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c800735a-edb8-4520-8b0f-d5ec43b53eb3",e._sentryDebugIdIdentifier="sentry-dbid-c800735a-edb8-4520-8b0f-d5ec43b53eb3")}catch(e){}}();
//# sourceMappingURL=auth.e8ffab34bb32ffc75b71.js.map