/*! For license information please see 97896.be39334a754bafee2f10.js.LICENSE.txt */
(window.webpackChunk=window.webpackChunk||[]).push([[97896,51027],{241817:(e,t,n)=>{var i,a;i=[n(661533)],void 0===(a=function(e){!function(e,t,n,i){"use strict";var a="intlTelInput",r=1,o={autoFormat:!0,autoHideDialCode:!0,defaultCountry:"",ipinfoToken:"",nationalMode:!1,numberType:"MOBILE",onlyCountries:[],preferredCountries:["us","gb"],responsiveDropdown:!1,utilsScript:""},s=38,l=40,c=13,u=27,d=43,_=65,h=90,p=48,f=57,g=32,m=8,v=46,y=17,b=91,w=224,C=!1,k=!0;function E(t,n){this.element=t,this.options=e.extend({},o,n),this._defaults=o,this.ns="."+a+r++,this.isGoodBrowser=Boolean(t.setSelectionRange),this.hadInitialPlaceholder=Boolean(e(t).attr("placeholder")),this._name=a,this.init()}e(t).load((function(){C=!0})),E.prototype={init:function(){var t=this;if("auto"==this.options.defaultCountry){this.options.defaultCountry="";var n="//ipinfo.io";this.options.ipinfoToken&&(n+="?token="+this.options.ipinfoToken),e.get(n,(function(e){e&&e.country&&(t.options.defaultCountry=e.country.toLowerCase())}),"jsonp").always((function(){t._ready()}))}else this._ready()},_ready:function(){this.options.nationalMode&&(this.options.autoHideDialCode=!1),navigator.userAgent.match(/IEMobile/i)&&(this.options.autoFormat=!1),t.innerWidth<500&&(this.options.responsiveDropdown=!0),this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners()},_processCountryData:function(){this._setInstanceCountryData(),this._setPreferredCountries()},_addCountryCode:function(e,t,n){t in this.countryCodes||(this.countryCodes[t]=[]);var i=n||0;this.countryCodes[t][i]=e},_setInstanceCountryData:function(){var t;if(this.options.onlyCountries.length)for(this.countries=[],t=0;t<P.length;t++)-1!=e.inArray(P[t].iso2,this.options.onlyCountries)&&this.countries.push(P[t]);else this.countries=P;for(this.countryCodes={},t=0;t<this.countries.length;t++){var n=this.countries[t];if(this._addCountryCode(n.iso2,n.dialCode,n.priority),n.areaCodes)for(var i=0;i<n.areaCodes.length;i++)this._addCountryCode(n.iso2,n.dialCode+n.areaCodes[i])}},_setPreferredCountries:function(){this.preferredCountries=[];for(var e=0;e<this.options.preferredCountries.length;e++){var t=this.options.preferredCountries[e],n=this._getCountryData(t,!1,!0);n&&this.preferredCountries.push(n)}},_generateMarkup:function(){this.telInput=e(this.element),this.telInput.wrap(e("<div>",{class:"intl-tel-input"}));var t=e("<div>",{class:"flag-dropdown"}).insertAfter(this.telInput),n=e("<div>",{class:"selected-flag"}).appendTo(t);this.selectedFlagInner=e("<div>",{class:"flag"}).appendTo(n),e("<div>",{class:"arrow"}).appendTo(this.selectedFlagInner),this.countryList=e("<ul>",{class:"country-list v-hide"}).appendTo(t),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"preferred"),e("<li>",{class:"divider"}).appendTo(this.countryList)),this._appendListItems(this.countries,""),this.dropdownHeight=this.countryList.outerHeight(),this.countryList.removeClass("v-hide").addClass("hide"),this.options.responsiveDropdown&&this.countryList.outerWidth(this.telInput.outerWidth()),this.countryListItems=this.countryList.children(".country")},_appendListItems:function(e,t){for(var n="",i=0;i<e.length;i++){var a=e[i];n+="<li class='country "+t+"' data-dial-code='"+a.dialCode+"' data-country-code='"+a.iso2+"'>",n+="<div class='flag "+a.iso2+"'></div>",n+="<span class='country-name'>"+a.name+"</span>",n+="<span class='dial-code'>+"+a.dialCode+"</span>",n+="</li>"}this.countryList.append(n)},_setInitialState:function(){var e,t=this.telInput.val();this._getDialCode(t)?this._updateFlagFromNumber(t):(e=this.options.defaultCountry?this._getCountryData(this.options.defaultCountry,!1,!1):this.preferredCountries.length?this.preferredCountries[0]:this.countries[0],this._selectFlag(e.iso2),t||this._updateDialCode(e.dialCode,!1)),t&&this._updateVal(t,!1)},_initListeners:function(){var n=this;this._initKeyListeners(),(this.options.autoHideDialCode||this.options.autoFormat)&&this._initFocusListeners();var i=this.telInput.closest("label");i.length&&i.on("click"+this.ns,(function(e){n.countryList.hasClass("hide")?n.telInput.focus():e.preventDefault()})),this.selectedFlagInner.parent().on("click"+this.ns,(function(e){n.countryList.hasClass("hide")&&!n.telInput.prop("disabled")&&n._showDropdown()})),this.options.utilsScript&&(C?this.loadUtils():e(t).load((function(){n.loadUtils()})))},_initKeyListeners:function(){var e=this;this.options.autoFormat&&(e.telInput.on("change",(function(){var t=e.telInput.val();e._updateFlagFromNumber(t)})),this.telInput.on("keypress"+this.ns,(function(n){if(n.which>=g&&!n.metaKey&&t.intlTelInputUtils){n.preventDefault();var i=n.which>=p&&n.which<=f||n.which==d,a=e.telInput[0],r=e.isGoodBrowser&&a.selectionStart==a.selectionEnd,o=e.telInput.attr("maxlength");if((!o||e.telInput.val().length<o)&&(i||r)){var s=i?String.fromCharCode(n.which):null;e._handleInputKey(s,!0)}i||e.telInput.trigger("invalidkey")}}))),this.telInput.on("keyup"+this.ns,(function(n){if(n.which==c);else if(e.options.autoFormat&&t.intlTelInputUtils){var i=n.which==y||n.which==b||n.which==w,a=e.telInput[0],r=e.isGoodBrowser&&a.selectionStart==a.selectionEnd,o=e.isGoodBrowser&&a.selectionStart==e.telInput.val().length;if((n.which==v&&!o||n.which==m||i&&r)&&e._handleInputKey(null,i&&o),!e.options.nationalMode){var s=e.telInput.val();if("+"!=s.substr(0,1)){var l=e.isGoodBrowser?a.selectionStart+1:0;e.telInput.val("+"+s),e.isGoodBrowser&&a.setSelectionRange(l,l)}}}else e._updateFlagFromNumber(e.telInput.val())}))},_handleInputKey:function(e,t){var n=this.telInput.val(),i=null,a=!1,r=this.telInput[0];if(this.isGoodBrowser){var o=r.selectionEnd,s=n.length;a=o==s,e?(n=n.substr(0,r.selectionStart)+e+n.substring(o,s),a||(i=o+(n.length-s))):i=r.selectionStart}else e&&(n+=e);this.setNumber(n,t),this.isGoodBrowser&&(a&&(i=this.telInput.val().length),r.setSelectionRange(i,i))},_initFocusListeners:function(){var e=this;this.options.autoHideDialCode&&this.telInput.on("mousedown"+this.ns,(function(t){e.telInput.is(":focus")||e.telInput.val()||(t.preventDefault(),e.telInput.focus())})),this.telInput.on("focus"+this.ns,(function(){var n=e.telInput.val();e.telInput.data("focusVal",n),e.options.autoHideDialCode&&(n||(k?e._updateVal("+"+e.selectedCountryData.dialCode,!0):e._updateVal("+",!0),e.telInput.one("keypress.plus"+e.ns,(function(n){if(n.which==d){var i=e.options.autoFormat&&t.intlTelInputUtils?"+":"";e.telInput.val(i)}})),setTimeout((function(){var t=e.telInput[0];if(e.isGoodBrowser){var n=e.telInput.val().length;t.setSelectionRange(n,n)}}))))})),this.telInput.on("blur"+this.ns,(function(){if(e.options.autoHideDialCode){var n=e.telInput.val();if("+"==n.substr(0,1)){var i=e._getNumeric(n);i&&e.selectedCountryData.dialCode!=i||e.telInput.val("+"+i)}e.telInput.off("keypress.plus"+e.ns)}e.options.autoFormat&&t.intlTelInputUtils&&e.telInput.val()!=e.telInput.data("focusVal")&&e.telInput.trigger("change")}))},_getNumeric:function(e){return e.replace(/\D/g,"")},_showDropdown:function(){this._setDropdownPosition();var e=this.countryList.children(".active");this._highlightListItem(e),this.countryList.removeClass("hide"),this._scrollTo(e),this._bindDropdownListeners(),this.selectedFlagInner.children(".arrow").addClass("up")},_setDropdownPosition:function(){var n=this.telInput.offset().top,i=e(t).scrollTop(),a=n+this.telInput.outerHeight()+this.dropdownHeight<i+e(t).height(),r=n-this.dropdownHeight>i,o=!a&&r?"-"+(this.dropdownHeight-1)+"px":"";this.countryList.css("top",o)},_bindDropdownListeners:function(){var t=this;this.countryList.on("mouseover"+this.ns,".country",(function(n){t._highlightListItem(e(this))})),this.countryList.on("click"+this.ns,".country",(function(n){k=!0,t._selectListItem(e(this))}));var i=!0;e("html").on("click"+this.ns,(function(e){i||t._closeDropdown(),i=!1}));var a="",r=null;e(n).on("keydown"+this.ns,(function(e){e.preventDefault(),e.which==s||e.which==l?t._handleUpDownKey(e.which):e.which==c?t._handleEnterKey():e.which==u?t._closeDropdown():(e.which>=_&&e.which<=h||e.which==g)&&(r&&clearTimeout(r),a+=String.fromCharCode(e.which),t._searchForCountry(a),r=setTimeout((function(){a=""}),1e3))}))},_handleUpDownKey:function(e){var t=this.countryList.children(".highlight").first(),n=e==s?t.prev():t.next();n.length&&(n.hasClass("divider")&&(n=e==s?n.prev():n.next()),this._highlightListItem(n),this._scrollTo(n))},_handleEnterKey:function(){var e=this.countryList.children(".highlight").first();e.length&&this._selectListItem(e)},_searchForCountry:function(e){for(var t=0;t<this.countries.length;t++)if(this._startsWith(this.countries[t].name,e)){var n=this.countryList.children("[data-country-code="+this.countries[t].iso2+"]").not(".preferred");this._highlightListItem(n),this._scrollTo(n,!0);break}},_startsWith:function(e,t){return e.substr(0,t.length).toUpperCase()==t},_updateVal:function(e,n){var i;if(this.options.autoFormat&&t.intlTelInputUtils){i=intlTelInputUtils.formatNumber(e,this.selectedCountryData.iso2,n);var a=this.telInput.attr("maxlength");a&&i.length>a&&(i=i.substr(0,a))}else i=e;k="+"!=i,this.telInput.val(i)},_updateFlagFromNumber:function(e){this.options.nationalMode&&this.selectedCountryData&&"1"==this.selectedCountryData.dialCode&&"+"!=e.substr(0,1)&&(e="+1"+e);var t=this._getDialCode(e);if(t){var n=this.countryCodes[this._getNumeric(t)],i=!1;if(this.selectedCountryData)for(var a=0;a<n.length;a++)n[a]==this.selectedCountryData.iso2&&(i=!0);if(!i||this._isUnknownNanp(e,t))for(var r=0;r<n.length;r++)if(n[r]){this._selectFlag(n[r]);break}}},_isUnknownNanp:function(e,t){return"+1"==t&&this._getNumeric(e).length>=4},_highlightListItem:function(e){this.countryListItems.removeClass("highlight"),e.addClass("highlight")},_getCountryData:function(e,t,n){for(var i=t?P:this.countries,a=0;a<i.length;a++)if(i[a].iso2==e)return i[a];if(n)return null;throw new Error("No country data for '"+e+"'")},_selectFlag:function(e){this.selectedCountryData=this._getCountryData(e,!1,!1),this.selectedFlagInner.attr("class","flag "+e);var t=this.selectedCountryData.name+": +"+this.selectedCountryData.dialCode;this.selectedFlagInner.parent().attr("title",t),this._updatePlaceholder();var n=this.countryListItems.children(".flag."+e).first().parent();this.countryListItems.removeClass("active"),n.addClass("active")},_updatePlaceholder:function(){if(t.intlTelInputUtils&&!this.hadInitialPlaceholder){var e=this.selectedCountryData.iso2,n=intlTelInputUtils.numberType[this.options.numberType||"FIXED_LINE"],i=intlTelInputUtils.getExampleNumber(e,this.options.nationalMode,n);this.telInput.attr("placeholder",i)}},_selectListItem:function(e){var t=e.attr("data-country-code");this._selectFlag(t),this._closeDropdown(),this._updateDialCode(e.attr("data-dial-code"),!0),this.telInput.trigger("change"),this.telInput.focus()},_closeDropdown:function(){this.countryList.addClass("hide"),this.selectedFlagInner.children(".arrow").removeClass("up"),e(n).off(this.ns),e("html").off(this.ns),this.countryList.off(this.ns)},_scrollTo:function(e,t){var n=this.countryList,i=n.height(),a=n.offset().top,r=a+i,o=e.outerHeight(),s=e.offset().top,l=s+o,c=s-a+n.scrollTop(),u=i/2-o/2;if(s<a)t&&(c-=u),n.scrollTop(c);else if(l>r){t&&(c+=u);var d=i-o;n.scrollTop(c-d)}},_updateDialCode:function(t,n){var i,a=this.telInput.val();if(t="+"+t,this.options.nationalMode&&"+"!=a.substr(0,1))i=a;else if(a){var r=this._getDialCode(a);i=r.length>1?a.replace(r,t):t+("+"!=a.substr(0,1)?e.trim(a):"")}else i=!this.options.autoHideDialCode||n?t:"";this._updateVal(i,n)},_getDialCode:function(t){var n="";if("+"==t.charAt(0))for(var i="",a=0;a<t.length;a++){var r=t.charAt(a);if(e.isNumeric(r)&&(i+=r,this.countryCodes[i]&&(n=t.substr(0,a+1)),4==i.length))break}return n},destroy:function(){this._closeDropdown(),this.telInput.off(this.ns),this.selectedFlagInner.parent().off(this.ns),this.telInput.closest("label").off(this.ns),this.telInput.parent().before(this.telInput).remove()},getCleanNumber:function(){return t.intlTelInputUtils?intlTelInputUtils.formatNumberE164(this.telInput.val(),this.selectedCountryData.iso2):""},getNumberType:function(){return t.intlTelInputUtils?intlTelInputUtils.getNumberType(this.telInput.val(),this.selectedCountryData.iso2):-99},getSelectedCountryData:function(){return this.selectedCountryData||{}},getValidationError:function(){return t.intlTelInputUtils?intlTelInputUtils.getValidationError(this.telInput.val(),this.selectedCountryData.iso2):-99},isValidNumber:function(){var n=e.trim(this.telInput.val()),i=this.options.nationalMode?this.selectedCountryData.iso2:"";return!(/[a-zA-Z]/.test(n)||!t.intlTelInputUtils)&&intlTelInputUtils.isValidNumber(n,i)},loadUtils:function(n){var i=n||this.options.utilsScript;!e.fn[a].loadedUtilsScript&&i&&(e.fn[a].loadedUtilsScript=!0,i.indexOf("vendor/intl-tel-input/lib/libphonenumber/build/utils")>-1?t.require(["intl-tel-input-utils"],(function(){e(".intl-tel-input input").intlTelInput("utilsLoaded")})):e.ajax({url:i,success:function(){e(".intl-tel-input input").intlTelInput("utilsLoaded")},dataType:"script",cache:!0}))},selectCountry:function(e){this.selectedFlagInner.hasClass(e)||(this._selectFlag(e),this._updateDialCode(this.selectedCountryData.dialCode,!1))},setNumber:function(e,t){this.options.nationalMode||"+"==e.substr(0,1)||(e="+"+e),this._updateFlagFromNumber(e),this._updateVal(e,t)},utilsLoaded:function(){this.options.autoFormat&&this.telInput.val()&&this._updateVal(this.telInput.val()),this._updatePlaceholder()}},e.fn[a]=function(t){var n,r=arguments;return t===i||"object"==typeof t?this.each((function(){e.data(this,"plugin_"+a)||e.data(this,"plugin_"+a,new E(this,t))})):"string"==typeof t&&"_"!==t[0]&&"init"!==t?(this.each((function(){var i,o,s=e.data(this,"plugin_"+a);i=s,(null!=(o=E)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](i):i instanceof o)&&"function"==typeof s[t]&&(n=s[t].apply(s,Array.prototype.slice.call(r,1))),"destroy"===t&&e.data(this,"plugin_"+a,null)})),n!==i?n:this):void 0},e.fn[a].getCountryData=function(){return P},e.fn[a].setCountryData=function(e){P=e};for(var P=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61"],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358"],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212"],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47"],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262"],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy (Saint-Barthélemy)","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44"],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna","wf","681"],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],I=0;I<P.length;I++){var A=P[I];P[I]={name:A[0],iso2:A[1],dialCode:A[2],priority:A[3]||0,areaCodes:A[4]||null}}}(e,window,document)}.apply(t,i))||(e.exports=a);var r="intl-tel-input";window.define(r,(function(){var t="undefined",n=typeof __webpack_exports__===t?typeof a===t?typeof e===t?void 0:e.exports:a:__webpack_exports__;return n&&n.default||n})),window.require([r])},181743:(e,t,n)=>{var i,a,r,o,s,l,c=n(661533);a=c||window.$,o={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},s=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],(l=a('<textarea tabindex="-1"/>').data("autosize",!0)[0]).style.cssText="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;",l.style.lineHeight="99px","99px"===a(l).css("lineHeight")&&s.push("lineHeight"),l.style.lineHeight="",a.fn.autosize=function(e){return this.length?(e=a.extend({},o,e||{}),l.parentNode!==document.body&&a(document.body).append(l),this.each((function(){var t,n,i,o=this,c=a(o),u=0,d=a.isFunction(e.callback),_={height:o.style.height,overflow:o.style.overflow,overflowY:o.style.overflowY,wordWrap:o.style.wordWrap,resize:o.style.resize},h=c.width(),p=c.css("resize");function f(){var e,t=window.getComputedStyle?window.getComputedStyle(o,null):null;t?(e=parseFloat(t.width),"border-box"!==t.boxSizing&&"border-box"!==t.webkitBoxSizing&&"border-box"!==t.mozBoxSizing||a.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],(function(n,i){e-=parseFloat(t[i])}))):e=c.width(),l.style.width=Math.max(e,0)+"px"}function g(){var i,_;r!==o?function(){var n={};if(r=o,l.className=e.className,l.id=e.id,l.setAttribute("rows",o.getAttribute("rows")||1),t=parseFloat(c.css("maxHeight")),a.each(s,(function(e,t){n[t]=c.css(t)})),a(l).css(n).attr("wrap",c.attr("wrap")),f(),window.chrome){var i=o.style.width;o.style.width="0px",o.offsetWidth,o.style.width=i}}():f(),!o.value&&e.placeholder?l.value=c.attr("placeholder")||"":l.value=o.value,l.value+=e.append||"",l.style.overflowY=o.style.overflowY,_=parseFloat(o.style.height)||0,l.scrollTop=0,l.scrollTop=9e4,i=l.scrollTop,t&&i>t?(o.style.overflowY="scroll",i=t):(o.style.overflowY="hidden",i<n&&(i=n)),i+=u,Math.abs(_-i)>.01&&(o.style.height=i+"px",l.className=l.className,d&&e.callback.call(o,o),c.trigger("autosize.resized"))}function m(){clearTimeout(i),i=setTimeout((function(){var e=c.width();e!==h&&(h=e,g())}),parseInt(e.resizeDelay,10))}c.data("autosize")||(c.data("autosize",!0),e.noBoxOffset||"border-box"!==c.css("box-sizing")&&"border-box"!==c.css("-moz-box-sizing")&&"border-box"!==c.css("-webkit-box-sizing")||(u=c.outerHeight()-c.height()),n=Math.max(parseFloat(c.css("minHeight"))-u||0,c.height()),c.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===p?c.css("resize","none"):"both"===p&&c.css("resize","horizontal"),"onpropertychange"in o?"oninput"in o?c.on("input.autosize keyup.autosize",g):c.on("propertychange.autosize",(function(){"value"===event.propertyName&&g()})):c.on("input.autosize",g),!1!==e.resizeDelay&&a(window).on("resize.autosize",m),c.on("autosize.resize",g),c.on("autosize.resizeIncludeStyle",(function(){r=null,g()})),c.on("autosize.destroy",(function(){r=null,clearTimeout(i),a(window).off("resize",m),c.off("autosize").off(".autosize").css(_).removeData("autosize")})),g())}))):this},a.fn.autosizeInput=function(e){return e=a.extend({maxWidth:1e3,minWidth:0,comfortZone:5,appendValue:function(){}},e),this.filter('input:text, input[type="number"]').each((function(){var t=e.minWidth,n="",i=a(this),r=a("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:i.css("fontSize"),fontFamily:"Roboto"===i.css("fontFamily")?"Arial":i.css("fontFamily"),fontWeight:i.css("fontWeight"),fontStyle:i.css("fontStyle"),letterSpacing:i.css("letterSpacing"),textTransform:i.css("textTransform"),whiteSpace:"pre"}),o=function(a){var o,s,l;n===(n=i.val())&&n&&!1!==a||(n?n+=e.appendValue.call(i.get(0))||"":n=i.attr("placeholder")||"",o=n.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r.html(o),((l=(s=r.width())+e.comfortZone>=t?s+e.comfortZone:t)<i.width()&&l>=t||l>t)&&i.width(l))};r.insertAfter(i),a(this).on("autosize:important",o.bind(this,!1)).on("autosize",o).on("input",o).on("autosize.destroy",(function(){r.remove(),a(this).off("autosize:important").off("autosize",o).off("input",o)})),o()})),this},void 0===(i=function(){}.call(t,n,t,e))||(e.exports=i);var u="vendor/jquery-plugins/jquery.autosize";window.define(u,(function(){var t="undefined",n=typeof __webpack_exports__===t?typeof i===t?typeof e===t?void 0:e.exports:i:__webpack_exports__;return n&&n.default||n})),window.require([u])},200123:(e,t,n)=>{var i,a,r=n(661533);(a=r||window.Zepto).event.special.swipe={setup:function(){a(this).on("touchstart",a.event.special.swipe.handler)},teardown:function(){a(this).off("touchstart",a.event.special.swipe.handler)},handler:function(e){var t,n,i=[].slice.call(arguments,1),r=e.originalEvent.touches,o=0,s=0,l=this;function c(){l.removeEventListener("touchmove",u),l.removeEventListener("touchend",c),t=n=null}function u(r){var u=t-r.touches[0].pageX,d=n-r.touches[0].pageY,_=Math.abs(u)>=20,h=Math.abs(d)>=20;return(_||h)&&(c(),o=_?u>0?-1:1:0,s=h?d>0?1:-1:0),0!==o&&a(l).hasClass("js-swipe-prevent-x")&&r.preventDefault(),e.type="swipe",i.unshift(e,o,s,r.touches.length),(a.event.dispatch||a.event.handle).apply(l,i)}e=a.event.fix(e),1==r.length&&(t=r[0].pageX,n=r[0].pageY,this.addEventListener("touchmove",u,!1),this.addEventListener("touchend",c,!1))}},void 0===(i=function(){}.call(t,n,t,e))||(e.exports=i);var o="vendor/jquery-plugins/jquery.swipe";window.define(o,(function(){var t="undefined",n=typeof __webpack_exports__===t?typeof i===t?typeof e===t?void 0:e.exports:i:__webpack_exports__;return n&&n.default||n})),window.require([o])},145027:(e,t,n)=>{var i;void 0===(i=function(e){var t=n(661533);return n(528803),n(462106),n(963880),n(659642),n(772362),n(517430),t}.call(t,n,t,e))||(e.exports=i)},695763:(e,t,n)=>{!function(){"use strict";var e,t,i=n(161320);switch(APP.lang_id){case"ru":return function(){function e(e,t,n){var i,a;return"m"===n?t?"минута":"минуту":e+" "+(i=+e,a={mm:"минута_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n].split("_"),i%10==1&&i%100!=11?a[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?a[1]:a[2])}i.locale("ru",{months:function(e,t){return{nominative:"Январь_Февраль_Март_Апрель_Май_Июнь_Июль_Август_Сентябрь_Октябрь_Ноябрь_Декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")}[/D[oD]? *MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:function(e,t){return{nominative:"Воскресенье_Понедельник_Вторник_Среда_Четверг_Пятница_Суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")}[/\[ ?[Вв] ?(?:прошлую|следующую)? ?\] ?dddd/.test(t)?"accusative":"nominative"][e.day()]},weekdaysShort:"Вск_Пнд_Втр_Срд_Чтв_Птн_Сбт".split("_"),weekdaysMin:"Вс_Пн_Вт_Ср_Чт_Пт_Сб".split("_"),previousMonth:"Предыдущий месяц",nextMonth:"Следующий месяц",longDateFormat:{LT:APP.system.format.date.time,L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня,] LT",nextDay:"[Завтра,] LT",lastDay:"[Вчера,] LT",today:"[Сегодня]",yesterday:"[Вчера]",tomorrow:"[Завтра]",nextWeek:APP.system.format.date.full,lastWeek:APP.system.format.date.full,sameElse:APP.system.format.date.full},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:e,mm:e,h:"час",hh:e,d:"день",dd:e,M:"месяц",MM:e,y:"год",yy:e},ordinal:"%d.",week:{dow:1,doy:7}})}();case"es":return e="Ene._Feb._Mar._Abr._May._Jun._Jul._Ago._Sep._Oct._Nov._Dic.".split("_"),t="Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),void i.locale("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:function(n,i){return/-MMM-/.test(i)?t[n.month()]:e[n.month()]},weekdays:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mié._Jue._Vie._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:APP.system.format.date.time,L:"DD/MM/YYYY",LL:"D [de] MMMM [del] YYYY",LLL:"D [de] MMMM [del] YYYY LT",LLLL:"dddd, D [de] MMMM [del] YYYY LT"},calendar:{today:"[Hoy]",yesterday:"[Ayer]",tomorrow:"[Mañana]",sameDay:function(){return"[Hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[Mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:APP.system.format.date.full,lastDay:function(){return"[Ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:APP.system.format.date.full,sameElse:APP.system.format.date.full},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}});case"pt":return function(){var e="Jan._Fev._Mar._Abr._Mai._Jun._Jul._Ago._Set._Out._Nov._Dez.".split("_"),t="Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_");i.locale("pt",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:function(n,i){return/-MMM-/.test(i)?t[n.month()]:e[n.month()]},weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom._Seg._Ter._Qua._Qui._Sex._Sáb.".split("_"),weekdaysMin:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),longDateFormat:{LT:APP.system.format.date.time,L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{today:"[Hoje]",tomorrow:"[Amanhã]",yesterday:"[Ontem]",sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})}();case"id":return void i.locale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agu_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:APP.system.format.date.time,L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},calendar:{today:"[Hari ini]",yesterday:"[Kemarin]",tomorrow:"[Besok]",sameDay:"[Hari ini,] LT",lastDay:"[Kemarin,] LT",nextDay:"[Besok,] LT",nextWeek:APP.system.format.date.full,lastWeek:APP.system.format.date.full,sameElse:APP.system.format.date.full},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});case"tr":var a={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return void i.locale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:APP.system.format.date.time,L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{today:"[Bugün]",yesterday:"[Dün]",tomorrow:"[Yarın]",sameDay:"[Bugün,] LT",lastDay:"[Dün,] LT",nextDay:"[Yarın,] LT",nextWeek:APP.system.format.date.full,lastWeek:APP.system.format.date.full,sameElse:APP.system.format.date.full},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e,t){switch(t){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'ıncı";var n=e%10;return e+(a[n]||a[e%100-n]||a[e>=100?100:null])}},week:{dow:1,doy:7}});case"ch":return function(){var e="一月_二月_游行_四月_可能_六月_七月_八月_九月_十月_十一月_十二月".split("_"),t="一月_二月_游行_四月_可能_六月_七月_八月_九月_十月_十一月_十二月".split("_");i.locale("ch",{months:"一月_二月_游行_四月_可能_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:function(n,i){return/-MMM-/.test(i)?t[n.month()]:e[n.month()]},weekdays:"日_一_二_三_四_五_六".split("_"),weekdaysShort:"日_一_二_三_四_五_六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:APP.system.format.date.time,L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D LT",LLLL:"dddd, YYYY  MMMM D LT"},calendar:{today:"[今天]",yesterday:"[昨天]",tomorrow:"[明天]",sameDay:"[今天,] LT",nextDay:"[明天,] LT",nextWeek:APP.system.format.date.full,lastDay:"[昨天,] LT",lastWeek:APP.system.format.date.full,sameElse:APP.system.format.date.full},relativeTime:{future:"在 %s",past:"%s 前",s:"几秒钟",m:"分钟",mm:"%d 分钟",h:"小时",hh:"%d 小时",d:"天",dd:"%d 天",M:"月",MM:"%d 个月",y:"年",yy:"%d 年份"},ordinal:"%d",week:{dow:1,doy:4}})}();default:i.updateLocale("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_June_July_Aug_Sept_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),previousMonth:"Previous Month",nextMonth:"Next Month",longDateFormat:{LT:APP.system.format.date.time,L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today,] LT",nextDay:"[Tomorrow,] LT",lastDay:"[Yesterday,] LT",today:"[Today]",yesterday:"[Yesterday]",tomorrow:"[Tomorrow]",nextWeek:APP.system.format.date.full,lastWeek:APP.system.format.date.full,sameElse:APP.system.format.date.full},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}})}}()},213882:(e,t,n)=>{!function(e){if(e.support.touch="ontouchend"in document,e.support.touch&&e.ui&&e.ui.mouse){var t,n,i,a,r,o,s=e.ui.mouse.prototype,l=s._mouseInit,c=s._mouseDestroy;s._touchStart=function(t){var n=this,a=e(this.element);if(this.is_sortable=!!a.hasClass("ui-sortable")&&a.data("ui-sortable"),this.is_draggable=!!a.hasClass("ui-draggable")&&a.data("ui-draggable"),!i){o=this.element.get(0).style[Modernizr.prefixed("transition")],clearTimeout(r);var s,l=e(".js-scroll-x-container"),c=d(window,l);r=setTimeout((function(){l.length?(s=d(window,l),Math.abs(c.y-s.y)<3&&Math.abs(c.x-s.x)<3&&_.call(n,t)):_.call(n,t)}),200)}},s._touchMove=function(e){if(i){var r=e.originalEvent.touches[0].screenX,o=e.originalEvent.touches[0].screenY;t>=r-4&&t<=r+4&&n>=o-4&&n<=o+4?a=!1:(a=!0,u(e,"mousemove"))}},s._touchEnd=function(t){var n=!(!this.currentItem||!this.currentItem.parents("body").length)&&this.currentItem;clearTimeout(r),i&&(u(t,"mouseup"),u(t,"mouseout"),n||(n=this.element),n&&(n[0].style[Modernizr.prefixed("transition")]=o,n[0].style[Modernizr.prefixed("transform")]=n[0].style[Modernizr.prefixed("transform")].replace(/,?\s?scale\(\d*.\d*\),?\s?/gi,""),o=""),a||u(t,"click"),i=!1,this.currentItem=e("<div/>"))},s._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),l.call(t)},s._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),c.call(t)}}function u(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}function d(e,t){return{x:t.scrollLeft(),y:e.pageYOffset}}function _(e){var r;i=!0,a=!1,t=e.originalEvent.touches[0].screenX,n=e.originalEvent.touches[0].screenY,this.is_sortable||this.is_draggable?(h(e),r=!(!this.currentItem||!this.currentItem.length)&&this.currentItem,this.is_draggable&&(r=this.element),this.element.addClass("ui-started"),r&&(r.prepareTransition(),r[0].style[Modernizr.prefixed("transition")]=o+(o?", ":"")+Modernizr.prefixed("transform")+" .2s",r[0].style[Modernizr.prefixed("transform")]=r[0].style[Modernizr.prefixed("transform")]+(r[0].style[Modernizr.prefixed("transform")]?", ":"")+"scale(1.04)")):h(e)}function h(e){u(e,"mouseover"),u(e,"mousemove"),u(e,"mousedown")}}(n(661533))},80968:(e,t,n)=>{var i;(function(){window.Modernizr=function(e,t,n){function i(e){f.cssText=e}function a(e,t){return(void 0===e?"undefined":(n=e)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)===t;var n}function r(e,t){return!!~(""+e).indexOf(t)}function o(e,t){for(var i in e){var a=e[i];if(!r(a,"-")&&f[a]!==n)return"pfx"!=t||a}return!1}function s(e,t,i){for(var r in e){var o=t[e[r]];if(o!==n)return!1===i?e[r]:a(o,"function")?o.bind(i||t):o}return!1}function l(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+w.join(i+" ")+i).split(" ");return a(t,"string")||a(t,"undefined")?o(r,t):s(r=(e+" "+C.join(i+" ")+i).split(" "),t,n)}var c,u,d={},_=t.documentElement,h="modernizr",p=t.createElement(h),f=p.style,g=t.createElement("input"),m=":)",v={}.toString,y=" -webkit- -moz- -o- -ms- ".split(" "),b="Webkit Moz O ms",w=b.split(" "),C=b.toLowerCase().split(" "),k="http://www.w3.org/2000/svg",E={},P={},I={},A=[],T=A.slice,S=function(e,n,i,a){var r,o,s,l,c=t.createElement("div"),u=t.body,d=u||t.createElement("body");if(parseInt(i,10))for(;i--;)(s=t.createElement("div")).id=a?a[i]:h+(i+1),c.appendChild(s);return r=["&#173;",'<style id="s',h,'">',e,"</style>"].join(""),c.id=h,(u?c:d).innerHTML+=r,d.appendChild(c),u||(d.style.background="",d.style.overflow="hidden",l=_.style.overflow,_.style.overflow="hidden",_.appendChild(d)),o=n(c,e),u?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),_.style.overflow=l),!!o},x=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(i,r){r=r||t.createElement(e[i]||"div");var o=(i="on"+i)in r;return o||(r.setAttribute||(r=t.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(i,""),o=a(r[i],"function"),a(r[i],"undefined")||(r[i]=n),r.removeAttribute(i))),r=null,o}}(),D={}.hasOwnProperty;for(var O in u=a(D,"undefined")||a(D.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return D.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=T.call(arguments,1),i=function(){if(this,null!=(s=i)&&"undefined"!=typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](this):this instanceof s){var a=function(){};a.prototype=t.prototype;var r=new a,o=t.apply(r,n.concat(T.call(arguments)));return Object(o)===o?o:r}var s;return t.apply(e,n.concat(T.call(arguments)))};return i}),E.flexbox=function(){return l("flexWrap")},E.flexboxlegacy=function(){return l("boxDirection")},E.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},E.canvastext=function(){return!!d.canvas&&!!a(t.createElement("canvas").getContext("2d").fillText,"function")},E.webgl=function(){return!!e.WebGLRenderingContext},E.geolocation=function(){return"geolocation"in navigator},E.postmessage=function(){return!!e.postMessage},E.websqldatabase=function(){return!!e.openDatabase},E.indexedDB=function(){return!!l("indexedDB",e)},E.hashchange=function(){return x("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},E.history=function(){return!!e.history&&!!history.pushState},E.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},E.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},E.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),r(f.backgroundColor,"rgba")},E.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),r(f.backgroundColor,"rgba")||r(f.backgroundColor,"hsla")},E.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(f.background)},E.backgroundsize=function(){return l("backgroundSize")},E.borderimage=function(){return l("borderImage")},E.borderradius=function(){return l("borderRadius")},E.boxshadow=function(){return l("boxShadow")},E.textshadow=function(){return""===t.createElement("div").style.textShadow},E.opacity=function(){return i(y.join("opacity:.55;")+""),/^0.55$/.test(f.opacity)},E.cssanimations=function(){return l("animationName")},E.csscolumns=function(){return l("columnCount")},E.cssgradients=function(){var e="background-image:";return i((e+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+e)+y.join("linear-gradient(left top,#9f9, white);"+e)).slice(0,-17)),r(f.backgroundImage,"gradient")},E.cssreflections=function(){return l("boxReflect")},E.csstransforms=function(){return!!l("transform")},E.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in _.style&&S("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight})),e},E.csstransitions=function(){return l("transition")},E.fontface=function(){var e;return S('@font-face {font-family:"font";src:url("https://")}',(function(n,i){var a=t.getElementById("smodernizr"),r=a.sheet||a.styleSheet,o=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"";e=/src/i.test(o)&&0===o.indexOf(i.split(" ")[0])})),e},E.generatedcontent=function(){var e;return S(["#",h,"{font:0/0 a}#",h,':after{content:"',m,'";visibility:hidden;font:3px/1 a}'].join(""),(function(t){e=t.offsetHeight>=3})),e},E.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return n},E.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return n},E.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(e){return!1}},E.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(e){return!1}},E.webworkers=function(){return!!e.Worker},E.applicationcache=function(){return!!e.applicationCache},E.svg=function(){return!!t.createElementNS&&!!t.createElementNS(k,"svg").createSVGRect},E.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==k},E.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(v.call(t.createElementNS(k,"animate")))},E.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(v.call(t.createElementNS(k,"clipPath")))},E)u(E,O)&&(c=O.toLowerCase(),d[c]=E[O](),A.push((d[c]?"":"no-")+c));return d.input||(d.input=function(n){for(var i=0,a=n.length;i<a;i++)I[n[i]]=n[i]in g;return I.list&&(I.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),I}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),d.inputtypes=function(e){for(var i,a,r,o=0,s=e.length;o<s;o++)g.setAttribute("type",a=e[o]),(i="text"!==g.type)&&(g.value=m,g.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(a)&&g.style.WebkitAppearance!==n?(_.appendChild(g),i=(r=t.defaultView).getComputedStyle&&"textfield"!==r.getComputedStyle(g,null).WebkitAppearance&&0!==g.offsetHeight,_.removeChild(g)):/^(search|tel)$/.test(a)||(i=/^(url|email)$/.test(a)?g.checkValidity&&!1===g.checkValidity():g.value!=m)),P[e[o]]=!!i;return P}("search tel url email datetime date month week time datetime-local number range color".split(" "))),d.addTest=function(e,t){if("object"==typeof e)for(var i in e)u(e,i)&&d.addTest(i,e[i]);else{if(e=e.toLowerCase(),d[e]!==n)return d;t="function"==typeof t?t():t,_.className+=" "+(t?"":"no-")+e,d[e]=t}return d},i(""),p=g=null,function(e,t){function n(){var e=p.elements;return"string"==typeof e?e.split(" "):e}function i(e){var t=h[e[d]];return t||(t={},_++,e[d]=_,h[_]=t),t}function a(e,n,a){return n||(n=t),s?n.createElement(e):(a||(a=i(n)),(r=a.cache[e]?a.cache[e].cloneNode():u.test(e)?(a.cache[e]=a.createElem(e)).cloneNode():a.createElem(e)).canHaveChildren&&!c.test(e)?a.frag.appendChild(r):r);var r}function r(e){e||(e=t);var r=i(e);return p.shivCSS&&!o&&!r.hasCSS&&(r.hasCSS=!!function(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>",i.insertBefore(n.lastChild,i.firstChild)}(e)),s||function(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return p.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,(function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'}))+");return n}")(p,t.frag)}(e,r),e}var o,s,l=e.html5||{},c=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,u=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,d="_html5shiv",_=0,h={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",o="hidden"in e,s=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){o=!0,s=!0}}();var p={elements:l.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==l.shivCSS,supportsUnknownElements:s,shivMethods:!1!==l.shivMethods,type:"default",shivDocument:r,createElement:a,createDocumentFragment:function(e,a){if(e||(e=t),s)return e.createDocumentFragment();for(var r=(a=a||i(e)).frag.cloneNode(),o=0,l=n(),c=l.length;o<c;o++)r.createElement(l[o]);return r}};e.html5=p,r(t)}(this,t),d._version="2.6.2",d._prefixes=y,d._domPrefixes=C,d._cssomPrefixes=w,d.hasEvent=x,d.testProp=function(e){return o([e])},d.testAllProps=l,d.testStyles=S,d.prefixed=function(e,t,n){return t?l(e,t,n):l(e,"pfx")},_.className=_.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+A.join(" "),d}(this,this.document),function(e,t,n){function i(e){return"[object Function]"==g.call(e)}function a(e){return"string"==typeof e}function r(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=m.shift();v=1,e?e.t?p((function(){("c"==e.t?_.injectCss:_.injectJs)(e.s,0,e.a,e.x,e.e,1)}),0):(e(),s()):v=0}function l(e,n,i,a,r,l,c){function u(t){if(!h&&o(d.readyState)&&(y.r=h=1,!v&&s(),d.onload=d.onreadystatechange=null,t))for(var i in"img"!=e&&p((function(){w.removeChild(d)}),50),I[n])I[n].hasOwnProperty(i)&&I[n][i].onload()}c=c||_.errorTimeout;var d=t.createElement(e),h=0,g=0,y={t:i,s:n,e:r,a:l,x:c};1===I[n]&&(g=1,I[n]=[]),"object"==e?d.data=n:(d.src=n,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,g)},m.splice(a,0,y),"img"!=e&&(g||2===I[n]?(w.insertBefore(d,b?null:f),p(u,c)):I[n].push(d))}function c(e,t,n,i,r){return v=0,t=t||"j",a(e)?l("c"==t?k:C,e,t,this.i++,n,i,r):(m.splice(this.i++,0,e),1==m.length&&s()),this}function u(){var e=_;return e.loader={load:c,i:0},e}var d,_,h=t.documentElement,p=e.setTimeout,f=t.getElementsByTagName("script")[0],g={}.toString,m=[],v=0,y="MozAppearance"in h.style,b=y&&!!t.createRange().compareNode,w=b?h:f.parentNode,C=(h=e.opera&&"[object Opera]"==g.call(e.opera),h=!!t.attachEvent&&!h,y?"object":h?"script":"img"),k=h?"script":C,E=Array.isArray||function(e){return"[object Array]"==g.call(e)},P=[],I={},A={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};_=function(e){function t(e,t,n,a,r){var o=function(e){e=e.split("!");var t,n,i,a=P.length,r=e.pop(),o=e.length;for(r={url:r,origUrl:r,prefixes:e},n=0;n<o;n++)i=e[n].split("="),(t=A[i.shift()])&&(r=t(r,i));for(n=0;n<a;n++)r=P[n](r);return r}(e),s=o.autoCallback;o.url.split(".").pop().split("?").shift(),o.bypass||(t&&(t=i(t)?t:t[e]||t[a]||t[e.split("/").pop().split("?")[0]]),o.instead?o.instead(e,t,n,a,r):(I[o.url]?o.noexec=!0:I[o.url]=1,n.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":void 0,o.noexec,o.attrs,o.timeout),(i(t)||i(s))&&n.load((function(){u(),t&&t(o.origUrl,r,a),s&&s(o.origUrl,r,a),I[o.url]=2}))))}function n(e,n){function o(e,r){if(e){if(a(e))r||(d=function(){var e=[].slice.call(arguments);_.apply(this,e),h()}),t(e,d,n,0,c);else if(Object(e)===e)for(l in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!r&&! --s&&(i(d)?d=function(){var e=[].slice.call(arguments);_.apply(this,e),h()}:d[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),h()}}(_[l])),t(e[l],d,n,l,c))}else!r&&h()}var s,l,c=!!e.test,u=e.load||e.both,d=e.callback||r,_=d,h=e.complete||r;o(c?e.yep:e.nope,!!u),u&&o(u)}var o,s,l=this.yepnope.loader;if(a(e))t(e,0,l,0);else if(E(e))for(o=0;o<e.length;o++)a(s=e[o])?t(s,0,l,0):E(s)?_(s):Object(s)===s&&n(s,l);else Object(e)===e&&n(e,l)},_.addPrefix=function(e,t){A[e]=t},_.addFilter=function(e){P.push(e)},_.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,i,a,l,c){var u,d,h=t.createElement("script");for(d in a=a||_.errorTimeout,h.src=e,i)h.setAttribute(d,i[d]);n=c?s:n||r,h.onreadystatechange=h.onload=function(){!u&&o(h.readyState)&&(u=1,n(),h.onload=h.onreadystatechange=null)},p((function(){u||(u=1,n(1))}),a),l?h.onload():f.parentNode.insertBefore(h,f)},e.yepnope.injectCss=function(e,n,i,a,o,l){var c;for(c in n=l?s:n||r,(a=t.createElement("link")).href=e,a.rel="stylesheet",a.type="text/css",i)a.setAttribute(c,i[c]);o||(f.parentNode.insertBefore(a,f),p(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},void 0===(i=function(){}.call(t,n,t,e))||(e.exports=i)}).call(window);var a="vendor/modernizr";window.define(a,(function(){var t="undefined",n=typeof __webpack_exports__===t?typeof i===t?typeof e===t?void 0:e.exports:i:__webpack_exports__;return n&&n.default||n})),window.require([a])},146911:(e,t,n)=>{"use strict";n.r(t);var i=n(661533),a=n.n(i),r=n(445368),o=n(845043);a()(document).one("page:construct",(function(){APP.constant("user").settings.is_current_account_data_deleted&&new o.default({text:(0,r.i18n)("Data created during the trial period has been deleted"),no_cancel:!0,accept:function(){a().ajax({url:"/ajax/v4/users/me/modal_deleted_data",type:"PATCH",contentType:"application/json",dataType:"json",data:JSON.stringify({is_show_modal_after_delete_data:!1})}),this.modal.destroy()}})}));var s="../build/transpiled/common/modal_deleted_data";window.define(s,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([s])},143273:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var i=n(629133),a=n.n(i),r=n(345839),o=n.n(r),s=n(845043),l=n(661533),c={message:APP.lang.page_leave_has_changes,accept_text:"OK",decline_text:APP.lang.button_cancel,accept:null,decline:null},u=!1,d=!1,_={},h={},p=l(document),f={getPreventFlag:function(){return u},getTrackChanges:function(e){return a().isUndefined(e)?f.getChanges():_[e]},preventPageChange:function(e,t){var n=!!a().isUndefined(e)||e;return t=f.checkCode(t),n?h[t]&&(_[t]=l.extend({},c,h[t])):delete _[t],u=a().keys(_).length>0,this},registerPreventConfig:function(e,t){h[f.checkCode(t)]=e},removePreventConfig:function(e){e=f.checkCode(e),h[e]&&(f.preventPageChange(!1,e),delete _[e],delete h[e])},confirmPageChange:function(e,t){var n=a().bind(this.confirmPageChange,this);(null==e?void 0:e.onlyBeforeUnload)?t():(e=a().isString(e)?h[e]:e,t=a().isFunction(t)?t:a().noop,p.trigger("menu:icon:restore").trigger("page:change:stop"),APP.router.prevent_page_confirm||(this.declined=!1,APP.router.prevent_page_confirm=!0,new s.default({class_name:"modal-list modal-leave-confirm",decline_text:e.decline_text,accept_text:e.accept_text,button_class:e.gray_button?"":"button-input_blue",text:e.title||e.message||APP.lang.card_page_leave_has_changes,message:e.description,no_cancel:e.no_cancel,init:function(){"function"==typeof e.init&&e.init((function(){t()}))},accept:function(){"function"==typeof e.accept?e.accept.call(this.modal,(function(e){t(e)})):t(),this.modal.destroy()},destroy:function(){!1!==this.accepted||this.declined||(this.declined=!0,"function"==typeof e.decline?e.decline.call(this.modal,(function(e){t(e)}),this.accepted):t()),"function"==typeof e.destroy&&e.destroy(),a().keys(_).length<=1?APP.router.prevent_page_confirm=!1:(delete _[a().first(a().keys(_))],n())}})))},checkCode:function(e){return e||APP.data.current_entity},getChanges:function(){return a().first(a().values(_))||{}}};o().History.prototype.navigate=a().wrap(o().History.prototype.navigate,(function(e,t,n){var i=this,a=f.getChanges(),r=function(a){APP.router.preventPageChange(!1,a),e.call(i,t,n)};u&&n.trigger&&!a.onlyBeforeUnload?APP.router.confirmPageChange(a,r):r()})),l(window).on("page-preventer:disable-unload",(function(){d=!0})).on("page-preventer:enable-unload",(function(){d=!1})).on("beforeunload",(function(){if(u&&!d)return APP.lang.page_leave_has_changes}));const g=f;var m="../build/transpiled/common/page_preventer";window.define(m,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([m])},176243:(e,t,n)=>{"use strict";n.r(t);var i=n(661533),a=n.n(i),r=n(397738),o=n.n(r),s=n(998798);a()((function(){var e=function(){var e=a()("#page").width();APP.notSmall=(0,s.isImboxSection)()?e>1594:e>1230,APP.is_widgets_maximized=(0,s.isImboxSection)()?e>1864:e>1500,a()("html").toggleClass("h-widgets-closed",!1===APP.notSmall).toggleClass("h-widgets-maximized",APP.is_widgets_maximized),APP.is_widgets_maximized&&a()(document).trigger("openWidgetPanel")};a()(document).on("page:changed",e),e()})),o().register("screen and (max-width: ".concat(1230,"px)"),{match:function(){(0,s.isImboxSection)()||(APP.notSmall=!1,a()("html").addClass("h-widgets-closed"),a()(document).trigger("closeWidgetPanel").trigger("widgets:card-minimized"))},unmatch:function(){(0,s.isImboxSection)()||(APP.notSmall=!0,a()("html").removeClass("h-widgets-closed"),a()(document).trigger("widgets:card-maximized"))}}),o().register("screen and (min-width: ".concat(1500,"px)"),{match:function(){(0,s.isImboxSection)()||(APP.is_widgets_maximized=!0,a()("html").addClass("h-widgets-maximized"),a()(document).trigger("openWidgetPanel"))},unmatch:function(){(0,s.isImboxSection)()||(APP.is_widgets_maximized=!1,a()("html").removeClass("h-widgets-maximized"))}}),o().register("screen and (max-width: ".concat(1594,"px)"),{match:function(){(0,s.isImboxSection)()&&(APP.notSmall=!1,a()("html").addClass("h-widgets-closed"),a()(document).trigger("closeWidgetPanel").trigger("widgets:card-minimized"))},unmatch:function(){(0,s.isImboxSection)()&&(APP.notSmall=!0,a()("html").removeClass("h-widgets-closed"),a()(document).trigger("widgets:card-maximized"))}}),o().register("screen and (min-width: ".concat(1864,"px)"),{match:function(){(0,s.isImboxSection)()&&(APP.is_widgets_maximized=!0,a()("html").addClass("h-widgets-maximized"),a()(document).trigger("openWidgetPanel"))},unmatch:function(){(0,s.isImboxSection)()&&(a()("html").removeClass("h-widgets-maximized"),APP.is_widgets_maximized=!1)}}),o().register("screen and (max-device-width: 640px)",{match:function(){APP.is_phone=!0,window.location.pathname.includes("/mobile/")||a()('meta[name="viewport"]').attr("content","")}});var l="../build/transpiled/common/windowWidthController";window.define(l,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([l])},604206:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var i,a,r=n(661533),o=n.n(r),s=n(629133),l=n.n(s),c=n(987081),u=n(128508),d=n(334254),_=n.n(d),h=n(797078),p=n(955026),f=n(214558),g=new c.Subscription,m={init:function(){"visible"===_().state()&&h.default.send([{method:"activity"}]),h.default.send([{method:"get_online"}]),g.add(this.initStream().subscribe(l().bind(this.initStatus,this)))},initStream:function(){return h.default.subscribe("get_online").pipe(u.filter((function(e){return"get_online"===e.method&&(0,p.hasKeys)(e,["body"])})),u.map((function(e){return e.body.users})),u.share())},initStatus:function(e){(0,f.updateOnline)(e,!0)},refresh:function(){g.add(this.refreshStream().subscribe(l().bind(this.refreshStateUser,this)))},refreshSend:function(){return setInterval((function(){h.default.send([{method:"activity"}])}),5e3)},refreshStream:function(){return h.default.subscribe("activity").pipe(u.filter((function(e){return"activity"===e.method&&(0,p.hasKeys)(e,["body"])})),u.map((function(e){return{user_id:e.body.user_id,event:"user_online"===e.body.event}})),u.share())},refreshStateUser:function(e){(0,f.updateOnline)([e.user_id],e.event)}};h.default.subscribe("activity").pipe(u.filter((function(e){return"activity"===(l().propertyOf(e)(["body","channel"])||"").replace(/[^A-Za-zА]/g,"")}))).subscribe((function(){var e=!0,t=_().state();clearInterval(i),_().unbind(a),m.init(),m.refresh(),"visible"===t&&!0===e&&(i=m.refreshSend()),a=_().change((function(){_().hidden()?clearInterval(i):!0===e&&(clearInterval(i),i=m.refreshSend())})),o()(window).on("online",(function(){clearInterval(i),e=!0})),o()(window).on("offline",(function(){clearInterval(i),e=!1}))}));const v=m;var y="../build/transpiled/components/base/inbox/chats/status_chat";window.define(y,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([y])},792707:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sentryLogAuth:()=>b});var i=n(629133),a=n.n(i),r=n(334254),o=n.n(r),s=n(130860),l=n.n(s),c=n(955026),u=n(306843),d=n(909599),_=n(226218);function h(){var e,t,n=(e=["Date: "," Referrer: "," Info: ",""],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return h=function(){return n},n}var p=Number((0,d.getServerTime)())*d.SECOND,f=[],g=[],m=function(){var e,t=performance.now();return e=p?new Date(p+t):null,{lifetime:"".concat((t/d.SECOND).toFixed(1),"s"),lastVisibilityChangeAt:e,serverTime:(0,d.getServerTime)(),isVisible:(0,_.isTabVisible)()}};f.push(m()),o().change((function(){f.push(m())}));var v={meta:{account_id:APP.constant("account").id,user_id:APP.constant("user").id,top_level_domain:APP.constant("account").top_level_domain,account_language:APP.constant("account").language,country:APP.constant("geoip_country")||"",user_language:APP.lang_id,browser:{name:u.default.browser,version:String(u.default.version),tab:{id:l().v4(),lastTimeReload:p?new Date(p):null}},os:u.default.os}},y=function(){var e=JSON.parse(JSON.stringify(v)),t=e.meta.browser,n=m(),i=n.lifetime,r=n.serverTime,o=n.isVisible;return t.tab=a().extend({},t.tab,{lifetime:i,isVisible:o,serverTime:r,activity:f,time:new Date}),e};function b(e){if((0,c.isDev)())console.error("Error log",e);else{var t,n=window.Sentry;if(n&&navigator.onLine){g.length&&(t=JSON.parse(JSON.stringify(g)),g=[],a().each(t,(function(e){b(e)})));var i=y(),r=a().extend({},e,i),o=n.logger,s=btoa(unescape(encodeURIComponent(JSON.stringify(r))));o.error(o.fmt(h(),e.logDate,window.location.href,s))}else g.push(e)}}},255328:(e,t,n)=>{"use strict";n.r(t);var i=n(629133),a=n.n(i),r=n(661533),o=n.n(r),s=n(700897),l=n(744741),c=n(694615),u=n(805163),d=n(335745),_=n(695195),h=n(539213),p=n(909599),f=n(130303),g=n(715394),m=n(792707);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function y(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){y(r,i,a,o,s,"next",e)}function s(e){y(r,i,a,o,s,"throw",e)}o(void 0)}))}}var w=void 0,C=[],k=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];C.push(n),(0,f.isDebugModeEnabled)()&&(e=console).warn.apply(e,function(e){if(Array.isArray(e))return v(e)}(t=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};(0,g.initCoreAuthManager)({onLogsCollect:k});var E=o().ajax,P=new h.RequestsBufferManager,I=APP.constant("user").sso_auth,A=null,T=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")!==c.ACCESS_TOKEN_URL&&(0,g.isRequestAllowedToBeSent)()};o().ajax=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0]||{},r=i.url,o=i.success,l=void 0===o?a().noop:o,c=i.error,u=void 0===c?a().noop:c,d=i.complete,h=void 0===d?a().noop:d;return(0,_.awaitedPromiseCall)({promise:function(){return a().isObject(t[0])&&s.INTERNAL_URL_REGEX.test(r)?(t[0]=a().omit(t[0],"success","error","complete"),E.apply(w,t).done(l).fail(u).always(h)):E.apply(w,t)},condition:T(r)})},o().ajaxPromisify=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){var i;(0,_.awaitedPromiseCall)({condition:T(null===(i=t[0])||void 0===i?void 0:i.url),promise:function(){return E.apply(w,t).then(e,n)}})}))},o().ajaxPrefilter((function(e,t,n){var i=e.url,a=void 0===i?"":i,r=e.headers;if((0,h.isRequestUsingCoreAuth)({headers:r,url:a})){var _=o().Deferred(),f=(0,g.getAccessTokenExpirationTimestamp)();return n.fail(b((function(){var t,i,r,o,h,v,y=arguments;return function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(b){switch(b.label){case 0:for(t=y.length,i=new Array(t),r=0;r<t;r++)i[r]=y[r];switch(o=n.responseJSON,n.status){case l.HttpStatusCode.BAD_REQUEST:case l.HttpStatusCode.PAYMENT_REQUIRED:return[3,1];case l.HttpStatusCode.UNAUTHORIZED:return[3,2]}return[3,9];case 1:return s.INTERNAL_URL_REGEX.test(a)&&(null==o||null===(h=o.response)||void 0===h?void 0:h.redirect)&&APP.router.navigate(o.response.redirect,{trigger:!0,replace:!0}),_.rejectWith(n,i),[3,10];case 2:return a===c.ACCESS_TOKEN_URL?(k(["[intrcptr HttpStatusCode.UNAUTHORIZED] UPDATE_AUTH_TOKENS_URL fail, show modal"]),v={content:{code:n.status,response:n.responseJSON||"No response data",serverTime:(0,p.getServerTime)()||null,accessTokenExpiresAt:(0,g.getAccessTokenExpirationTimestamp)()||null,logs:C},tags:["auth-tokens-update"],logDate:(new Date).toISOString()},(0,d.logError)([v]),(0,m.sentryLogAuth)(v),C=[],_.rejectWith(n,i),[2]):((I||g.IS_NEW_AUTH_ENABLED)&&P.add(e,_),I?(A||(A=new u.default),A.is_refresh_token_window_due_to_401_opened?[3,4]:[4,A.setExpireTokenOverlay(!0)]):[3,5]);case 3:b.sent(),P.fire(),b.label=4;case 4:return[3,8];case 5:return g.IS_NEW_AUTH_ENABLED&&f&&f!==(0,g.getAccessTokenExpirationTimestamp)()?(k(["[intrcptr HttpStatusCode.UNAUTHORIZED] expires at updated, should fire requests buffer: ",f,(0,g.getAccessTokenExpirationTimestamp)()]),P.fire(),[3,8]):[3,6];case 6:return g.IS_NEW_AUTH_ENABLED?(k(["[intrcptr HttpStatusCode.UNAUTHORIZED] should update tokens: ",f,(0,g.getAccessTokenExpirationTimestamp)()]),[4,(0,g.updateAuthTokens)({shouldStopRequests:!0})]):[3,8];case 7:b.sent(),k(["[intrcptr HttpStatusCode.UNAUTHORIZED] firebuffer after success modal: ",f,(0,g.getAccessTokenExpirationTimestamp)()]),P.fire(),b.label=8;case 8:return[3,10];case 9:_.rejectWith(n,i),b.label=10;case 10:return[2]}}))}))),n.done(_.resolve),_.promise(n)}}));var S="../build/transpiled/core/auth/interceptor";window.define(S,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([S])},805163:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var i=n(334254),a=n.n(i),r=n(661533),o=n.n(r),s=n(629133),l=n.n(s),c=n(560399);function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=3e5,h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"$body",void 0),d(this,"$sso_auth_overlay",void 0),d(this,"is_refresh_overlay_timer_clicked",void 0),d(this,"is_refresh_token_window_due_to_401_opened",void 0),d(this,"sso_auth_token_expiration",void 0),d(this,"refresh_auth_timer",void 0),d(this,"click_element",void 0),d(this,"onHandleReauth",void 0),d(this,"unsubscribeFromSsoRefreshTokenMessage",void 0),this.$body=o()("body"),this.$sso_auth_overlay=o()('<div style="position: absolute; width: 100%; height: 100%; padding-left: 65px; margin-left: -65px; z-index: 10000;"></div>'),this.is_refresh_overlay_timer_clicked=!Number(APP.constant("sso_auth_token_expiration")),this.is_refresh_token_window_due_to_401_opened=!1;var t=1e3*Number(APP.constant("sso_auth_token_expiration"));try{localStorage.setItem("sso_auth_token_expiration",String(t)),this.sso_auth_token_expiration=t}catch(e){this.sso_auth_token_expiration=t}this.handlePostMessage=l().bind(this.handlePostMessage,this),window.addEventListener("message",this.handlePostMessage),this.setExpireTokenOverlay=l().bind(this.setExpireTokenOverlay,this),this.updateTimestampLS=l().bind(this.updateTimestampLS,this),window.addEventListener("storage",this.updateTimestampLS),this.initVisibility(t)}var t,n;return t=e,n=[{key:"initVisibility",value:function(e){var t=this;a().hidden()||this.updateRefreshAuthTimer(e),a().change((function(){if(a().hidden())clearTimeout(t.refresh_auth_timer),t.$sso_auth_overlay.remove();else if(!t.is_refresh_overlay_timer_clicked)try{t.updateRefreshAuthTimer(Number(localStorage.getItem("sso_auth_token_expiration")))}catch(e){t.updateRefreshAuthTimer(t.sso_auth_token_expiration)}}))}},{key:"updateTimestampLS",value:function(e){"sso_auth_token_expiration"===e.key&&(this.is_refresh_overlay_timer_clicked=!1,this.is_refresh_token_window_due_to_401_opened=!1,a().hidden()||(clearTimeout(this.refresh_auth_timer),this.$sso_auth_overlay.remove(),this.updateRefreshAuthTimer(Number(e.newValue))))}},{key:"refreshSsoTokenByMessage",value:function(e){var t=e.data;try{var n=JSON.parse(t);if("SSOTokenTimestamp"!==n.message_type)return;if(l().isFunction(this.unsubscribeFromSsoRefreshTokenMessage)&&this.unsubscribeFromSsoRefreshTokenMessage(),n.success){var i,r=1e3*Number(n.expires_in)+Date.now();this.is_refresh_token_window_due_to_401_opened&&(null===(i=this.onHandleReauth)||void 0===i||i.resolve()),this.clickOnNode(this.click_element),this.click_element=null;try{localStorage.setItem("sso_auth_token_expiration",String(r)),this.sso_auth_token_expiration=r}catch(e){this.sso_auth_token_expiration=r}this.is_refresh_overlay_timer_clicked=!1,this.is_refresh_token_window_due_to_401_opened=!1,a().hidden()||this.updateRefreshAuthTimer(r)}else if(this.is_refresh_token_window_due_to_401_opened){var o;null===(o=this.onHandleReauth)||void 0===o||o.reject()}}catch(e){}}},{key:"handlePostMessage",value:function(e){window.location.origin===e.origin&&this.refreshSsoTokenByMessage({data:e.data})}},{key:"subscribeToSsoRefreshTokenMessage",value:function(){var e=this;window.addEventListener("message",this.handlePostMessage);var t=(0,c.subscribeToTabsBroadcast)("ssoMessage",(function(t){e.refreshSsoTokenByMessage({data:t})}));return function(){t(),window.removeEventListener("message",e.handlePostMessage)}}},{key:"updateRefreshAuthTimer",value:function(e){var t=this;e-Date.now()>_?this.refresh_auth_timer=setTimeout((function(){t.setExpireTokenOverlay()}),e-Date.now()-_):this.setExpireTokenOverlay()}},{key:"clickOnNode",value:function(e){e.click?e.click():this.clickOnNode(e.parentNode)}},{key:"setExpireTokenOverlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.$body.append(this.$sso_auth_overlay),this.$sso_auth_overlay.on("click",l().bind(this.handleOverlayClick,this)),e?(this.is_refresh_overlay_timer_clicked=!0,this.onHandleReauth=o().Deferred(),this.onHandleReauth.promise()):o().Deferred().resolve()}},{key:"handleOverlayClick",value:function(e){var t=e.clientX,n=e.clientY;this.$sso_auth_overlay.remove(),this.is_refresh_overlay_timer_clicked?this.is_refresh_token_window_due_to_401_opened=!0:this.is_refresh_overlay_timer_clicked=!0,window.open("/oauth2/sso/saml/reauth/"+APP.constant("user").id)&&(this.click_element=document.elementFromPoint(t,n)),this.unsubscribeFromSsoRefreshTokenMessage=this.subscribeToSsoRefreshTokenMessage()}}],n&&u(t.prototype,n),e}(),p="../build/transpiled/core/auth/sso_auth";window.define(p,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([p])},545098:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var i=n(661533),a=n.n(i),r=n(629133),o=n.n(r),s=n(345839),l=n.n(s),c=n(162262),u=n.n(c),d=n(993595),_=n(288410),h=n(156040),p=n(500034),f=n(323344),g=n(168807),m=n(509372),v=n(143273),y=n(258471);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(255328);var w=a()(document),C=function(){return APP.data.current_view&&o().isFunction(APP.data.current_view._getInstance)?APP.data.current_view._getInstance():APP.data.current_view},k=l().Router.prototype._bindRoutes,E=function(){var e=(0,f.getQueryString)();return window.location.pathname+(e?"?".concat(e):"")},P=!1,I=!1,A=E();(0,p.isFeatureAvailable)(p.Features.SYSTEM_NAVIGATION_V2)?Promise.all([n.e(91446),n.e(95882),n.e(70013),n.e(76265),n.e(3473),n.e(48098),n.e(11958),n.e(8232),n.e(67914),n.e(42315),n.e(9034),n.e(12915),n.e(97764),n.e(91498),n.e(96186),n.e(74211),n.e(35370),n.e(52464),n.e(59341)]).then(n.bind(n,343377)):n.e(37107).then(n.bind(n,537107));var T=l().Router.extend({base_entities:["leads","contacts","todo","companies","customers"],all_entities:[],paths:[],routes:o().extend(d.default,{":entity(/)":"rememberedEntity","*notFound":"notFound"}),initialize:function(){a()(document).on("page:reload list:reload",o().bind((function(e,t){this.reload(t)}),this))},_bindRoutes:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=[];this.routes&&(this.routes=o().chain(o().result(this,"routes")).reduce((function(e,t,n){return o().isString(t)?e[n]=t:(i.push([n,t[0],t[1],t[2]||{}]),this.all_entities=o().chain(this.all_entities).union([t[0]]).uniq().value()),e}),{},this).value(),k.apply(this,t),o().reject(i,(function(e){return e[3].internal=!0,this.addRoute.apply(this,function(e){if(Array.isArray(e))return b(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),!0;var t}),this))},notFound:function(){this.routeWrap("page404")},rememberedEntity:function(e){var t={leads:"pipeline",whatsapp:"whatsapp",mobile:"mobile",customers:APP.constant("periodicity_enabled")?"pipeline":"list",stats:"pipeline",todo:"line",contacts:"list",calendar:"month",catalogs:""},n=(0,m.get)({leads:"LAST_PLACE_DEALS",whatsapp:"LAST_PLACE_WHATSAPP",mobile:"LAST_PLACE_MOBILE",customers:"LAST_PLACE_CUSTOMERS",stats:"LAST_PLACE_REPORTS",todo:"LAST_PLACE_TODO",contacts:"LAST_PLACE_CONTACTS",catalogs:"LAST_PLACE_CATALOGS",month:"LAST_PLACE_CALENDAR"}[e]);"stats"===e&&"events/list"===n&&(e="events",n="list"),n&&-1===n.indexOf("undefined")&&-1===n.indexOf("null")||(n=t[e]),"customers"!==e||"pipeline"!==n||APP.constant("periodicity_enabled")||(n="list"),n||this.notFound(),APP.router.navigate("/".concat(e,"/").concat(n,"/"),{trigger:!0,replace:!0})},reload:function(e){var t;!0===e&&(APP.data.current_entity="no_entity"),APP.router.navigate((0,f.setQueryParam)({reload:(0,g.randHex)()}),{trigger:!0,replace:!0}),t=(0,f.removeQueryParam)("reload"),APP.router.navigate(window.location.pathname+(t?"?".concat(t):""),{trigger:!1,replace:!0})},back:function(e){var t,n=APP.getBaseEntity(),i="",a="/_support/".concat(n,"/list/").concat(i);if(I&&!0!==e)v.default.getPreventFlag()?this.confirmPageChange(v.default.getTrackChanges(),(function(){l().history.history.back()})):l().history.history.back();else if(o().contains(["leads","companies","whatsapp","mobile","contacts","todo","mail","customers","unsorted","accounts","users","orders","unban_account"],APP.getBaseEntity())){switch("companies"===n&&(n="contacts",i="companies/"),APP.getBaseEntity()){case"customers":t=APP.constant("periodicity_enabled")?"/customers/pipeline/":"/customers/list/";break;case"unsorted":case"leads":t="/leads/";break;case"whatsapp":t="/whatsapp/";break;case"mobile":t="/mobile/";break;case"mail":t="/".concat(n,"/inbox/");break;case"accounts":case"users":case"orders":case"unban_account":t=a;break;default:t="/".concat(n,"/list/").concat(i)}this.navigate(t,{trigger:!0})}},addRoute:function(e,t,n,i){return this.route(e,o().bind((function(){var e=(0,f.getQueryString)(),a=Array.prototype.slice.call(arguments);e&&a.pop(),this.routeWrap(t,o().extend({handler:n,args:a},i||{}))}),this)),this},routeWrap:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{querystring:""};(0,_.clearWidgetsBlock)(),(0,y.setDefaultMetricNamespace)(null),P?(APP.first_load=!1,"imbox"!==P.replace("/","")&&APP.constant("load_from_server",!1)):n.first_load=!0,I===l().history.fragment&&(n.is_back=!0),I=P,P&&(n.path_changed=!0),n.is_card||this.paths.unshift(l().history.fragment),APP.getBaseEntity()===APP.getBaseEntity(e)?APP.data.entity_changed=!1:(n.entity_changed=!0,APP.data.entity_changed=!0),APP.data.page_changed=APP.data.current_entity!==e,APP.data.current_entity=e,APP.data.is_card=!!n.is_card,APP.data.from_card=!!APP.data.card_page,APP.data.entity_changed?w.triggerHandler("page:entity_changed",[o().extend({},n)]):w.triggerHandler("page:sub_entity_changed",[o().extend({},n)]),n.internal?(APP.data.is_card||(this._show_overlay_delay=setTimeout((function(){w.trigger("page:overlay:show")}),100)),n.handler({pageType:(0,y.getDefaultMetricNamespace)(),args:n.args||[]}).then((function(e){t.routeLoadedThenTrigger(n,e.default)}),(function(e){console&&console.error&&console.error(e),APP.router.navigate(A,{replace:!0,trigger:!1}),w.trigger("page:overlay:hide")})),APP.first_load||APP.metricTracker.setCustomTime()):o().isFunction(n.handler)&&this.routeLoadedThenTrigger(n,n.handler),P=l().history.fragment},routeLoadedThenTrigger:function(e,t){e.PageHandler=t,new Promise(o().bind(this.routeCheckCardBack,this,e)).then(o().bind(this.routeHandlerInit,this),o().noop),A=E()},routeHandlerInit:function(e){var t=C();APP.data.card_page&&(APP.data.card_page.destroy(),APP.data.card_page=!1),t&&!e.is_card&&(t.destroy(),APP.data.current_view=!1),(0,h.restartPageLoadHandling)();var n=new e.PageHandler({route_args:e.args,route_params:e.params||{}});e.is_card?APP.data.card_page=n:APP.data.current_view=n},routeCheckCardBack:function(e,t,n){var i,r=!1;clearTimeout(this._show_overlay_delay),w.trigger("page:overlay:hide"),!APP.data.is_card&&APP.data.card_page&&APP.data.current_view&&this.paths[0]===this.paths[1]?APP.data.card_page.cardBack(o().bind((function(n){var i,o,s;o=C(),s=e.PageHandler,r=!(null!=s&&"undefined"!=typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](o):o instanceof s),n||r?(r&&(APP.data.entity_changed=!0),t(e)):("none"!==a()("#search-suggest-drop-down-menu").css("display")&&(i=["search_input_focus"]),w.triggerHandler("page:changed",i))}),this)):APP.data.current_view&&APP.data.current_view.catalog&&(i=APP.router.paths[0].split("/"))[1]===APP.data.current_view.catalog.id?APP.data.current_view.browserNavigateHandler(i[2],e.args[1])?t(e):n():t(e)},navigate:function(e,t){var n=l().history.getFragment(e||"");return!(t=t||{}).replace||t.trigger||APP.data.is_card||(this.paths[0]=decodeURIComponent(e.substring(1))),t.important&&l().history.fragment===n.replace(/#.*$/,"")?this.reload():l().Router.prototype.navigate.apply(this,arguments)},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return o().map(n,(function(e,t){return n.length,e||null}))}});u().mixin(T,v.default),APP.router=new T,l().history.start({pushState:!0});const S=APP.router;var x="../build/transpiled/core/router";window.define(x,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([x])},954883:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={templates_cache_code:"amojo_templates",templates_next_page_link:"amojo_next_page_link",templates_cache_lifetime:3e5};var a="../build/transpiled/interface/amojo/templates/constants";window.define(a,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([a])},438173:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var i=n(661533),a=n.n(i),r=n(629133),o=n.n(r),s=n(460159),l=n.n(s),c=n(809228),u=n.n(c),d=n(304483),_=(n(19980),n(242284),n(181743),n(200123),n(241817),n(245522),n(95871),n(771205),n(709984),n(313445),n(105512),n(266569),n(990108),n(857185),n(397051),n(351532),n(985543),n(727526),n(792105),n(610102),n(384188),n(696677),n(282140),n(404382),n(461431),n(13745),n(447366),n(74956),n(333720),n(430647),n(962683),n(23032),n(749495),n(220555),n(125522),n(123241),n(830666),n(644760),n(51623),n(656536),n(521238),n(55310),n(217416),n(668108),n(863329),n(129976),n(225826),n(118973),n(967134),n(433264),n(305093),n(891941),n(319071),n(369500),n(661533)),h=!1,p=a()(document);document.addEventListener("click",(function(e){e.target.closest(".button-input-loading")&&e.stopPropagation()}),!0),p.on("controls:textarea:autosize","textarea",(function(){var e=a()(this);e.is(":visible")&&(e.autosize({callback:function(){e.trigger("controls:textarea:resized")}}),e.trigger("autosize.resize"))})),p.on("custom_radio_change",'.control-radio input[type="radio"]',(function(){var e=a()(this),t=a()(this.parentNode),n=this.type,i=a()(this).attr("name"),r=!!i&&a()('[name="'.concat(i,'"]'));r&&(r.not(this).prop("checked",!1).parent().removeClass("icon-".concat(n,"-checked")),r.filter(this).prop("checked",!0).parent().addClass("icon-".concat(n,"-checked"))),t.addClass("icon-".concat(n)),e.trigger("controls:change").change(),e.trigger("controls:change:visual")})).on("click",".control-radio__label:not(.js-react-control)",(function(){var e=a()(this).find(".control-radio__helper").parent().find(":input");e.prop("disabled")||e.trigger("custom_radio_change",[!e.prop("checked")])})).on("controls:disable",'.control-radio input[type="radio"]',(function(e,t){this.disabled=!!o().isUndefined(t)||t,a()(this).closest(".control-radio__label").toggleClass("control-radio__label_disabled",this.disabled).find(".control-radio__helper").toggleClass("control-radio__helper-disabled",this.disabled)})).on("controls:disable",".button-input",(function(e,t){t=!!o().isUndefined(t)||t,a()(this)[t?"addClass":"removeClass"]("button-input-disabled")})).on("controls:disable",".switcher__checkbox",(function(e,t){var n=a()("label[for='".concat(a()(this).attr("id"),"']"));t=!!o().isUndefined(t)||t,a()(this).prop("disabled",t),a()(this)[t?"addClass":"removeClass"]("js-disabled"),n[t?"addClass":"removeClass"]("js-disabled")})).on("click",".js-note-expander",(function(){return a()(this).parent().hide().parent().find(".note--body--content-not-sliced").show(),a()(this).trigger("click:note_expander"),!1})),p.on("click.hide_controls controls:hide controls:hide:only",(function(e,t){if(o().indexOf([1,2],e.button)>=0)return!0;var n,i;if("string"!=typeof t&&(t=!1),"controls:hide:only"!==e.type&&p.trigger({type:"controls:hide:private",target:(n=e.target,i=_,(null!=i&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](n):n instanceof i)?e.target.get(0):e.target)},[t]),h&&(!t||"btn_menu"===t)){if(h.removeClass("button-input-pressed").parent().removeClass("button-input-wrapper-pressed"),h.attr("data-context-menu"))return;h=!1}e.stopPropagation()})).on("keydown",(function(e){27===e.keyCode&&p.trigger("controls:hide").trigger("escape:keydown")})),p.on("button:saved",".button-input",(function(e,t,n){var i,r=a()(this);n=n||APP.lang.button_saved,r.children(".button-input__saved").length||(r.trigger("button:load:stop").trigger("button:save:enable").append('<div class="button-input__saved">'.concat(n,"</div>")).addClass("button-input-saved").children(".button-input-inner").hide(),i=setTimeout((function(){clearTimeout(i),r.children(".button-input__saved").remove(),r.removeClass("button-input-saved").children(".button-input-inner").show(),r.trigger("button:save:disable"),"function"==typeof t&&t()}),1500))})).on("button:enable",".button-input",(function(){a()(this).removeClass("button-input-disabled")})).on("button:disable",".button-input",(function(){a()(this).addClass("button-input-disabled")})).on("button:save:enable",".button-input",(function(){a()(this).removeClass("button-input-disabled").addClass("button-input_blue")})).on("button:save:disable",".button-input",(function(){a()(this).removeClass("button-input_blue").addClass("button-input-disabled")})).on("button:save:error button:load:error",".button-input, .js-button-input",(function(){var e=a()(this);e.trigger("button:load:stop").addClass("animated shake"),o().delay((function(){e.removeClass("animated shake")}),300)})).on("button:save:start button:load:start",".button-input:not(.button-cancel):not(.button-input-saved)",(function(e,t){var n=a()(this),i=a()('<div class="button-input__spinner"><span class="button-input__spinner__icon spinner-icon"></span></div>');"Y"!==n.attr("data-loading")&&((n.hasClass("button-input_blue")&&!n.hasClass("button-input-disabled")||"white"===t)&&i.children(".spinner-icon").addClass("spinner-icon-white"),n.addClass("button-input-loading").attr("data-loading","Y").append(i).children(".button-input-inner").hide())})).on("button:load:stop button:save:stop",".button-input:not(.button-cancel):not(.button-input-saved)",(function(){var e=a()(this);e.removeClass("button-input-loading").removeAttr("data-loading").children(".button-input__spinner").remove(),e.children(".button-input-inner").show()})),p.on("click","[data-context-menu]",(function(e){e.stopPropagation()})).on("click button:menu:toggle",".button-input-with-menu",(function(e,t){var n=a()(this),i=n.attr("data-context-menu"),r=i?a()(n.attr("data-context-menu")):n.parent().find(".button-input__context-menu"),s=!!n.attr("data-context-container")&&a()(n.attr("data-context-container"));t=t||{},(o().isUndefined(t.visible)?n.hasClass("button-input-pressed"):t.visible)?(n.removeClass("button-input-pressed").parent().removeClass("button-input-wrapper-pressed"),i&&r.hide(),h=!1):(t.no_trigger||p.trigger("keyboard:hide").trigger({type:"controls:hide",target:this}),i&&(s&&(s.append(r),n.removeAttr("data-context-container")),r.show()),n.addClass("button-input-pressed").parent().addClass("button-input-wrapper-pressed"),h=n);var l=new(u())(".js-context-menu-copy");l.on("success",o().bind((function(e){var t=a()(e.trigger),n=t.find(".button-input__context-menu__item__text"),i=n.text();n.hasClass("button-input__context-menu__item__text-copied")||(n.text(t.data("copied")),n.addClass("button-input__context-menu__item__text-copied"),setTimeout((function(){n.text(i),n.removeClass("button-input__context-menu__item__text-copied"),a()(document).trigger("controls:hide"),l.destroy()}),1e3))}),this)),r.visible(!n.attr("data-part-visible"))||r.addClass("button-open-left-side"),e.stopPropagation()})).on("context-menu:checkable:toggle",".button-input__context-menu__item-checkable",(function(e){var t=a()(e.currentTarget);t.is("[data-checkable-checked]")?t.removeAttr("data-checkable-checked"):t.attr("data-checkable-checked","")})).on("click",".button-input__context-menu__item",(function(e){a()(this).hasClass("js-context-menu-copy")?e.stopPropagation():p.trigger({type:"controls:hide",target:this},["btn_menu"])})),p.on("controls:change","#task_edit_type",(function(){var e=a()(this);"custom"===e.val()&&(e.closest(".task-types-holder").addClass("task-types-holder-custom-active").find(".task-types-holder__custom__input").focus(),e.val(0).trigger("controls:change"))})).on("click",".task-types-holder__custom__cancel",(function(){a()(this).closest(".task-types-holder").removeClass("task-types-holder-custom-active").find(".task-types-holder__custom__input").val("")})),p.on("click",".button-input-disabled",(function(){return!1})),p.on(APP.transition_event,".js-animation-remove",(function(e){a()(e.target).hasClass("js-animation-remove")&&this.parentNode.removeChild(this)})).on("click",".js-list-print",(function(){window.print()})).on("click",".js-more-widgets",(function(e){var t=a()(this).attr("data-widget");e.preventDefault(),new d.default({class_name:"modal-list more_widget_modal",init:l()._preload(["/tmpl/settings/widgets/more_widget_modal.twig"],(function(e){e.trigger("modal:loaded").html(l()({ref:"/tmpl/settings/widgets/more_widget_modal.twig"}).render({has_add_rights:APP.constant("user_rights")&&APP.constant("user_rights").is_admin,widget:t})).trigger("modal:centrify")}))})})).on("click",".js-list-caption-link",(function(){a()(this).parent().find(".js-list-caption-link").removeClass("content__top__preset__caption__list__item-active"),a()(this).addClass("content__top__preset__caption__list__item-active")})).on("click",".switcher:not(.js-disabled):not(.js-react-control)",(function(){a()(this).toggleClass("switcher__on switcher__off")})).on("change",".switcher__checkbox:not(.js-disabled):not(.js-react-control)",(function(){a()(this).closest(".switcher_wrapper").find("label").toggleClass("switcher__on",this.checked).toggleClass("switcher__off",!this.checked)})).on("click",".control-toggler__item:not(.control-toggler__item-selected)",(function(){var e=a()(this);e.closest(".control-toggler").find(".control-toggler__item-selected").removeClass("control-toggler__item-selected"),e.addClass("control-toggler__item-selected")})).on("animate:callback",".js-animate",(function(e,t){Modernizr.csstransitions?(a()(this).offset(),a()(this).data("js-animate-callback",t).one(APP.transition_event,(function(e){var t=a()(this).data("js-animate-callback");a()(this).data("js-animate-callback",!1),this===e.target&&"function"==typeof t&&t.call(this),e.stopPropagation()}))):"function"==typeof t&&t.call(this)}));const f=a();var g="../build/transpiled/interface/controls";window.define(g,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([g])},55310:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(210734);const a=i.default.extend({controlClassName:"js-control-autosized_input",initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.default.prototype.initialize.apply(this,t),this.$el.autosizeInput({comfortZone:this.$el.data("comfort-zone")})},destroy:function(){this.$el.trigger("autosize.destroy")}});var r="../build/transpiled/interface/controls/autosized_input";window.define(r,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([r])},282140:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var i=n(629133),a=n.n(i),r=n(445368),o=n(577486);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},l(e,t,n||e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,n,i,_=d(h);function h(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),_.apply(this,arguments)}return t=h,n=[{key:"_classes",value:function(){return{input:"js-control-pretty-price",raw:"js-control-raw-price",autosized:"control-price_autosized"}}},{key:"events",value:function(){return{"keydown .js-control-pretty-price":"_fixCursorPosOnKeydown","input .js-control-pretty-price":"_formatOnInput","controls:change .js-control-raw-price":"_onRawChangedOutside"}}},{key:"initialize",value:function(){var e;l(c(h.prototype),"initialize",this).call(this,arguments),this._ignore_next_cursor_setting=!0,this._currency=this.$el.attr("data-currency"),this._allow_zero=!a().isUndefined(this._elem("input").attr("data-allow-zero")),e=this._getSymbolOffset(),"y"===this._elem("input").data("autosized")&&this._elem("input").autosizeInput(e.has_space?{}:{comfortZone:0}).trigger("autosize:important"),this._addClass("autosized"),e.symbol_first&&e.has_space&&this._elem("input").css("margin-left",5)}},{key:"destroy",value:function(){this._elem("input").off(),l(c(h.prototype),"destroy",this).apply(this,arguments)}},{key:"_onRawChangedOutside",value:function(){var e=this._elem("raw").val();this._elem("input").val(e),this._formatOnInput({allow_fraction:e%1!=0,allow_negative:!0})}},{key:"_fixCursorPosOnKeydown",value:function(e){var t=this._elem("input").get(0),n=t.value||"";this._end_pos=n.length-t.selectionEnd,this._onKeyDown(e)}},{key:"_onKeyDown",value:function(e){var t=this._elem("input").get(0),n=t.value||"",i=t.selectionStart;if(this._ignore_next_cursor_setting=!1," "===n[i-1]&&8===e.keyCode)return t.value=n.slice(0,i-2)+n.slice(i-1),this._elem("input").trigger("input"),!1}},{key:"_formatOnInput",value:function(e){var t=a().propertyOf(e),n=this._elem("input").val(),i=new o.UnsafeRegExp("[^0-9"+(t("allow_fraction")?".":"")+(t("allow_negative")?"-":"")+"]+","g"),s=n.replace(i,""),l=(0,r.currency)(s,!0,t("allow_fraction")?2:0,this._currency).trim();s.length&&(this._allow_zero||0!==parseInt(l))||(l=""),this._elem("raw").val(s).trigger("change"),this._elem("input").val(l).trigger("autosize:important"),this._setCursorPos()}},{key:"_getSymbolOffset",value:function(){var e=a().propertyOf(APP.constant("currencies_used"))([this._currency,"currency_pattern"])||APP.system.locale.currency_pattern;return{has_space:e.indexOf(" ")>-1,symbol_first:0===e.indexOf("%s")}}}],i=[{key:"controlClassName",get:function(){return"control-price"}}],n&&s(t.prototype,n),i&&s(t,i),h}(n(930184).default);_.extend(_);const h=_;var p="../build/transpiled/interface/controls/budget/budget";window.define(p,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([p])},129976:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n(629133),a=n.n(i),r=n(974839),o=n.n(r),s=n(727406),l=n(834834),c=n(445368),u=n(926168),d=n(210734),_=n(661533);function h(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){h(r,i,a,o,s,"next",e)}function s(e){h(r,i,a,o,s,"throw",e)}o(void 0)}))}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}var m="control-chained-list__suggest",v=(0,s.wrapCacheCollection)(o().Collection.extend({itemRel:"elements",url:function(e){return"/ajax/v4/catalogs/".concat(e,"/elements")},getCacheId:function(e){var t=e.url,n=e.data;return JSON.stringify({url:t,data:n})}}));const y=d.default.extend({controlClassName:"js-control-chained-list",_classes:function(){return{suggest:m,suggest_empty:"".concat(m,"_empty"),suggest_input:"control--suggest--input",suggest_item:"control--suggest--list--item",suggest_list:"js-control--suggest--list",chain_value:"js-control-changed-list-chain-value"}},_selectors:function(){return{suggest_by_id:".".concat(m,'[data-catalog-id="%s"]'),chain_value_by_id:'.js-control-changed-list-chain-value[data-catalog-id="%s"]'}},events:function(){var e;return f(e={},"controls:change ".concat(this._selector("chain_value")),"onInputChangeOutside"),f(e,"focus ".concat(this._selector("suggest_input")),"onSuggestFocused"),f(e,"input ".concat(this._selector("suggest_input")),"onSuggestInputLoadDebounced"),f(e,"change ".concat(this._selector("suggest_input")),"onSuggestBlur"),f(e,"click ".concat(this._selector("suggest_item")),"onSuggestItemClick"),f(e,"suggest:loaded ".concat(this._selector("suggest_input")),"onSuggestLoaded"),f(e,"suggest:changed ".concat(this._selector("suggest_input")),"onSuggestChanged"),f(e,"chained-list:get-element-name ".concat(this._selector("chain_value")),"proxyElementNameToDataAttrs"),e},document_events:function(){return{"page:changed":"onPageChangedClearCollectionCache"}},initialize:function(){var e=this;d.default.prototype.initialize.apply(this,arguments);var t=this.$("script");this._suggests_inited={},this._cache={},this._elements_collection=new v,this._settings=JSON.parse(t.html()),this.onSuggestInputLoadDebounced=a().debounce(this.onSuggestInputLoad,700),this._values=a().reduce(this._settings,(function(t,n){var i=e._elem("suggest_by_id",n.catalog_id),a=e._elem("chain_value_by_id",n.catalog_id),r=parseInt(a.val());return r&&(t[n.catalog_id]={id:r,text:i.find(e._selector("suggest_input")).val()}),t}),{}),_(document.activeElement).hasClass(this._class("suggest_input"))&&_.contains(this.el,document.activeElement)&&this.onSuggestFocused({currentTarget:document.activeElement})},onPageChangedClearCollectionCache:function(){this._elements_collection.clearCache({namespace_full:!0})},onInputChangeOutside:function(e){var t=_(e.currentTarget),n=parseInt(t.attr("data-catalog-id")),i=parseInt(t.val());this._values[n]={},i?this.syncInputValueText(n,i):(this._elem("suggest_by_id",n).find(this._selector("suggest_input")).val(""),this.toggleSuggest(n,!0),this.setChainValue(n,""))},onSuggestFocused:function(e){var t=_(e.currentTarget),n=parseInt(t.attr("data-catalog-id"));if(!this._suggests_inited[n]){var i=a().findWhere(this._settings,{catalog_id:n});this.loadSuggestData({catalog_id:n,field_id:i.field_id,parent_element_id:parseInt(t.closest(this._selector("suggest")).attr("data-parent-element-id"))}),this._suggests_inited[n]=!0}},onSuggestInputLoad:function(e){var t=this,n=_(e.currentTarget),i=parseInt(n.attr("data-catalog-id")),r=n.val().trim(),o=parseInt(n.parent().attr("data-parent-element-id")),s=parseInt(n.parent().attr("data-parent-catalog-id")),l={},c=a().findWhere(this._settings,{parent_catalog_id:s});if(o&&c&&(l.custom_fields=f({},"".concat(c.field_id),o)),r.length>2){var u=this.makeCatalogElementsRequest({catalog_id:i,term:r,filter:l});u&&(n.trigger("suggest:loader"),u.then((function(e){t.resetItems(e),n.trigger("focus")}),(function(e){return t.resetItems(e)})))}},onSuggestLoaded:function(e,t){_(e.currentTarget).closest(this._selector("suggest")).find(this._selector("suggest_list")).trigger("suggest:reset",[a().map(t.result,(function(e){return{id:e.id,text:e.name}}))])},onSuggestItemClick:function(e){this._$document.trigger({type:"controls:hide",target:this.el}),e.stopPropagation(),_(e.currentTarget).trigger("suggest:item:click")},onSuggestChanged:function(e,t){var n=this,i=_(e.currentTarget),r=parseInt(t.data("value-id")),o=parseInt(i.attr("data-catalog-id"));r>0&&o>0&&(this.setChainValue(o,r),setTimeout((function(){var e=a().findWhere(n._settings,{parent_catalog_id:o});e&&i.is(":focus")&&!APP.is_touch_device&&n._elem("suggest_by_id",e.catalog_id).find(n._selector("suggest_input")).focus()})))},onSuggestBlur:function(e){var t=_(e.currentTarget),n=parseInt(t.attr("data-catalog-id"));t.val()!==a().propertyOf(this._values)([n,"text"])&&(t.val(""),this.toggleSuggest(n,!0),this.setChainValue(n,""))},makeCatalogElementsRequest:function(e){var t=this,n=e.catalog_id,i=e.term,r=e.filter,o=_.Deferred();return this._cache["".concat(n).concat(i)]?o.resolve(this._cache["".concat(n).concat(i)]):l.default.searchElements(n,i,r).then((function(e){var r=a().map(e,(function(e){var t=(0,c.catalogElementName)(e.name,e.id,e.catalog_id);return{id:e.id,element_type:APP.element_types.catalog_elements,catalog_id:n,name:t}}));t._cache["".concat(n).concat(i)]=r,o.resolve(r)}),o.reject),o.promise()},resetItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this._findElem("suggest_list"),n=a().map(e,(function(e){return{id:e.id,additional_data:['data-name="'.concat(a().escape(e.name),'"'),'data-entity-id="'.concat(e.id,'"'),'data-entity-type="'.concat((0,u.convertElementType)(e.element_type,"string"),'"'),'data-catalog-id="'.concat(e.catalog_id,'"')].join(" "),text:e.name}}));t.trigger("suggest:reset",[n,""])},toggleSuggest:function(e,t){var n=this._elem("suggest_by_id",e);n.toggleClass("hidden",!t),t&&(n.find(this._selector("suggest_input")).val()?n.removeClass(this._class("suggest_empty")):(this._elem("suggest").removeClass(this._class("suggest_empty")),n.addClass(this._class("suggest_empty"))))},setChainValue:function(e,t){var n=a().findWhere(this._settings,{parent_catalog_id:e});if(this._elem("chain_value_by_id",e).val(t).trigger("change"),this._values[e]={id:t,text:this._elem("suggest_by_id",e).find(this._selector("suggest_input")).val()},n){var i=this._elem("suggest_by_id",n.catalog_id),r=i.find(this._selector("suggest_input"));t&&!r.val()?this.toggleSuggest(n.catalog_id,!0):t&&i.attr("data-parent-element-id")===String(t)||(r.val(""),this.toggleSuggest(n.catalog_id,String(t||"").length>0),this.setChainValue(n.catalog_id,"")),t&&this.loadSuggestData({catalog_id:n.catalog_id,field_id:n.field_id,parent_element_id:t})}},loadSuggestData:function(e){var t=e.catalog_id,n=e.field_id,i=e.parent_element_id;return p((function(){var e,a,r,o,s;return g(this,(function(l){switch(l.label){case 0:return e=this._elem("suggest_by_id",t),a=e.find(this._selector("suggest_input")),(r=e.find(this._selector("suggest_list"))).length?(a.attr("placeholder",a.attr("data-placeholder")),e.attr("data-parent-element-id",i),r.trigger("suggest:reset",[[]]),e.find(this._selector("suggest_input")).trigger("suggest:loader",[!0]),o={},n&&(o.custom_fields=f({},"".concat(n),parseInt(i))),[4,this._elements_collection.fetch({url:this._elements_collection.url(t),data:{limit:500,filter:o}})]):[2];case 1:return l.sent(),s=[],this._elements_collection.length?s=this._elements_collection.map((function(e){return{id:e.get("id"),text:e.get("name")}})):a.attr("placeholder","".concat(a.attr("data-placeholder"),": ").concat((0,c.i18n)("All").toLowerCase())),r.trigger("suggest:reset",[s,'<li data-value-id="<%= data.id %>" class="control--suggest--list--item <%= data.custom_class %>" <%= data.additional_data %>><span class="control--suggest--list--item-inner" title="<%= _.escape(data.title) %>"><%= data.text %></span></li>']),a.trigger("suggest:loader",[!1]),[2]}}))})).apply(this)},syncInputValueText:function(e,t){return p((function(){var n,i;return g(this,(function(r){switch(r.label){case 0:return[4,l.default.getElementsByIds(e,[t])];case 1:return(n=r.sent()).length&&(i=a().findWhere(this._settings,{parent_catalog_id:e}),this._elem("suggest_by_id",e).find(this._selector("suggest_input")).val(a().propertyOf(n)([0,"name"])),this.toggleSuggest(e,!0),i&&(this.toggleSuggest(i.catalog_id,!0),this._elem("suggest_by_id",i.catalog_id).attr("data-parent-element-id",a().propertyOf(n)([0,"id"])))),[2]}}))})).apply(this)},proxyElementNameToDataAttrs:function(e){var t=_(e.currentTarget),n=t.next(this._selector("suggest"));t.data("element-name",n.find(this._selector("suggest_input")).val())}});var b="../build/transpiled/interface/controls/chained_list";window.define(b,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([b])},430647:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n(629133),a=n.n(i),r=n(460159),o=n.n(r),s=n(447366);const l=s.default.extend({controlClassName:"js-control-checkboxes_dropdown-huge",_selectors:function(){return a().extend({inner:".checkboxes_dropdown__list__wrapper__inner"},s.default.prototype._selectors())},initialize:function(){this.is_rendered_on_client=!1,this.$fake_script=this.$el.find("script");try{this.checkboxes_dropdown_data=JSON.parse(this.$fake_script.html())}catch(e){}s.default.prototype.initialize.apply(this,arguments)},_updateMasterCheckboxesOnInit:function(){if(this.is_rendered_on_client)s.default.prototype._updateMasterMinus.apply(this);else{var e=this.checkboxes_dropdown_data.items,t=a().filter(e,(function(e){return e.is_checked}));s.default.prototype._updateMasterMinus.apply(this,[t,e])}},_getCheckboxesChecked:function(){if(!this.is_rendered_on_client){var e=a().filter(this.checkboxes_dropdown_data.items,(function(e){return e.is_checked}));return a().map(e,(function(e){return a().escape(e.option)}))}return s.default.prototype._getCheckboxesChecked.apply(this,arguments)},setTitle:function(){if(!this.is_rendered_on_client){var e=this.checkboxes_dropdown_data.items,t=a().filter(e,(function(e){return e.is_checked}));return s.default.prototype._updateMasterMinus.apply(this,[t,e]),void s.default.prototype._setTitle.apply(this,[t,e])}s.default.prototype.setTitle.apply(this,arguments)},onClickTitle:function(){this.is_rendered_on_client||(this.$el.find(this._selector("inner")).replaceWith(o()({ref:"/tmpl/controls/checkboxes_dropdown/inner.twig"}).render(this.checkboxes_dropdown_data)),this._dropElemCache("checkboxes_list"),this._dropElemCache("master_checkbox"),this.$fake_script.remove(),this.is_rendered_on_client=!0),s.default.prototype.onClickTitle.apply(this,arguments)},getItemsForFormModel:function(){return a().reduce(this.checkboxes_dropdown_data.items,(function(e,t){return e[t.name]=t.is_checked?String(t.id):"",e}),{})}});var c="../build/transpiled/interface/controls/checkboxes_dropdown/checkboxes_dropdown_huge";window.define(c,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([c])},333720:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(445368),a=n(447366);n(368439);const r=a.default.extend({controlClassName:"js-control-checkboxes_dropdown_values",_setTitle:function(e,t){var n=this._elem("title").attr("data-title-empty"),a=this._elem("title").attr("data-numeral");e.length&&e.length!==t.length?this._updateTitle("".concat(e.length," ").concat((0,i.numeralWord)(e.length,this._elem("title").attr("data-numeral")))):!e.length&&n?this._updateTitle(n):this._updateTitle("".concat((0,i.i18n)("all")," ").concat((0,i.numeralWord)("all",a)||""))},_updateTitle:function(e){var t=this._elem("title").attr("data-title-before")||"",n=e?'data-title-before="'.concat(t,'"'):"";this._elem("title").html('<div class="checkboxes_dropdown__title-item" '.concat(n,">").concat(e,"</div>"))}});var o="../build/transpiled/interface/controls/checkboxes_dropdown/values_title";window.define(o,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([o])},23032:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n(629133),a=n.n(i),r=n(460159),o=n.n(r),s=n(445368),l=n(210734),c=n(555989),u=n(661533);const d=l.default.extend({controlClassName:"js-control-checkboxes-search",events:{"click :not(.js-filter-field-clear)":"open","change input:checkbox":"updateMainInput"},template_input:"/tmpl/controls/checkboxes_search/input.twig",is_first_load:!0,_selectors:function(){return{list:".checkboxes-search__opening-list",cb_inputs:".checkboxes-search__opening-list input:checkbox",cb_ch_inputs:".checkboxes-search__opening-list input:checked",title_wrapper:".checkboxes-search__title-wrapper"}},_getOpenWindowComponent:function(){return c.default},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.default.prototype.initialize.apply(this,t),this.name=this.$el.data("name"),this.title=this.$el.attr("title"),this.$list=this._findElem("list"),this.open_window=this._addComponent(this._getOpenWindowComponent(),{el:this.$list,name:this.name,parrentClose:a().bind(this._toggleBodyOverlay,this,!1),callbackHide:a().bind(this.updateMainInput,this)})},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.$list.off(),this._destroyComponent(this.open_window),l.default.prototype.destroy.apply(this,t)},updateMainInput:function(){this._updateMainInput||(this._updateMainInput=a().throttle(a().bind((function(){var e=this._findElem("cb_inputs"),t=this._findElem("cb_ch_inputs"),n=t.length,i=[];n>0&&(!this._isEmptyEqualsFilled()||n!==e.length)&&a().find(t,(function(e,t){return 4===t?i.push((0,s.i18n)("N more").replace("%s",n-4)):i.push(u(e).data("value")),4===t})),this.renderInput({items:i})}),this),400)),a().isFunction(this._updateMainInput)&&this._updateMainInput()},renderInput:function(e){e=a().extend({items:[],title:this.title},e||{}),o()._preload([this.template_input])().then(a().bind((function(){this._findElem("title_wrapper").replaceWith(o()({ref:this.template_input}).render(e))}),this))},open:function(e){var t,n;e.stopPropagation(),this._$document.trigger({type:"controls:hide",target:e.target}),this.$list.removeClass("hidden").find("input:checkbox"),this._isEmptyEqualsFilled()&&0===this._findElem("cb_ch_inputs").length&&this._findElem("cb_inputs").prop("checked",this._isCheckedElement()),this._toggleBodyOverlay(this.$list,a().bind(this.open_window.hide,this.open_window));var i=this.$el.offset(),r=this._getPositionOffset();this.$list.css({width:this.$el.width(),left:i.left-r.left,top:i.top-r.top}),this.$list.data("view-upper")&&(t=window.innerHeight+u(document).scrollTop())<(n=this.$list.offset().top+this.$list.innerHeight())&&this.$list.css("top",i.top-r.top+-1*(n-t+20))},_isEmptyEqualsFilled:function(){return!0},_isCheckedElement:function(){return!0},_getPositionOffset:function(){return{top:36,left:16}}});var _="../build/transpiled/interface/controls/checkboxes_search/index";window.define(_,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([_])},962683:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(210734),a=n(661533);const r=i.default.extend({controlClassName:"js-control-checkboxes_string",_classes:function(){return{checked:"checkboxes_string__item_checked",choose_border:"checkboxes_string__choose_border"}},_selectors:function(){return{item_container:".checkboxes_string__item_container",choose:".checkboxes_string__choose",choose_border:".checkboxes_string__choose_border"}},events:{"click .checkboxes_string__item_container":"toggleCheckbox"},initialize:function(){i.default.prototype.initialize.apply(this,arguments),this.render()},toggleCheckbox:function(e){var t=a(e.currentTarget),n=t.closest(this._selector("choose"));e.target.checked?(t.removeClass(this._class("checked")),n.addClass(this._class("choose_border"))):(t.addClass(this._class("checked")),n.removeClass(this._class("choose_border")))}});var o="../build/transpiled/interface/controls/checkboxes_string";window.define(o,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([o])},521238:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var i=n(661533),a=n.n(i),r=n(629133),o=n.n(r),s=n(460159),l=n.n(s),c=n(267651),u=n.n(c),d=n(344103),_=n(214558),h=n(445368),p=n(168807),f=n(500034),g=n(577486),m=n(210734),v=n(954883),y=n(487770),b=n(147562),w=n(353256);const C=m.default.extend({controlClassName:"js-control-contenteditable",suggestions:[],_suggestions_exists:!1,_selectors:function(){return{editable:"[contenteditable]"}},_classes:function(){return{input:"js-control-contenteditable-input",clearer:"js-control-contenteditable-clearer",interactive_placeholder:"js-control-contenteditable-interactive-placeholder",suggested:"control-contenteditable_suggested",suggestions:"js-control-contenteditable-suggestions",suggest_item:"js-suggestion-item",suggestion_item_disabled:"control-contenteditable__suggestions-item_disabled",suggestions_at_top:"control-contenteditable__suggestions_at-top",suggestions_style:"control-contenteditable__suggestions",suggestions_item:"js-control-contenteditable-suggestions-item",suggestions_item_hovered:"tips-item_hovered",suggestions_hint:"control-contenteditable__suggestions-hint"}},events:function(){var e={click:"_onContainerClick"};return e["click ".concat(this._selector("editable"))]="focusContentEditableOnMobile",e["focus ".concat(this._selector("editable"))]="focusContentEditable",e["input ".concat(this._selector("editable"))]="onInput",e["paste ".concat(this._selector("editable"))]="onPasteContent",e["keydown ".concat(this._selector("editable"))]="onKeyDown",e["indent:check ".concat(this._selector("editable"))]="_checkMessageIndent",e["contenteditable:focus-if-unfocused ".concat(this._selector("editable"))]="_focusIfUnfocused",e["contenteditable:show-validation-error ".concat(this._selector("editable"))]="_showValidationError",e["focus ".concat(this._selector("editable"),".validate-has-error")]="_hideValidationError",e["controls:disable ".concat(this._selector("editable"))]="onEditableDisable",e["suggestions:open ".concat(this._selector("editable"))]="_openSuggestList",e["suggestions:set ".concat(this._selector("editable"))]="onSetSuggestions",e["cache-suggestions:set ".concat(this._selector("editable"))]="onSetСacheSuggestions",e["contenteditable:preset-text:insert"]="onPresetTextInsert",e},document_events:function(){var e={"controls:hide:private":"_handleControlClicks","click .js-suggestions-favorites":"toggleFavoriteState"};return e["click ".concat(this._selector("suggestions_item"))]="onSuggestionClick",e},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];m.default.prototype.initialize.apply(this,t),this.wrapper_class_name="",this.templateCacheData=[],this.salesbotCacheData=[],this._elem("editable").length||this.destroy(!1),this._elem("editable").is(":focus")&&this._checkMessageIndent()},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._removeSuggestionsList(),m.default.prototype.destroy.apply(this,t)},_focusIfUnfocused:function(){var e=window.getSelection(),t=this._findElem("editable").get(0);t.contains(e.anchorNode)&&e.anchorNode!==t||(this.focusContentEditable(),this._putCursorToEnd())},_showValidationError:function(){this._elem("editable").addClass("validate-has-error")},_hideValidationError:function(){this._elem("editable").removeClass("validate-has-error")},_onContainerClick:function(e){e.target.classList.contains("js-control-contenteditable")&&this._focusIfUnfocused()},focusContentEditableOnMobile:function(e){APP.is_touch_device&&a()(e.currentTarget).focus()},focusContentEditable:function(){this._findElem("editable").get(0)&&this._checkMessageIndent()},getTipData:function(e){return{text:e.text,value:e.value||e.text,favorite:e.favorite||e.favorite_for_users&&o().contains(e.favorite_for_users,(0,_.current)("id")),suggestion_type:e.suggestion_type,id:e.id,class_name:e.sticky_header&&"add_voice_message"!==e.value?this._class("suggestion_item_disabled"):[e.class_name,this._class("suggestions_item")].join(" "),sticky_header:e.sticky_header,svg_icon:e.svg_icon,without_favorite:e.without_favorite}},onInput:function(){var e=this._getValue(!1).replace(/[\r\n]+$/,"");this._checkMessageIndent(),((0,f.isFeatureAvailable)("airewriter")||(0,f.isFeatureAvailable)("kommo_ai_trial_started")&&!(0,f.isFeatureAvailable)("kommo_ai_trial_ended"))&&!e.startsWith("/")&&u().publish(w.FEED_COMPOSE_INPUT_CHANGE,e),e?this._openSuggestList({},{value:e}):(this._elem("editable").html(""),this._checkMessageIndent(),this._removeSuggestionsList())},getCurrentFavorites:function(){return o().filter(this._suggestions,(function(e){return e.favorite||e.favorite_for_users&&o().contains(e.favorite_for_users,(0,_.current)("id"))}))},toggleFavoriteState:function(e){var t=a()(e.currentTarget).parent().data("id"),n=a()(e.currentTarget).parent().data("suggestion-type"),i=e.currentTarget.classList.contains("tips-item__favorites-icon--checked");if(e.stopPropagation(),t&&n){var r=o().find(this._suggestions,(function(e){return e.id===t&&e.suggestion_type===n}));r&&(i?this.removeFromFavorites(r):this.setFavorite(r),this._removeSuggestionsList(),this._openSuggestList({},this.suggest_options))}},updateFavoriteSalesbot:function(e){var t=e.selectedSuggestion,n=e.isFavorite,i=p.storeWithExpiration.get(y.default.SALESBOT_CACHE_CODE),a=i||this.salesbotCacheData,r=o().map(a,(function(e){return e.id===t.id&&(e.favorite=n),e}))||[];if(i){var s=p.storeWithExpiration.get_created_at(y.default.SALESBOT_CACHE_LIFETIME),l=s?y.default.SALESBOT_CACHE_LIFETIME-(new Date).getTime()+s:y.default.SALESBOT_CACHE_LIFETIME;p.storeWithExpiration.set(y.default.SALESBOT_CACHE_CODE,r,l)}},updateFavoriteTemplate:function(e){var t=e.selectedSuggestion,n=e.isFavorite,i=p.storeWithExpiration.get(v.default.templates_cache_code),a=i||this.templateCacheData,r=o().find(a,(function(e){return e.id===t.id}))||{};if(r.favorite_for_users&&(r.favorite_for_users=n?o().union(r.favorite_for_users,[(0,_.current)("id")]):o().without(r.favorite_for_users,(0,_.current)("id"))),i){var s=p.storeWithExpiration.get_created_at(v.default.templates_cache_code),l=s?v.default.templates_cache_lifetime-(new Date).getTime()+s:v.default.templates_cache_lifetime;p.storeWithExpiration.set(v.default.templates_cache_code,a,l)}},setFavorite:function(e){o().each(this._suggestions,(function(t){t.id===e.id&&t.suggestion_type===e.suggestion_type&&(o().isUndefined(t.favorite)||(t.favorite=!0),o().isUndefined(t.favorite_for_users)||(t.favorite_for_users=o().union(t.favorite_for_users,[(0,_.current)("id")])))})),1===e.suggestion_type?(d.default.addBotToFavorites(e.id),this.updateFavoriteSalesbot({selectedSuggestion:e,isFavorite:!0})):2===e.suggestion_type&&(d.default.addTemplateToFavorites(e.id),this.updateFavoriteTemplate({selectedSuggestion:e,isFavorite:!0}))},removeFromFavorites:function(e){o().each(this._suggestions,(function(t){t.id===e.id&&t.suggestion_type===e.suggestion_type&&(o().isUndefined(t.favorite)||(t.favorite=!1),o().isUndefined(t.favorite_for_users)||(t.favorite_for_users=o().without(t.favorite_for_users,(0,_.current)("id"))))})),1===e.suggestion_type?(d.default.removeBotFromFavorites(e.id),this.updateFavoriteSalesbot({selectedSuggestion:e,isFavorite:!1})):2===e.suggestion_type&&(d.default.removeTemplateFromFavorites(e.id),this.updateFavoriteTemplate({selectedSuggestion:e,isFavorite:!1}))},extendWithFavorites:function(e){var t,n=this.getCurrentFavorites(),i=[];return o().each(n,(function(n){(t=o().find(e,(function(e){return e.id===n.id&&e.suggestion_type===n.suggestion_type&&e.text===n.text})))&&i.push(o().extend({},t,{favorite:!0}))})),i.length&&(e=[{class_name:"control-contenteditable__suggestions-item_disabled",sticky_header:!0,text:(0,h.i18n)("Starred"),value:"Favorites"}].concat(i,e)),e},_sortFavorites:function(e,t){return e.favorite&&!t.favorite?-1:!e.favorite&&t.favorite?1:0},_openSuggestList:function(e,t){var n,i,r,s,c,u=t.value,d=a()("#contenteditable_suggestions"),_="",h=0,p=0;if(this.suggest_options=t,this._findElem("suggestions_hint").remove(),(n=o().chain(this._suggestions||[]).filter((function(e){return 0===(e.text||"").toLowerCase().indexOf(u.toLowerCase())}),this).sort(this._sortFavorites).groupBy("suggestion_type").reduce((function(e,t){var n=t[0].header_title,i=t[0].without_favorite;return n&&e.push({text:n,value:n,sticky_header:!0,without_favorite:i}),e.concat(t)}),[],this).map((function(e){return this.getTipData(e)}),this).value()).length){this.sticky_headers&&this.sticky_headers.destroy(),n=this.extendWithFavorites(n),(i=o().find(this._suggestions,(function(e){return"add_voice_message"===e.value})))&&t.nohint&&(n=o().union([this.getTipData(i)],n));var f=n.slice(0,500);_=l()({ref:"/tmpl/common/sticky_headers_tip.twig"}).render({id:"contenteditable_suggestions",class_name:[this._class("suggestions"),this._class("suggestions_style"),this.wrapper_class_name].join(" "),items:f,favorites_available:!0,is_custom_tip_holder:!0}),d.length?(d.replaceWith(_),d=a()("#contenteditable_suggestions")):(d=a()(_),this._$body.append(d)),t.nohint||this.$el.append('<span class="'.concat(this._class("suggestions_hint"),'" style="left: ').concat(this._findElem("clearer").width()+5,'px"></span>')),r=this._findElem("clearer"),(s=this._findElem("editable")).hasClass("feed-compose__message-attach")?(c=a()(this).find("feed-amojo__attaches"),h=s.offset().top+c.height()+18,p=s.offset().left+5):(h=r.offset().top+r.height(),p=r.offset().left+r.width()+5),d.css({left:o().isUndefined(t.left)?p:t.left,top:o().isUndefined(t.top)?h:t.top}).trigger("tip:show"),d.hasClass("tips-at-top")&&d.removeClass("tips-at-top").addClass(this._class("suggestions_at_top")),t.nohint||this.$el.addClass(this._class("suggested")),this._suggestionSetIndex(1),this.sticky_headers=this._addComponent(b.default,{el:this._$body.find(".control-contenteditable__suggestions_template").find(".js-tip-items"),selector:".control-contenteditable__suggestions-item_disabled",exclude_scrollbar:!1,max_sticky_count:4}),this.sticky_headers.refresh()}else this._removeSuggestionsList()},onPasteContent:function(e){e.preventDefault();var t=(e.originalEvent||e).clipboardData,n=null==t?void 0:t.getData("text/plain");n&&document.execCommand("insertText",!1,this._normalizeLineEndings(n))},onSetSuggestions:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.wrapper_class_name=n,this._elem("editable").is(":focus")&&this._checkMessageIndent(),this._setSuggestions(t),!0===i&&this._openSuggestList({},this.suggest_options)},onSetСacheSuggestions:function(e,t,n){this.templateCacheData=t,this.salesbotCacheData=n},onSuggestionClick:function(e){this._suggestionChoose({value:e.currentTarget.getAttribute("data-value"),type:e.currentTarget.getAttribute("data-suggestion-type"),id:e.currentTarget.getAttribute("data-id")})},onEditableDisable:function(e,t){t=!o().isBoolean(t)||t,this._elem("editable").attr("contenteditable",!t)},onKeyDown:function(e){var t;if(this._suggestions_exists)switch(e.keyCode){case 40:e.preventDefault(),this._suggestionSetIndex(1);break;case 38:e.preventDefault(),this._suggestionSetIndex(-1);break;case 13:case 9:(t=a()("#contenteditable_suggestions").find(this._selector("suggestions_item_hovered"))).length&&(e.preventDefault(),this._suggestionChoose({value:t.attr("data-value"),type:t.attr("data-suggestion-type"),id:t.attr("data-id")}))}},_checkMessageIndent:function(){var e,t="",n=this._findElem("clearer"),i=this._findElem("editable"),a=i.children(),r=1===a.length&&a.hasClass(this._class("interactive_placeholder"));n.is(":empty")||(!i.is(":empty")&&!r||i.hasClass("feed-compose__message-attach")||i.hasClass("feed-compose__message-area")||i.hasClass("feed-compose__message-quotation")||(t=(e=n.width())>0?e+5:""),this._findElem("editable").css("padding-left",t),this._findElem("input").val(this._getValue()).trigger("change"))},_putCursorToEnd:function(){var e=this._findElem("editable").get(0),t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t),e.scrollTop="".concat(99999,"px"),this.el.scrollTop="".concat(99999,"px")},_getValue:function(e){var t=this._getInnerText(this._findElem("editable").get(0));return!1===e?t:t.trim()},_getInnerText:function(e){for(var t=window.getSelection(),n=[],i=0;i<t.rangeCount;i++)n[i]=t.getRangeAt(i);t.removeAllRanges(),t.selectAllChildren(e);var a=t.toString();t.removeAllRanges();for(var r=0;r<n.length;r++)t.addRange(n[r]);return a||""},_setSuggestions:function(e){this._suggestions=e},_handleControlClicks:function(e){var t=a()("#contenteditable_suggestions").get(0);t&&!a().contains(t,e.target)&&this._removeSuggestionsList()},_removeSuggestionsList:function(){this._suggestions_exists=!1,this._findElem("suggestions_hint").remove(),this.$el.removeClass(this._class("suggested")),a()("#contenteditable_suggestions").remove()},_suggestionChoose:function(e){this._setText(e.value),this._checkMessageIndent(),this._findElem("input").trigger("suggestions:chose",{value:e.value,type:e.type,id:e.id}),this._removeSuggestionsList(),this._putCursorToEnd()},onPresetTextInsert:function(e,t){this._setText(t)},_setText:function(e){var t=this._findElem("editable");t.html(t.text(e).html().split("\n").join("<br/>"))},_suggestionSetIndex:function(e){var t=a()("#contenteditable_suggestions").find(".custom-scroll"),n=t.find(this._selector("suggestions_item")),i=n.filter(o().bind((function(e,t){return t.classList.contains(this._class("suggestions_item_hovered"))}),this)),r=n.index(i)+e;switch(r){case-2:case-1:r=n.length-1;break;case n.length:r=0}a()(i).removeClass(this._class("suggestions_item_hovered")),n.eq(r).addClass(this._class("suggestions_item_hovered")),this._findElem("suggestions_hint").text(this._getSuggestionsHint(n.eq(r).text())),t.scrollTop(t.scrollTop()+n.eq(r).position().top+n.eq(r).height()-t.get(0).offsetHeight/2),this._suggestions_exists=!0},_getSuggestionsHint:function(e){var t=this._getValue(),n=new g.EscapedRegExp("(^|\\s)(${value}(.+)?)($|\\s)",{value:t},"i"),i=e.match(n);return i?[a().trim(i[0].replace(new g.EscapedRegExp("${value}",{value:t},"i"),t)),e.replace(n,"")].join(" "):""},_normalizeLineEndings:function(e){return e.replace(/\r\n?/g,"\n")}});var k="../build/transpiled/interface/controls/contenteditable";window.define(k,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([k])},369500:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n(809228),a=n.n(i),r=n(210734),o=n(661533);function s(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}const l=r.default.extend({controlClassName:"js-control-copy-btn",_classes:function(){return{copy_btn:"js-copy-btn"}},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(i=function(){return function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(e){return r.default.prototype.initialize.apply(this,t),this._addComponent(a(),this._selector("copy_btn")).on("success",(function(e){o(e.trigger).addClass("js-copied"),setTimeout((function(){o(e.trigger).removeClass("js-copied")}),800)})).on("error",(function(e){o(e.trigger).addClass("animated shake"),setTimeout((function(){o(e.trigger).removeClass("animated shake")}),200)})),[2]}))},function(){var e=this,t=arguments;return new Promise((function(n,a){var r=i.apply(e,t);function o(e){s(r,n,a,o,l,"next",e)}function l(e){s(r,n,a,o,l,"throw",e)}o(void 0)}))}).apply(this);var i}});var c="../build/transpiled/interface/controls/copy_button";window.define(c,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([c])},419982:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={"United States":"US",USA:"US",US:"US",Afghanistan:"AF","Aland Islands":"AX",Albania:"AL",Algeria:"DZ","American Samoa":"AS",Andorra:"AD",Angola:"AO",Anguilla:"AI",Antarctica:"AQ","Antigua and Barbuda":"AG",Argentina:"AR",Armenia:"AM",Aruba:"AW",Australia:"AU",Austria:"AT",Azerbaijan:"AZ",Bahamas:"BS",Bahrain:"BH",Bangladesh:"BD",Barbados:"BB",Belarus:"BY",Belgium:"BE",Belize:"BZ",Benin:"BJ",Bermuda:"BM",Bhutan:"BT",Bolivia:"BO","Bosnia and Herzegovina":"BA",Botswana:"BW","Bouvet Island":"BV",Brazil:"BR","British Antarctic Territory":"BQ","British Indian Ocean Territory":"IO","Brunei Darussalam":"BN",Bulgaria:"BG","Burkina Faso":"BF",Burundi:"BI",Cambodia:"KH",Cameroon:"CM",Canada:"CA","Canton and Enderbury Islands":"CT","Cape Verde":"CV","Cayman Islands":"KY","Central African Republic":"CF",Chad:"TD",Chile:"CL",China:"CN","Christmas Island":"CX","Cocos [Keeling] Islands":"CC",Colombia:"CO",Comoros:"KM",Congo:"CG","Congo, the Democratic Republic of the":"CD","Cook Islands":"CK","Costa Rica":"CR",Croatia:"HR",Cuba:"CU",Curacao:"CW",Cyprus:"CY","Czech Republic":"CZ","Cote d`Ivoire":"CI",Denmark:"DK",Djibouti:"DJ",Dominica:"DM","Dominican Republic":"DO","Dronning Maud Land":"NQ","East Germany":"DD",Ecuador:"EC",Egypt:"EG","El Salvador":"SV","Equatorial Guinea":"GQ",Eritrea:"ER",Estonia:"EE",Ethiopia:"ET","Falkland Islands (Malvinas)":"FK","Faroe Islands":"FO",Fiji:"FJ",Finland:"FI",France:"FR","French Guiana":"GF","French Polynesia":"PF","French Southern Territories":"TF","French Southern and Antarctic Territories":"FQ",Gabon:"GA",Gambia:"GM",Georgia:"GE",Germany:"DE",Ghana:"GH",Gibraltar:"GI",Greece:"GR",Greenland:"GL",Grenada:"GD",Guadeloupe:"GP",Guam:"GU",Guatemala:"GT",Guernsey:"GG",Guinea:"GN","Guinea-Bissau":"GW",Guyana:"GY",Haiti:"HT","Heard Island and McDonald Islands":"HM",Honduras:"HN","Hong Kong SAR China":"HK",Hungary:"HU",Iceland:"IS",India:"IN",Indonesia:"ID","Iran, Islamic Republic of":"IR",Iraq:"IQ",Ireland:"IE","Isle of Man":"IM",Israel:"IL",Italy:"IT",Jamaica:"JM",Japan:"JP",Jersey:"JE","Johnston Island":"JT",Jordan:"JO",Kazakhstan:"KZ",Kenya:"KE",Kiribati:"KI","Korea, Republic of":"KR","Korea, Democratic People`s Republic of":"KP",Kuwait:"KW",Kyrgyzstan:"KG","Lao People`s Democratic Republic":"LA",Latvia:"LV",Lebanon:"LB",Lesotho:"LS",Liberia:"LR","Libyan Arab Jamahiriya":"LY",Liechtenstein:"LI",Lithuania:"LT",Luxembourg:"LU","Macau SAR China":"MO","Macedonia, The Former Yugoslav Republic Of":"MK",Madagascar:"MG",Malawi:"MW",Malaysia:"MY",Maldives:"MV",Mali:"ML",Malta:"MT","Marshall Islands":"MH",Martinique:"MQ",Mauritania:"MR",Mauritius:"MU",Mayotte:"YT","Metropolitan France":"FX",Mexico:"MX","Micronesia, Federated States of":"FM","Midway Islands":"MI","Moldova, Republic of":"MD",Monaco:"MC",Mongolia:"MN",Montenegro:"ME",Montserrat:"MS",Morocco:"MA",Mozambique:"MZ","Myanmar [Burma]":"MM",Namibia:"NA",Nauru:"NR",Nepal:"NP",Netherlands:"NL","Netherlands Antilles":"AN","Neutral Zone":"NT","New Caledonia":"NC","New Zealand":"NZ",Nicaragua:"NI",Niger:"NE",Nigeria:"NG",Niue:"NU","Norfolk Island":"NF","North Vietnam":"VD","Northern Mariana Islands":"MP",Norway:"NO",Oman:"OM","Pacific Islands Trust Territory":"PC",Pakistan:"PK",Palau:"PW","Palestinian Territory, Occupied":"PS",Panama:"PA","Panama Canal Zone":"PZ","Papua New Guinea":"PG",Paraguay:"PY","People`s Democratic Republic of Yemen":"YD",Peru:"PE",Philippines:"PH","Pitcairn Islands":"PN",Poland:"PL",Portugal:"PT","Puerto Rico":"PR",Qatar:"QA",Romania:"RO",Russia:"RU",Rwanda:"RW",Reunion:"RE","Saint Barthelemy":"BL","Saint Helena":"SH","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Martin":"MF","Saint Pierre and Miquelon":"PM","Saint Vincent and the Grenadines":"VC",Samoa:"WS","San Marino":"SM","Saudi Arabia":"SA",Senegal:"SN",Serbia:"RS","Serbia and Montenegro":"CS",Seychelles:"SC","Sierra Leone":"SL",Singapore:"SG",Slovakia:"SK",Slovenia:"SI","Solomon Islands":"SB",Somalia:"SO","South Africa":"ZA","South Georgia and the South Sandwich Islands":"GS",Spain:"ES","Sri Lanka":"LK",Sudan:"SD",Suriname:"SR","Svalbard and Jan Mayen":"SJ",Swaziland:"SZ",Sweden:"SE",Switzerland:"CH","Syrian Arab Republic":"SY","Sao Tome and Principe":"ST",Taiwan:"TW",Tajikistan:"TJ","Tanzania, United Republic of":"TZ",Thailand:"TH","Timor-Leste":"TL",Togo:"TG",Tokelau:"TK",Tonga:"TO","Trinidad and Tobago":"TT",Tunisia:"TN",Turkey:"TR",Turkmenistan:"TM","Turks and Caicos Islands":"TC",Tuvalu:"TV","United States Minor Outlying Islands":"UM","U.S. Miscellaneous Pacific Islands":"PU",Uganda:"UG",Ukraine:"UA","Union of Soviet Socialist Republics":"SU","United Arab Emirates":"AE","United Kingdom":"GB","Unknown or Invalid Region":"ZZ",Uruguay:"UY",Uzbekistan:"UZ",Vanuatu:"VU","Holy See (Vatican City State)":"VA",Venezuela:"VE","Viet Nam":"VN","Virgin Islands, British":"VG","Virgin Islands, U.S.":"VI","Wake Island":"WK","Wallis and Futuna":"WF","Western Sahara":"EH",Yemen:"YE",Zambia:"ZM",Zimbabwe:"ZW"};var a="../build/transpiled/interface/controls/country_map";window.define(a,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([a])},872200:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var i=n(629133),a=n.n(i),r=n(460159),o=n.n(r),s=n(161320),l=n.n(s),c=n(49987),u=n(727526),d=n(403474),_=n(661533),h=!1;const p=u.default.extend({controlClassName:"js-control-date-customers",_getDefaults:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a().extend({},u.default.prototype._getDefaults.apply(this,t),{selected:this._findElem("input").val()})},_preloadMonthsTemplate:function(){return h?new Promise((function(e){e()})):(h=!0,o()._preload(["/tmpl/controls/select.twig"])())},_monthsTemplate:function(e){var t,n=o()({ref:"/tmpl/controls/select.twig"}),i=0,r=[];(e=e||this.kalendae.getSelectedRaw()[0])&&(i=e.startOf("month").diff(l()().startOf("month"),"months")),i<0?r=a().union([i],a().range(0,58)):(t=i-30>0?i-30:0,r=a().range(t,t+59)),this._findElem("months_wrapper").remove(),this._findElem("input").after(a().template('<div class="'.concat(this._class("months_wrapper"),'">').concat(n.render({class_name:"customers-date__months-select",input_special_class:"js-form-changes-skip js-customers-date-months",selected:i,items:a().map(r,(function(e){return{id:e,option:l()().add(e,"month").format("MMMM YYYY")}}))}),"</div>")))},_getKalendaeHandler:function(){return d},_classes:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a().extend({},u.default.prototype._classes.apply(this,t),{input:"js-customers-date-date-input",input_not_valid:"date_field_not-valid",months_wrapper:"customers-date__months",months_input:"js-customers-date-months"})},events:function(){var e=a().extend({},a().result(u.default.prototype,"events",{}));return e["input ".concat(this._selector("input"))]="_onDateInput",e["blur ".concat(this._selector("input"))]="reformatOnBlur",e["controls:change ".concat(this._selector("months_input"))]="_setCalendarMonthOnSelectChange",e["keyup ".concat(this._selector("input"))]="_hideCalendarOnEnterKey",e},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];u.default.prototype.initialize.apply(this,t),this.container()},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];u.default.prototype.destroy.apply(this,t),this.$container&&(this._findElem("months_wrapper").remove(),this.$container.remove())},container:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=this;return this.$container||(u.default.prototype.container.apply(this,t),i=this.kalendae.draw,this.kalendae.draw=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=i.apply(this,t);return r._addTwoWeeks(),a},this._preloadMonthsTemplate().then(a().bind((function(){var e=this._findElem("input").val();e&&this.kalendae.setSelected(e),this._monthsTemplate(),this._addTwoWeeks()}),this))),this.$container},_hideCalendarOnEnterKey:function(e){13!==e.keyCode||this._findElem("input").hasClass(this._class("input_not_valid"))||(this._findElem("input").val(this._findElem("input").val()).trigger("controls:change",[this._findElem("input").val()]),this.$el.trigger("control:date:selected"))},_setCalendarMonthOnSelectChange:function(){var e=this._findElem("months_input");this.updateCalendarView(l()().add(e.val(),"months")),this._monthsTemplate(this.kalendae.viewStartDate)},_onDateInput:function(){var e=this._findElem("input").val();this.validateSelected()&&e.length>5&&(e=l()(e,(0,c.format)("parse")).format((0,c.format)("date")),this.kalendae.setSelected(e)),this._findElem("input").trigger("controls:change",[e])},onDateClickedSingle:function(e){u.default.prototype.onDateClickedSingle.apply(this,arguments),this._findElem("input").trigger("controls:change",[e.format(APP.system.format.date.date)]),this.$el.trigger("control:date:selected")},onChangeSingle:function(){this.kalendae&&(this.validateSelected(),this._monthsTemplate())},updateCalendarView:function(e){this.kalendae.viewStartDate=e,this.kalendae.draw()},validateSelected:function(){var e=!0,t=l()(this._findElem("input").val(),(0,c.format)("parse"));return this._findElem("input").removeClass(this._class("input_not_valid")),(!t.isValid()||t.format("X")<0)&&(e=!1,this._findElem("input").addClass(this._class("input_not_valid"))),e},_addTwoWeeks:function(){var e=_(this.kalendae.container),t={prepend:a().range(1,8,1).reverse(),append:a().range(1,8,1)};e.find(".k-fake-date").remove();var n=e.find(".k-days span"),i="YYYY-MM-DD",r=l()(n.first().attr("data-date"),i);r.month()===this.kalendae.viewStartDate.month()&&(r.subtract(1,"month").endOf("month"),t.append=!1);var o=l()(n.last().attr("data-date"),i);o.month()===this.kalendae.viewStartDate.month()&&(r.add(1,"month").startOf("month"),t.prepend=!1),a().each(t,(function(t,s){t&&e.find(".k-days")[s](a().map(t,(function(e){var t=("prepend"===s?r:o).clone()["prepend"===s?"subtract":"add"](e,"days");return n.first().clone().removeClass("k-in-month k-selected").addClass("k-out-of-month k-fake-date").attr("data-date",t.format(i)).text(t.format("D")).get(0).outerHTML})).join(""))}),this)}});var f="../build/transpiled/interface/controls/customers/date";window.define(f,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([f])},610102:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n(629133),a=n.n(i),r=n(661533),o=n.n(r),s=n(161320),l=n.n(s),c=n(49987),u=n(445368),d=n(210734);n(872200);const _=d.default.extend({controlClassName:"js-control-purchase",_classes:function(){return{customers_date_control:"js-control-date-customers",caption:"customers-date__caption",value:"customers-date__caption-value",title:"customers-date__caption-title",focuser:"customers-date__caption-focuser",not_valid:"customers-date__caption-value_not-valid",date_input:"js-customers-date-date-input",list:"customers-date__list",purchase_button:"js-purchase-button"}},document_events:function(){return{"controls:hide:private":"_hideOnClickOutside"}},events:function(){var e={};return e["click ".concat(this._selector("caption"))]="_openOnClick",e["keyup ".concat(this._selector("focuser"))]="_openWhenFocused",e},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];d.default.prototype.initialize.apply(this,t),this._$body_control=this._elem("list"),this._$body_control.on("controls:change",this._selector("date_input"),a().bind(this._onDateInputChange,this)).on("control:date:selected",this._selector("customers_date_control"),a().bind(this._hide,this)).on("click",this._selector("purchase_button"),a().bind(this._hide,this)),this._onDateInputChange({},this._elem("date_input").val()),this._$window.on("resize".concat(this.ns),a().bind(this._setPositions,this))},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._$body_control.off(),d.default.prototype.destroy.apply(this,t)},_onDateInputChange:function(e,t){var n,i=l()(t,(0,c.format)("parse")),r=t&&i.isBefore(l()().startOf("day")),o=(0,u.i18n)("Next purchase");i.isValid()&&(t=i.format(APP.system.format.date.date)),a().each({yesterday:-1,today:0,tomorrow:1},(function(e,n){i.startOf("day").isSame(l()().startOf("day").add(e,"days"))&&(t=l()().format(l()().localeData().calendar(n)))})),r&&(o=(0,u.i18n)("Did not purchase"),(n=Math.abs(l()().startOf("day").diff(i.startOf("day"),"days")))<5e3&&(t+=" (".concat((0,u.numeralWord)(n,(0,u.i18n)("day,days,days,days"),!0),")"))),this._elem("title").text(o),this._elem("value").toggleClass(this._class("not_valid"),r).text(t||"")},_openWhenFocused:function(e){var t=null===e.which?e.keyCode:e.which,n=t<32?null:String.fromCharCode(t);(-1!==a().indexOf([13,8],e.keyCode)||/[0-9/.]/.test(n))&&this._openOnClick(e)},_openOnClick:function(e){this._$body_control.hasClass("expanded")||this._$document.trigger({type:"controls:hide",target:this.el}),this._$body_control.hasClass("expanded")?this._hide():this._show(),e.stopPropagation()},_hideOnClickOutside:function(e){this._$body_control.hasClass("expanded")&&!o().contains(this._$body_control.get(0),e.target)&&this._hide()},_show:function(){var e;this._$body_control.addClass("expanded"),this._toggleBodyOverlay(this._$body_control,this._hide),this._setPositions(),APP.is_touch_device||(e=this._$body_control.find(this._selector("date_input"))).val(e.val()).focus()},_hide:function(){this._toggleBodyOverlay(!1),this._$body_control.removeClass("expanded");var e=this._findElem("date_input"),t=l()(e.val(),(0,c.format)("parse"));t.isValid()&&e.val(t.format(APP.system.format.date.date)),this.$el.find(":input").trigger("change"),this._findElem("focuser").focus()},_setPositions:function(){var e=this.$el.offset();this._$body_control.removeClass("h-at-top").css({top:e.top,left:e.left,zIndex:this._maxControlBodyZIndex}),!APP.data.current_list||APP.data.is_card||this._$body_control.visible()||this._$body_control.addClass("h-at-top")}});var h="../build/transpiled/interface/controls/customers/purchase";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])},397051:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var i=n(661533),a=n.n(i),r=n(161320),o=n.n(r),s=n(629133),l=n.n(s),c=n(926168),u=n(445368),d=n(210734);function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},p(e,t,n||e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var v={start:-1,end:5},y={start:0,end:6},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,e);var t,n,i,r=m(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r.apply(this,arguments)}return t=s,n=[{key:"initialize",value:function(){this._opened=!1,this.save_overflow=this.$el.data("save-overflow"),this.$el_in_body=a()(),p(f(s.prototype),"initialize",this).apply(this,arguments)}},{key:"destroy",value:function(){this.save_overflow&&this._findElem("main_dropdown").off(),this._$document.off("controls:hide:private.".concat(this.ns)),p(f(s.prototype),"destroy",this).apply(this,arguments)}},{key:"events",value:function(){var e;return h(e={"click .date_filter__head":"open",'change .date_filter__param__toggler input[type="radio"]':"onSwitcherChange","controls:change [class^=date_field__range_]":"onChangeRange","controls:change .date_field__preset":"fillPreset","date-filter:clear":"onRangeClear","click .date_filter__period_range__options":"onClickStopPropagation"},"click ".concat(this._selector("preset_item")),"choosePreset"),h(e,"click ".concat(this._selector("past_x_days_wrapper")),"onClickStopPropagation"),h(e,"input ".concat(this._selector("past_x_days_input")),"inputDaysPastXDays"),h(e,"date-filter:date-change ".concat(this._selector("range_wrapper")),"onAbsoluteDateValueChange"),h(e,"click ".concat(this._selector("switcher_item")),"onSwitcherClick"),h(e,"focus ".concat(this._selector("main_range")),"onMainDateInputFocus"),h(e,"blur ".concat(this._selector("main_range")),"onMainDateInputBlur"),h(e,"controls:date:done ".concat(this._selector("main_range")),"onMainDateInputDone"),h(e,"click ".concat(this._selector("custom_period_value")),"onClickStopPropagation"),h(e,"input ".concat(this._selector("custom_period_value")),"inputDays"),h(e,"keydown ".concat(this._selector("custom_period_value")),"inputDaysKeydown"),h(e,"focus ".concat(this._selector("custom_period_value")),"inputDaysFocus"),h(e,"blur ".concat(this._selector("custom_period_value")),"inputDaysBlur"),e}},{key:"document_events",value:function(){return{"controls:hide:private":"documentTriggerHide"}}},{key:"delegateEvents",value:function(){var e=this,t=this.save_overflow?this._findElem("main_dropdown"):this.$el;return this._$document.on("controls:hide:private.".concat(this.ns),l().bind(this.documentTriggerHide,this)),l().each(l().result(this,"events"),(function(n,i){var a=i.match(/^(\S+)\s*(.*)$/),r="".concat(a[1],".delegateEvents").concat(e.cid),o=a[2];t.find(o).length?t.on(r,o,l().bind(e[n],e)):e.$el.on(r,o,l().bind(e[n],e))})),this}},{key:"_findElem",value:function(e){var t=d.default.prototype._findElem.apply(this,arguments);return!t.length&&this.save_overflow&&this.$el_in_body.length?this.$el_in_body.find(this._selector(e)):t}},{key:"_selectors",value:function(){return{main_dropdown:".date_filter__dropdown",main_input:".js-date-filter-input",period:".date_filter__period",custom_period_value:".js-date_filter__period_item",first_switcher_input:".control-toggler__item.first input",range_wrapper:".date_field_wrapper",main_range:".date_field",range_clear:".date_field--clear",checked_switcher_input:'.control-toggler__item input[type="radio"]:checked',range_fields:"[class ^= date_field__range_]",preset:".date_field__preset",preset_item_by_id:'.date_filter__period_item[data-period="%s"]',dropdown_icon:".date_filter__head__dropdown_icon",past_x_days_wrapper:".date_filter__period_item-past_x_days-wrapper",past_x_days_input:".date_filter__period_item-past_x_days-input",past_x_days_period:".past_x_days-period"}}},{key:"_classes",value:function(){return{selected_switcher:"control-toggler__item-selected",save_overflow:"date_filter__save-overflow",filter_item:"filter__custom_settings__item",to_top:"date_filter__dropdown_to-top",preset_item:"date_filter__period_item",preset_item_selected:"date_filter__period_item_selected",switcher_item:"control-toggler__item",dropdown_icon_up:"date_filter__head__dropdown_icon--up"}}},{key:"onAbsoluteDateValueChange",value:function(e,t){(this._findElem("preset").length?this._findElem("preset"):this.$el_in_body.find(this._selector("preset"))).val("").trigger("change"),this.clearPresetAndDateTitle(t)}},{key:"documentTriggerHide",value:function(e){if(this._opened){var t=a()(e.target);a().contains(this.save_overflow&&this.$el_in_body.length?this.$el_in_body.get(0):this._findElem("main_dropdown").get(0),e.target)||t.closest(".kalendae").length||this.hide()}}},{key:"onClickStopPropagation",value:function(e){e.stopPropagation()}},{key:"clear",value:function(){this._findElem("preset").val("").trigger("controls:change")}},{key:"open",value:function(e){e.stopPropagation(),this._$document.trigger({type:"controls:hide",target:e.currentTarget}),this._opened||(this._opened=!0,this._findElem("main_dropdown").toggle(),this._elem("custom_period_value").trigger("autosize:important"),this.toggleDropdownIcon(!0),this.save_overflow&&this.openInBody())}},{key:"onSwitcherChange",value:function(e){var t=a()(e.currentTarget).closest("label"),n=t.text().trim()||t.attr("data-label");e.currentTarget.checked?(this._findElem("selected_switcher").removeClass(this._class("selected_switcher")),t.addClass(this._class("selected_switcher")),t.hasClass("first")?this._findElem("period").removeAttr("data-switcher-text"):this._findElem("period").attr("data-switcher-text",n)):t.hasClass("first")||this._findElem("first_switcher_input").prop("checked",!0).trigger("change")}},{key:"onSwitcherClick",value:function(e){e.stopPropagation()}},{key:"onChangeRange",value:function(e){var t=a()(e.currentTarget),n=t.val();this._elem("main_range").trigger("controls:date").data("kalendae")?this.selectedKalendaeOptions(t,n):this._elem("range_wrapper").one("controls:view:init",l().bind((function(){this.selectedKalendaeOptions(t,n)}),this))}},{key:"onMainDateInputFocus",value:function(){this._kalendae_showed||(this.toggleKalendaeInputOverlay(!0),this._kalendae_showed=!0)}},{key:"onMainDateInputDone",value:function(){this._kalendae_showed=!1,this.toggleKalendaeInputOverlay(!1),this.hide()}},{key:"onMainDateInputBlur",value:function(){var e=this;setTimeout((function(){e._kalendae_showed=!1,e.toggleKalendaeInputOverlay(!1)}),200)}},{key:"toggleKalendaeInputOverlay",value:function(e){var t=this;if(e){var n=this._findElem("main_range"),i=n.offset(),r=n.trigger("controls:date").data("kalendae"),o=r?a()(r.container).css("z-index"):this._maxControlBodyZIndex;this._$kalendae_overlays=a()(),l().each(["before","after"],(function(e){var n=a()('<div class="default-overlay date_filter__overlay default-overlay-visible" style="background: none; z-index: '.concat(o,';"></div>'));"before"===e?n.css({top:0,left:0,right:0,bottom:"auto",height:i.top}):n.css({top:i.top+t._findElem("range_wrapper").height(),right:0,bottom:0,left:0}),document.body.insertBefore(n.get(0),r?r.container:null),t._$kalendae_overlays=t._$kalendae_overlays.add(n)}))}else this._$kalendae_overlays&&(this._$kalendae_overlays.remove(),this._$kalendae_overlays=null)}},{key:"clearPresetAndDateTitle",value:function(e){this._findElem("preset_item").removeClass(this._class("preset_item_selected")),this._findElem("period").text(e||this._findElem("period").attr("data-before"))}},{key:"inputDaysPastXDays",value:function(e){var t=a()(e.currentTarget),n=Number(t.val()),i=Number(t.attr("max"));switch(!0){case n<0:n=0;break;case n>i:n=i}t.val(n),t.trigger("autosize:important"),this._findElem("range_fields").first().val(""),this._findElem("range_fields").last().val(""),this._findElem("preset").val("previous_days_"+n).trigger("change");var r=APP.system.timezone,s=n>365?APP.system.format.date.date:APP.system.format.date.date_short,l=[o()().tz(r).subtract(n,"days").format(s),(0,u.i18n)("Today")].join(" - ");this._findElem("past_x_days_period").text("(".concat(l,")"))}},{key:"inputDays",value:function(e){var t=a()(e.currentTarget),n=Number(t.val()),i=Number(t.attr("max"));switch(!0){case n<0:n=0;break;case n>i:n=i}t.val(n),t.trigger("autosize:important")}},{key:"inputDaysKeydown",value:function(e){13===e.keyCode&&a()(e.currentTarget).closest(".date_filter__period_item").trigger("click")}},{key:"inputDaysFocus",value:function(){this._days_x_focused=!0}},{key:"inputDaysBlur",value:function(){var e=this;setTimeout((function(){e._days_x_focused=!1}),200)}},{key:"inputDaysApply",value:function(){this._days_x_focused=!1,this._elem("custom_period_value").closest(".date_filter__period_item").click()}},{key:"inputDaysFill",value:function(e){if(0===e)this.choosePreset({currentTarget:this._findElem("preset_item_by_id","today")});else if(1===e)this.choosePreset({currentTarget:this._findElem("preset_item_by_id","yesterday")});else if(e>1){var t=APP.system.timezone,n=e>365?APP.system.format.date.date:APP.system.format.date.date_short,i=[o()().tz(t).subtract(e,"days").format(n),(0,u.i18n)("Today")].join(" - ");this._findElem("preset_item_by_id","past_x_days").addClass(this._class("preset_item_selected")),this.hide(),this._findElem("range_fields").first().val(""),this._findElem("range_fields").last().val(""),this._findElem("preset").val("previous_days_"+e).trigger("change"),this._findElem("range_fields").trigger("change");var r=(0,u.numeralWord)(e,(0,u.i18n)("Last %s days (numeral)")).split("%s");this._findElem("period").text("").prepend(a()('<span class="date_filter__period__past_x_days-wrapper">'+"<p>".concat(r[0],"</p>")+'<div class="date_filter__period_item-input-days-wrapper date_filter__period_item-past_x_days-wrapper">'+'<input class="date_filter__period_item-input-days date_filter__period_item-past_x_days-input js-date_filter__period_item js-control-autosized_input" data-comfort-zone="1" type="number" value="'.concat(e,'" max="999" />')+" </div>"+"<p>".concat(r[1],'</p> <p class="past_x_days-period">(').concat(i,")</p>")+"</span>")),this._findElem("main_input").val("")}}},{key:"findPresetElem",value:function(e){return this._findElem("preset_item_by_id",e)}},{key:"fillPreset",value:function(e){var t=a()(e.currentTarget).val(),n=parseInt(t.replace("previous_days_",""));n>=0?(this._elem("custom_period_value").val(n),this.inputDaysFill(n)):t?this.choosePreset(l().extend(e,{currentTarget:this.findPresetElem(t)})):this.clearPresetAndDateTitle()}},{key:"choosePreset",value:function(e){var t=a()(e.currentTarget),n=APP.system.timezone,i=parseInt(o()().tz(n).quarter()),r=APP.system.format.date.date_short,s="pt"===(0,c.getLangId)()?v:y,l=t.attr("data-period")||this._findElem("preset").val(),d=this._findElem("period").attr("data-before");switch(this._findElem("preset_item").removeClass(this._class("preset_item_selected")),l){case"tomorrow":d=o()().tz(n).add("days",1).format(r),d+=" - "+(0,u.i18n)("Tomorrow");break;case"today":case"day":case"current_day":l="current_day",d=o()().tz(n).format(r);break;case"yesterday":l="yesterday",d=o()().tz(n).subtract(1,"day").format(r);break;case"week":case"this_week":case"current_week":l="current_week",d=[o()().tz(n).weekday(s.start).format(r),o()().tz(n).weekday(s.end).format(r)].join(" - ");break;case"month":case"this_month":case"current_month":l="current_month",d=[o()().tz(n).startOf("month").format(r),o()().tz(n).endOf("month").format(r)].join(" - ");break;case"quarter":case"this_quarter":case"current_quarter":l="current_quarter",d=[o()().tz(n).month(3*i-3).startOf("month").format(r),o()().tz(n).month(3*i-1).endOf("month").format(r)].join(" - ");break;case"last_6_months":d=[o()().tz(n).subtract(5,"months").startOf("month").format(r),o()().tz(n).endOf("month").format(r)].join(" - ");break;case"year":case"current_year":l="current_year",d=[o()().tz(n).startOf("year").format(r),o()().tz(n).endOf("year").format(r)].join(" - ");break;case"previous_week":l="previous_week",d=[o()().tz(n).subtract(1,"week").weekday(s.start).format(r),o()().tz(n).subtract(1,"week").weekday(s.end).format(r)].join(" - ");break;case"previous_month":l="previous_month",d=[o()().tz(n).subtract(1,"month").startOf("month").format(r),o()().tz(n).subtract(1,"month").endOf("month").format(r)].join(" - ");break;case"previous_quarter":d=[o()().tz(n).subtract(1,"quarter").startOf("quarter").format(r),o()().tz(n).subtract(1,"quarter").endOf("quarter").format(r)].join(" - ");break;case"previous_year":d=[o()().tz(n).subtract(1,"year").startOf("year").format(r),o()().tz(n).subtract(1,"year").endOf("year").format(r)].join(" - ");break;case"next_3_days":d=[o()().tz(n).format(r),o()().tz(n).add("days",3).format(r)].join(" - ");break;case"next_week":d=[o()().tz(n).add("week",1).weekday(s.start).format(r),o()().tz(n).add("week",1).weekday(s.end).format(r)].join(" - ");break;case"next_month":d=[o()().tz(n).add("month",1).startOf("month").format(r),o()().tz(n).add("month",1).endOf("month").format(r)].join(" - ");break;case"next_quarter":d=[o()().tz(n).add("quarter",1).startOf("quarter").format(r),o()().tz(n).add("quarter",1).endOf("quarter").format(r)].join(" - ");break;case"any_time":case"ignore":l="any_time",d=t.find("span").attr("title"),this._findElem("range_fields").val(""),this._findElem("period").text(d);break;case"last_3_days":case"past_3_days":l="last_3_days",d=[o()().tz(n).subtract(2,"days").format(r),o()().tz(n).format(r)].join(" - ");break;case"past_x_days":return void this.inputDaysFill(Number(t.find(".js-date_filter__period_item").val()))}this.hide(),t.addClass(this._class("preset_item_selected")),this._findElem("preset").val(l).trigger("change"),this._findElem("range_fields").val("").trigger("change"),this._findElem("period").text("".concat(t.text()," (").concat(d,")")),this._findElem("main_input").val("")}},{key:"onRangeClear",value:function(){this._findElem("main_range").val("").trigger("controls:change"),this._findElem("preset").val("").trigger("change"),this._findElem("range_fields").val("").trigger("controls:change").trigger("change"),this.clearPresetAndDateTitle()}},{key:"openInBody",value:function(){var e=this.$el.offset(),t=this._findElem("main_dropdown"),n=t.width(),i=this.$el.width();this.$el_in_body=t.css({top:e.top+this.$el.height(),left:e.left,width:Math.max(n,i),marginTop:""}).removeClass(this._class("to_top")).addClass(this.class_list),this._toggleBodyOverlay(t,this.hide),this.$el_in_body.visible()||t.css("margin-top",-this.$el.height()).addClass(this._class("to_top"))}},{key:"class_list",get:function(){return[this._class("save_overflow"),this._class("filter_item"),this._findElem("main_dropdown").data("class-to-body")].join(" ")}},{key:"hide",value:function(){if(!this._opened||this._kalendae_showed)return!1;this._days_x_focused?this.inputDaysApply():(this.save_overflow&&(this.$el_in_body=a()(),this._toggleBodyOverlay(!1),this._findElem("main_dropdown").css({top:"",left:"",width:""}),this._findElem("main_dropdown").removeClass(this.class_list),this._findElem("selected_switcher").find("input").trigger("change"),this._findElem("preset").trigger("change"),this._findElem("range_fields").trigger("change"),this._findElem("main_range").trigger("change")),this.toggleKalendaeInputOverlay(!1),this.toggleDropdownIcon(!1),this._findElem("main_dropdown").hide(),this._opened=!1)}},{key:"toggleDropdownIcon",value:function(e){this._elem("dropdown_icon").toggleClass(this._class("dropdown_icon_up"),e)}},{key:"selectedKalendaeOptions",value:function(e,t){var n=this._elem("main_range").trigger("controls:date").data("kalendae");n&&(e.val(t),t?n.addSelected(t):(n.setSelected(""),e.val()&&e.val("")),n.getSelected().toString().length?this._elem("range_clear").show():this._elem("range_clear").hide(),this._findElem("preset_item").removeClass("preset_item_selected"),a()(n.input).trigger("controls:change",[n.getSelected()]),this._elem("checked_switcher_input").trigger("change"))}},{key:"getDateString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:APP.system.format.date.date,n=e.getSelectedRaw(),i="";return l().isUndefined(n)||(1===n.length?i=n[0].isBefore(o()().tz(APP.system.timezone))?"".concat(n[0].format(t)," - ").concat((0,u.i18n)("Today")):n[0].format(t):2===n.length&&(i=n[0].format(t)===o()([1,0,1]).format(t)?"".concat((0,u.i18n)("deals to").charAt(0).toUpperCase()).concat((0,u.i18n)("deals to").substr(1)," ").concat(n[1].format(t)):e.getSelectedAsText().join(" - "))),i}},{key:"getKalendae",value:function(){return this._findElem("main_input").data("kalendae")}}],i=[{key:"controlClassName",get:function(){return"js-control-date-filter"}}],n&&_(t.prototype,n),i&&_(t,i),s}(d.default);b.extend(b);const w=b;var C="../build/transpiled/interface/controls/date_range";window.define(C,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([C])},351532:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var i=n(629133),a=n.n(i),r=n(161320),o=n.n(r),s=n(397051),l=n(661533);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},d(e,t,n||e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?c(e):t;var n}(this,n)}}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(s,e);var t,n,i,r=p(s);function s(){var e,t,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=c(e=r.apply(this,arguments)),n="systemDateFormat",i=APP.system.format.date.full,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,e}return t=s,n=[{key:"events",value:function(){var e=d(_(s.prototype),"events",this).apply(this,arguments);return e["date-time-filter:date-change ".concat(this._selector("range_wrapper"))]="onAbsoluteDateValueChange",e["controls:change ".concat(this._selector("date_time_input_first"))]="onAbsoluteDateValueChange",e["controls:change ".concat(this._selector("date_time_input_second"))]="onAbsoluteDateValueChange",e}},{key:"_selectors",value:function(){return a().extend({},d(_(s.prototype),"_selectors",this).call(this),{filter_head:".date_filter__head",filter_period_control:".date_filter__period_range__options",date_time_input_first:".date_field_with-time_range-input_first",date_time_input_second:".date_field_with-time_range-input_second",date_time_input_overlay:".filter__custom_settings__item__value-wrapper",dateFilterDropdown:".date_filter__dropdown"})}},{key:"_classes",value:function(){return a().extend({},d(_(s.prototype),"_classes",this).call(this),{second_calendar_box:"date_field_with-time_range-box_second"})}},{key:"changeStyleTopDropdown",value:function(e){var t=this._findElem("dateFilterDropdown");t.hasClass("date_filter__dropdown_to-top")||t.css({top:e})}},{key:"onAbsoluteDateValueChange",value:function(){if((this._findElem("preset").length?this._findElem("preset"):this.$el_in_body.find(this._selector("preset"))).val("").trigger("change"),this._findElem("main_range").length){var e=this._findElem("main_range")[0].value,t=this._findElem("main_range")[1].value,n=o()(e,this.systemDateFormat),i=o()(t,this.systemDateFormat);if(e&&t&&n.isAfter(i)){var a,r=this._findElem("main_range");r.eq(0).val(t).focus().trigger("change controls:change autosize:important"),r.eq(1).val(e).focus().trigger("change controls:change autosize:important"),e=(a=[t,e])[0],t=a[1]}var s=this._findElem("filter_head"),l=s.offset();""!==e&&""!==t?(this.period=e+" - "+t,this.changeStyleTopDropdown(l.top+s.outerHeight())):this.period=""===e&&""!==t?t:""!==e&&""===t?e:this._findElem("period").attr("data-before"),this.clearPresetAndDateTitle(this.period)}}},{key:"choosePreset",value:function(){d(_(s.prototype),"choosePreset",this).apply(this,arguments),this._findElem("period").css("white-space","nowrap")}},{key:"hide",value:function(){return this._findElem("date_time_input_first").trigger("autosize.destroy"),this._findElem("date_time_input_second").trigger("autosize.destroy"),d(_(s.prototype),"hide",this).apply(this,arguments),!1}},{key:"toggleKalendaeInputOverlay",value:function(e){var t=this;if(e){if(!this._findElem("main_range").length)return;var n=this._findElem("main_range"),i=n.offset(),r=n.trigger("controls:date").data("kalendae");this._$kalendae_overlays=l(),a().each(["before","after"],(function(e){var n=l('<div class="default-overlay date_filter__overlay default-overlay-visible" style="background: none;"></div>');"before"===e?n.css({top:0,left:0,right:0,bottom:"auto",height:i.top}):n.css({top:i.top+t._findElem("date_time_input_overlay").height(),right:0,bottom:0,left:0}),document.body.insertBefore(n.get(0),r?r.container:null),t._$kalendae_overlays=t._$kalendae_overlays.add(n)}))}else this._$kalendae_overlays&&(this._$kalendae_overlays.remove(),this._$kalendae_overlays=null)}}],i=[{key:"controlClassName",get:function(){return"js-control-date_time_filter"}}],n&&u(t.prototype,n),i&&u(t,i),s}(s.default);f.extend(f);const g=f;var m="../build/transpiled/interface/controls/date_time_range";window.define(m,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([m])},967134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n(661533),a=n.n(i),r=n(629133),o=n.n(r),s=n(982862),l=n(210734),c={},u={};function d(){u={},c={}}a()(window).on("resize",o().debounce(d,50)),a()(document).on("list:reload",o().debounce(d,50));const _=l.default.extend({controlClassName:"js-control-file-name",_classes:function(){return{size:"drive-field__size",download_btn:"js-drive-field__download-btn",control_drive_field:"js-control-drive-field",elements_container:"drive-field__controls",file_name_parent:"js-file-name-cache-width",aligned_controls:"drive-field__controls_aligned"}},document_events:function(){return{"card:overlay:hide":"_hideCardHandler"}},events:function(){return{"file-name:change":"_changeFileName"}},initialize:function(){l.default.prototype.initialize.apply(this,arguments);var e=this.$el.data();this.type=e.fileNameType,this._$window.on("resize"+this.ns,o().debounce(o().bind(this._nameWidthHandler,this),200)),this._changeFileName()},_switchingChangeByType:function(e){switch(e){case"file-name-list":this._changeFileNameList();break;case"file-name-card":this._changeFileNameDriveField(e);break;case"files-list":this._changeFilesList(e);break;default:this._defaultChangeFileName(e)}},_changeFileNameList:function(){var e=this.$el.closest(this._selector("control_drive_field")).attr("data-field-id");this._changeFileNameDriveField(e)},_changeFileNameDriveField:function(e){this._widthCaching(e);var t=this._getWidthDriveField(e),n=Math.round((0,s.getTextWidth)(this.file_name_text))-1;this._toggleControlClass(t,n),t<n?this._changeCorrectName(t):this.$el.text(this.file_name_text)},_changeFilesList:function(e){this._widthCaching(e);var t=c[e];this._changeCorrectName(t)},_defaultChangeFileName:function(){this.$el.text(this.file_name_text);var e=this.$el.width();e<Math.round((0,s.getTextWidth)(this.file_name_text))-3&&this._changeCorrectName(e)},_changeFileName:function(){this.file_name_text=this.$el.attr("title").trim(),this.file_name_text&&this._switchingChangeByType(this.type)},_nameWidthHandler:function(){this.file_name_text&&this._switchingChangeByType(this.type)},_hideCardHandler:function(){this._switchingChangeByType(this.type)},_widthCaching:function(e){if(!c[e]||u[e]){var t=c[e];c[e]=this.$el.closest(this._selector("file_name_parent")).width(),t===c[e]?u[e]=!1:u[e]=!0}},_getWidthDriveField:function(e){var t=this.$el.parent().find(this._selector("size")).width(),n=this.$el.closest(this._selector("elements_container")).find(this._selector("download_btn")).width();return c[e]-t-n-22},_toggleControlClass:function(e,t){e<t?this.$el.closest(this._selector("elements_container")).toggleClass(this._class("aligned_controls"),!0):this.$el.closest(this._selector("elements_container")).toggleClass(this._class("aligned_controls"),!1)},_changeCorrectName:function(e){var t=e<15?15:e,n=(0,s.getShortText)(this.file_name_text,t);this.$el.text(n)}});var h="../build/transpiled/interface/controls/file_name";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])},930184:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n(629133),a=n.n(i);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},o(e,t,n||e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}const u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,i=c(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),i.apply(this,arguments)}return t=u,n=[{key:"initialize",value:function(){o(s(u.prototype),"initialize",this).call(this,arguments)}},{key:"_getCursorPosAfterFormat",value:function(e){var t,n=this._getInputValue(),i=n.length,a=0,r=0;if(e===this._value.length)return i;for(t=i-1;t>=0;t--)if(r++,t===i-1||"-"!==n[t]&&" "!==n[t]){if(e===a)break;a++}return r-1}},{key:"_getFormattingCharsCount",value:function(e){var t=this._getInputValue(),n=t.slice(t.length-e,t.length).match(this._getFormattingCharsRegex());return n&&n.length||0}},{key:"_getFormattingCharsRegex",value:function(){throw new Error("_getFormattingCharsRegex must be overrided")}},{key:"_fixCursorPosOnKeydown",value:function(e){var t=this._getInputEl(),n=t.value,i=e.keyCode;this._end_pos=n.length-t.selectionEnd,this._start_pos=n.length-t.selectionStart,this._ignore_next_cursor_setting=!1,this._proxyInputEvent(e),!this._isRawValueValid()||t.disabled||t.readOnly||(e.ctrlKey||e.metaKey)&&65===i||67===i||82===i||(i>47&&i<58||32===i||i>64&&i<91||i>95&&i<112||i>185&&i<193||i>218&&i<223||8===i&&n.length!==this._end_pos)&&(this._end_pos-=this._getFormattingCharsCount(this._end_pos),this._start_pos-=this._getFormattingCharsCount(this._start_pos),this._setInputValue(this._value),this._setCursorPos(this._end_pos,this._start_pos),this._ignore_next_cursor_setting=!1)}},{key:"_setCursorPos",value:function(e,t){if(!this._ignore_next_cursor_setting){var n=this._getInputEl(),i=n.value;if(e=i.length-(e||this._end_pos),t=a().isUndefined(t)?e:i.length-t,n.createTextRange){var r=n.createTextRange();t===e?r.move("character",e):(r.moveStart("character",t),r.moveEnd("character",e)),r.select()}else n.setSelectionRange&&n.setSelectionRange(t,e)}this._ignore_next_cursor_setting=!0}},{key:"_proxyInputEvent",value:function(){}},{key:"_getInputEl",value:function(){return this._elem("input").get(0)}},{key:"_getInputValue",value:function(){return this._elem("input").val()}},{key:"_getRawValue",value:function(){return this._elem("raw").val()}},{key:"_setInputValue",value:function(e){this._elem("input").val(e)}},{key:"_setRawValue",value:function(e){this._elem("raw").val(e)}}],n&&r(t.prototype,n),u}(n(210734).default);var d="../build/transpiled/interface/controls/formatters/format_control_interface";window.define(d,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([d])},220555:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var i=n(629133),a=n.n(i),r=n(445368),o=n(955026),s=n(390788);function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},c(e,t,n||e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var a=u(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,e);var t,n,i,h=_(p);function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),h.apply(this,arguments)}return t=p,n=[{key:"_classes",value:function(){return{}}},{key:"_selectors",value:function(){return{raw:'input[type="hidden"]',input:'input[type="text"]',is_suggest_needed:".js-control--suggest--list .control--suggest--list--item"}}},{key:"events",value:function(){var e={'click input[type="text"]':"_stopPropagationOnClick",'change input[type="hidden"]':"_onRawInputOutsideChange",'change input[type="text"]':"_proxyInputEvent",'focus input[type="text"]':"_proxyInputEvent",'blur input[type="text"]':"_proxyInputEvent"};return APP.is_touch_device?a().extend(e,{'focus input[type="text"]':"_setRawValueOnFocusIpad",'blur input[type="text"]':"_setFormattedValueOnBlurIpad",'input input[type="text"]':"_setValueOnInputIpad"}):a().extend(e,{'copy input[type="text"]':"_setRawClipboardOnCopy",'keydown input[type="text"]':"_fixCursorPosOnKeydown",'input input[type="text"]':"_formatOnInput"}),e}},{key:"initialize",value:function(){c(u(p.prototype),"initialize",this).apply(this,arguments),this._value=this._getRawValue()||"",this._value&&!this._getInputValue()&&this._onRawInputOutsideChange()}},{key:"_setRawValueOnFocusIpad",value:function(e){this._setInputValue(this._value),this._proxyInputEvent(e)}},{key:"_setFormattedValueOnBlurIpad",value:function(e){this._onRawInputOutsideChange(),this._proxyInputEvent(e)}},{key:"_setValueOnInputIpad",value:function(e){this._value=this._getInputValue(),this._setRawValue(this._value),this._proxyInputEvent(e)}},{key:"_stopPropagationOnClick",value:function(e){this._findElem("is_suggest_needed").length&&e.stopPropagation()}},{key:"_onRawInputOutsideChange",value:function(){var e=this._getRawValue();this._value=e,this._setInputValue(e),this._format(e)}},{key:"_setRawClipboardOnCopy",value:function(e){var t=this._getInputEl();t.value===t.value.substring(t.selectionStart,t.selectionEnd)&&(0,s.copyToClipboard)(e,this._value)}},{key:"_getFormattingCharsRegex",value:function(){return/[\s-()]/g}},{key:"_isRawValueValid",value:function(){return(0,o.isPhoneValid)(this._value)}},{key:"_format",value:function(e){var t;return!!this._isRawValueValid()&&(e!==(t=(0,r.phone)(e))&&this._setInputValue(t),!0)}},{key:"_formatOnInput",value:function(){var e=this._getInputEl().value;this._value=e,this._format(e)&&(this._end_pos=this._getCursorPosAfterFormat(this._end_pos)),this._setCursorPos(this._end_pos),this._elem("raw").val(this._value).trigger("input")}},{key:"_proxyInputEvent",value:function(e){this._elem("raw").trigger(a().pick(e,"type","keyCode","which"))}}],i=[{key:"controlClassName",get:function(){return"js-control-phone"}}],n&&l(t.prototype,n),i&&l(t,i),p}(n(930184).default);h.extend(h);const p=h;var f="../build/transpiled/interface/controls/formatters/phone";window.define(f,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([f])},891941:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(629133),a=n.n(i),r=n(161320),o=n.n(r),s=n(749495),l=12===APP.system.format.time?125:85;const c=s.Numeric.extend({controlClassName:"js-control-format-time",check_regex:/^([0-9][0-9]?:?[0-5]?[0-9]?)\s?(AM?|PM?)?\s?-?\s?([0-9]?[0-9]?:?[0-5]?[0-9]?)?\s?(AM?|PM?)?$/,time_regex:/^([0-9][0-9]:?[0-5][0-9])\s?(AM?|PM?)?$/,events:a().extend({},a().result(s.Numeric.prototype,"events",{}),{focus:"rememberValueOnFocus",blur:"validateValueOnBlur","controls:ajust":"_ajustWidth"}),initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.Numeric.prototype.initialize.apply(this,t),this._original_value=this.$el.val(),this._ajustWidth()},rememberValueOnFocus:function(){this._original_value=this.$el.val()},validateValueOnBlur:function(){var e,t,n=APP.system.format.date.time,i=this.$el.val()||"",a=i.split(/\s?-\s?/),r=!1,s=[];i&&(e=a[0]&&o()(a[0],n),t=a[1]&&o()(a[1],n),e&&e.isValid()?s.push(e.format(n)):r=!0,t&&(t.isValid()&&e.isBefore(t)?s.push(t.format(n)):r=!0),this.$el.val(!0===r?this._original_value:s.join(" - ")).trigger("input")),this._ajustWidth()},_prepareValue:function(e){var t,n,i,a=APP.system.format.date.time,r=e;return e.length>=4&&(n=(t=e.split(/\s?-\s?/))[0]&&this.time_regex.test(t[0])&&o()(t[0],a),i=t[1]&&this.time_regex.test(t[1])&&o()(t[1],a),n&&n.isValid()&&((e=n.format(a))!==t[0].trim()||i?e+=" - ":e=r),i&&i.isValid()&&(n&&n.isValid()&&n.isBefore(i)?e+=i.format(a):e=r.trim()),e===this._prev_value&&(e=r.trim())),this._ajustWidth(),s.Numeric.prototype._prepareValue.call(this,e.split(/\s?-\s?/).join(" - "))},_ajustWidth:function(){var e=this.$el.val(),t=e.split(/\s?-\s?/),n=t[0]&&this.time_regex.test(t[0])&&o()(t[0],APP.system.format.date.time);e.length?e.length>=4||n&&n.isValid()?this.$el.css("width",l):this.$el.css("width",38):this.$el.css("width",64)}});var u="../build/transpiled/interface/controls/formatters/time";window.define(u,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([u])},319071:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var i=n(629133),a=n.n(i),r=n(306843),o=n(955026),s=n(577486),l=n(210734);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},d(e,t,n||e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,r=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var g="mac"===r.default.os?117:46,m=new s.UnsafeRegExp("^".concat(/(([0-2]?[0-3])|((0|1)?[0-9]))?/.source,":").concat(/([0-5]?[0-9])?/.source).concat(/(AM|PM|P|A|M)?/gi.source,"$"),"i"),v=function(e){return(0,o.getDigitsOnly)(e).length},y=function(e){switch(v(e)){case 0:return"00"+e;case 1:return"0"+e;default:return e}},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(o,e);var t,n,i,r=f(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n=[{key:"_classes",value:function(){return{}}},{key:"_selectors",value:function(){return{}}},{key:"events",value:function(){return{keydown:"handleKeyDown",blur:"handleBlur",input:"handleInput","controls:change":"handleInput"}}},{key:"initialize",value:function(){d(_(o.prototype),"initialize",this).call(this,arguments),this._value=this._getInputValue()}},{key:"destroy",value:function(){this.$el.off(),d(_(o.prototype),"destroy",this).call(this,arguments)}},{key:"_format",value:function(e){var t=function(e){return e.replace(/:/gi,"")}(e),n=v(t);if(n>4)this.resetValue();else{var i=p(e.split(":"),2),a=i[0],r=i[1],o=void 0===r?"":r,s=2,l=v(a),c=v(o);switch(!0){case 1===n&&1===l:case 2===n&&1===l:case 3===n&&1===l:case 3===n&&0===l:s=1;break;case 0===n:case 1===n&&1===c:case 2===n&&2===c:s=0}var u=[t.slice(0,s),t.slice(s)].join(":");if(this._isTimeValid(u)){var d=this.cursorPosition-1,_=e.indexOf(":"),h=d===u.indexOf(":")?_:d;this.setValue(u);var f=h+1;f!==this.cursorPosition&&this._setCursorPosition(f)}else this.resetValue()}}},{key:"resetValue",value:function(){var e=this.cursorPosition;this.setValue(this._prevValue),this._setCursorPosition(e-1)}},{key:"setValue",value:function(e){this._value=e,this._setInputValue(e)}},{key:"handleInput",value:function(){var e=this._getInputValue();this._prevValue=this._value,this._value=e,a().isEmpty(e)||this._format(e)}},{key:"handleKeyDown",value:function(e){var t=e.keyCode,n=this._getInputValue().indexOf(":");switch(!0){case 8===t&&n===this.cursorPosition-1:this._moveCursorPos(-1);break;case t===g&&n===this.cursorPosition:this._moveCursorPos(1)}}},{key:"handleBlur",value:function(){var e=this._getInputValue();if(4!==v(e)){var t=p(e.split(":"),2),n=t[0],i=t[1],a=void 0===i?"":i,r=[n=y(n),a=y(a)].join(":");this.setValue(r)}}},{key:"cursorPosition",get:function(){return this._getInputEl().selectionStart}},{key:"_moveCursorPos",value:function(e){var t=this.cursorPosition+e;this._setCursorPosition(t)}},{key:"_setCursorPosition",value:function(e){var t=this._getInputEl();if(t.createTextRange){var n=t.createTextRange();n.move("character",e),n.select()}else t.setSelectionRange&&t.setSelectionRange(e,e)}},{key:"_getInputEl",value:function(){return this.el}},{key:"_getInputValue",value:function(){return this.$el.val()}},{key:"_setInputValue",value:function(e){this.$el.val(e)}},{key:"_isTimeValid",value:function(e){return m.test(e)}}],i=[{key:"controlClassName",get:function(){return"js-control-time-formatter"}}],n&&u(t.prototype,n),i&&u(t,i),o}(l.default);b.extend(b);const w=b;var C="../build/transpiled/interface/controls/formatters/time_formatter";window.define(C,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([C])},668108:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var i=n(629133),a=n.n(i),r=n(460159),o=n.n(r),s=n(445368),l=n(982862),c=n(210734),u=n(661533);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var _=!1,h=["font-weight","font-size","font-family","line-height","word-break","letter-spacing","padding","padding-left","border","border-top","border-right","border-bottom","border-left","box-sizing"];n(181743),u(document).on("mouseup",(function(){_=!1}));const p=c.default.extend({controlClassName:"js-control-fullname",lastNamePostfix:"plus",_selectors:function(){return{fullname:".control-fullname__single",placeholder:".control-fullname__placeholder"}},_classes:function(){return{autosized:"control-fullname_autosized",focused:"control-fullname_focused",placeholdered:"control-fullname_placeholdered",separated:"control-fullname__separated",separated_firstname:"control-fullname__separated_firstname",separated_lastname:"control-fullname__separated_lastname",separated_nomargin:"control-fullname__separated_nomargin",separated_empty:"control-fullname__separated_empty"}},events:function(){var e={click:"_onMainWrapperClick"};return e["input ".concat(this._selector("fullname"))]="_onInputUpdatePlaceholder",e["change ".concat(this._selector("fullname"))]="_onInputUpdatePlaceholder",e["controls:change ".concat(this._selector("fullname"))]="_onInputUpdatePlaceholder",e["input ".concat(this._selector("separated"))]="_onSeparatedInputClear",e["mousedown ".concat(this._selector("separated"))]="_onSeparatedInputMouseDown",e["keydown ".concat(this._selector("separated"))]="_onSeparatedInputKeyDown",e["focus .text-input"]="_onInputFocus",e["blur .text-input"]="_onInputBlur",e},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.$(":input:focus");c.default.prototype.initialize.apply(this,t),this._focused=i.length,this._autosized=this._hasClass("autosized"),this._is_fullname=this._elem("fullname").length,this._is_fullname?this._initSingleFullName():this._initSeparatedFullName(),this._focused&&this._onInputFocus({currentTarget:i.get(0)})},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._elem("fullname").trigger("autosize.destroy"),c.default.prototype.destroy.apply(this,t)},_onMainWrapperClick:function(e){u(e.target).is(":input")||u(e.target).is(":has(:focus)")||this.$(":input:visible:first").focus()},_onInputUpdatePlaceholder:function(){var e=[],t=this._elem("fullname").val();t.trim()&&(e=1===t.trim().split(" ").length?['<span style="visibility: hidden">'.concat(a().escape(t),"</span>"),APP.constant("account").is_contact_name_display_order_first?(0,s.i18n)("Last name"):(0,s.i18n)("First name")]:[]),this._elem("placeholder").html(e.join(t.indexOf(" ")>0?"":"&nbsp;")),this._toggleClass("placeholdered",e.length>0)},_onSeparatedInputClear:function(e){var t,n=u(e.currentTarget),i=a().compact(this._elem("separated").map((function(e,t){return(t.value||"").trim()})).toArray());n.index()>0&&this._updateFirstInputMargin(),i.length||(t=u(o()({ref:"/tmpl/controls/fullname/index.twig"}).render(this._getRenderParams())),n.trigger("change"),this.$el.replaceWith(t),t.find(":input").focus())},_getRenderParams:function(){return{input_type:this.$el.attr("data-rerender-input-type"),name:this.$el.attr("data-rerender-name"),input_class_name:this.$el.attr("data-rerender-input-class"),placeholder:this.$el.attr("data-rerender-placeholder"),placeholder_color:this.$el.attr("data-rerender-placeholder-color"),autosized:this.$el.attr("data-rerender-autosized")}},_onInputFocus:function(e){this._focused=!0,this._addClass("focused"),this._updateFirstInputMargin(),this._autosized&&u(e.currentTarget).trigger("autosize:important")},_onInputBlur:function(e){var t=u(e.currentTarget),n=_;_=!1,this._is_fullname||t.toggleClass(this._class("separated_empty"),!t.val()),n||(this._focused=!1,this._removeClass("focused"),this._is_fullname||this._updateFirstInputMargin(),this._autosized&&t.parent().find(":input").trigger("autosize:important"))},_onSeparatedInputMouseDown:function(){_=!0},_onSeparatedInputKeyDown:function(e){9!==e.keyCode||e.shiftKey||0!==u(e.currentTarget).index()||(_=!0)},_initSeparatedFullName:function(){var e,t=this;a().isNaN(parseInt(this.$el.attr("data-comfort-zone")))||(e=parseInt(this.$el.attr("data-comfort-zone"))),this._elem("separated").autosizeInput({appendValue:function(){return u(this).index()>0&&t._focused?t.lastNamePostfix:""},comfortZone:e})},_initSingleFullName:function(){var e,t=this;a().isNaN(parseInt(this.$el.attr("data-comfort-zone")))||(e=parseInt(this.$el.attr("data-comfort-zone"))),this._elem("fullname").is("textarea")?(this._elem("fullname").addClass("autosized").css("width","calc(100% + ".concat(l.scrollBarWidth+1,"px)")),this._elem("fullname").autosize({noBoxOffset:!0})):this._autosized&&this._elem("fullname").autosizeInput({appendValue:function(){var e=a().compact(t._elem("fullname").val().split(" "));return t._focused?1===e.length?" ".concat((0,s.i18n)("Last name")):t.lastNamePostfix:""},comfortZone:e}),this._initPlaceholder()},_initPlaceholder:function(){var e,t,n=this._elem("fullname").get(0),i=window.getComputedStyle(n);this._elem("placeholder").css("opacity",1).css((e=a()).pick.apply(e,(t=[i].concat(h),function(e){if(Array.isArray(e))return d(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))).css("border-color","transparent"),this._onInputUpdatePlaceholder()},_updateFirstInputMargin:function(){this.$("".concat(this._selector("separated"),":first")).toggleClass(this._class("separated_nomargin"),!this._focused&&!this.$("".concat(this._selector("separated"),":last")).val())}});var f="../build/transpiled/interface/controls/fullname/index";window.define(f,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([f])},644760:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n(629133),a=n.n(i),r=n(834834),o=n(210734),s=n(661533);const l=o.default.extend({controlClassName:"js-control-legal-entity",events:function(){var e={"input input":"stopPropagationOnDefaultSuggest","focus input":"_onFocused","blur input":"_onBlurred"};return e["input ".concat(this._selector("name"))]="_onValueChanged",e["input ".concat(this._selector("vat"))]="_onValueChanged",e["input ".concat(this._selector("kpp"))]="_onValueChanged",e["input ".concat(this._selector("ogrn"))]="_onValueChanged",e["input ".concat(this._selector("mfo"))]="_onValueChanged",e["input ".concat(this._selector("oked"))]="_onValueChanged",e["input ".concat(this._selector("director"))]="_onValueChanged",e["input ".concat(this._selector("bank_account_number"))]="_onValueChanged",e["input ".concat(this._selector("address"))]="_onValueChanged",e["input ".concat(this._selector("real_address"))]="_onValueChanged",e["suggest:changed ".concat(this._selector("name"))]="_onItemChoosed",e["suggest:changed ".concat(this._selector("vat"))]="_onItemChoosed",e["suggest:changed ".concat(this._selector("kpp"))]="_onItemChoosed",e["suggest:changed ".concat(this._selector("ogrn"))]="_onItemChoosed",e["suggest:changed ".concat(this._selector("mfo"))]="_onItemChoosed",e["suggest:changed ".concat(this._selector("oked"))]="_onItemChoosed",e["suggest:changed ".concat(this._selector("director"))]="_onItemChoosed",e["suggest:changed ".concat(this._selector("bank_account_number"))]="_onItemChoosed",e["suggest:changed ".concat(this._selector("address"))]="_onItemChoosed",e["suggest:changed ".concat(this._selector("real_address"))]="_onItemChoosed",a().extend({},a().result(o.default.prototype,"events",{}),e)},_classes:function(){return{name:"js-legal-entity-name",vat:"js-legal-entity-vat",kpp:"js-legal-entity-kpp",ogrn:"js-legal-entity-ogrn",mfo:"js-legal-entity-mfo",oked:"js-legal-entity-oked",director:"js-legal-entity-director",bank_account_number:"js-legal-entity-bank_account_number",bank_code:"js-legal-entity-bank_code",type:"js-legal-entity-type",address:"js-legal-entity-address",real_address:"js-legal-entity-real_address"}},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.default.prototype.initialize.apply(this,t),this._cache={},this.$("input:focus").length&&this._onFocused()},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._cache={},o.default.prototype.destroy.apply(this,t)},stopPropagationOnDefaultSuggest:function(e){e.stopPropagation()},_onValueChanged:a().debounce((function(e){var t=s(e.currentTarget),n=t.closest(".control--suggest").find(".js-control--suggest--list"),i=t.val().trim(),r=this.$el.attr("data-search-in"),o=!1;!r&&t.hasClass(this._class("name"))||(t.attr("data-val",i),parseInt(r)>0?o=this.makeCatalogRequest({catalog_id:r,term:i,force:!i&&"focus"===e.type}):i&&i.length>2&&"ru"===APP.lang_id&&(o=this.makeRequest({query:i,query_type:t.attr("data-query-type")})),o?o.then(a().bind((function(e){var t=a().map(e,(function(e){return{id:e.inn,additional_data:['data-name="'.concat(a().escape(e.name),'"'),'data-vat="'.concat(a().escape(e.inn),'"'),'data-kpp="'.concat(a().escape(e.kpp),'"'),'data-ogrn="'.concat(a().escape(e.ogrn),'"'),'data-mfo="'.concat(a().escape(e.mfo),'"'),'data-oked="'.concat(a().escape(e.oked),'"'),'data-director="'.concat(a().escape(e.director),'"'),'data-bank_account_number="'.concat(a().escape(e.bank_account_number),'"'),'data-bank_code="'.concat(a().escape(e.bank_code),'"'),'data-type="'.concat(a().escape(e.type),'"'),'data-address="'.concat(a().escape(e.address),'"'),'data-real_address="'.concat(a().escape(e.real_address),'"')].join(" "),text:e.name}}));n.trigger("suggest:reset",[t,""])}),this)):n.trigger("suggest:reset",[[],""]))}),500),_onItemChoosed:function(e,t){this._elem("name").val(t.attr("data-name")).trigger("change"),this._elem("vat").val(t.attr("data-vat")).trigger("change"),this._elem("kpp").val(t.attr("data-kpp")).trigger("change"),this._elem("ogrn").val(t.attr("data-ogrn")).trigger("change"),this._elem("mfo").val(t.attr("data-mfo")).trigger("change"),this._elem("oked").val(t.attr("data-oked")).trigger("change"),this._elem("director").val(t.attr("data-director")).trigger("change"),this._elem("bank_account_number").val(t.attr("data-bank_account_number")).trigger("change"),this._elem("bank_code").val(t.attr("data-bank_code")).trigger("change"),this._elem("type").val(t.attr("data-type")).trigger("change"),this._elem("address").val(t.attr("data-address")).trigger("change"),this._elem("real_address").val(t.attr("data-real_address")).trigger("change")},_onFocused:function(e){var t=this.$el.height();clearTimeout(this.blur_timeout),this.$el.addClass("legal-entity_focused");var n=this.$el.height();t!==n&&this.$el.css("margin-bottom","".concat(-n+t,"px")),this._onValueChanged(e)},_onBlurred:function(e){var t=s(e.target).closest(".control--suggest").find(".js-control--suggest--list li");e.target.value.trim()&&1===t.length&&t.trigger("suggest:item:click-silent"),this.blur_timeout=setTimeout(a().bind((function(){this.$el.removeClass("legal-entity_focused"),this.$el.css("margin-bottom",0)}),this),100)},makeCatalogRequest:function(e){var t=this,n=s.Deferred(),i=e.catalog_id+e.term;return this._cache[i]?n.resolve(this._cache[i]):r.default.searchElements(e.catalog_id,e.term).then((function(e){var r=a().map(e,(function(e){return a().reduce(e.custom_fields,(function(e,t){var n="";switch(t.code){case"SUPPLIER_VAT_ID":n="inn";break;case"SUPPLIER_TAX_REGISTRATION_REASON_CODE":n="kpp";break;case"SUPPLIER_PRIMARY_STATE_REGISTRATION_NUMBER":n="ogrn";break;case"SUPPLIER_BANK_IDENTIFICATION_CODE":n="bank_code";break;case"SUPPLIER_LEGAL_ADDRESS":n="address"}return n&&(e[n]=a().propertyOf(t)(["values",0,"value"])||""),e}),{name:e.name})}));t._cache[i]=r,n.resolve(t._cache[i])}),n.reject),n.promise()},makeRequest:function(e){var t=s.Deferred();return APP.widgets.legal_handlers&&APP.widgets.legal_handlers.length&&a().isFunction(APP.widgets.legal_handlers[0])?APP.widgets.legal_handlers[0](e):(s.ajax({type:"POST",headers:{Authorization:"Token 608b368be2b4caceef05d83b16bd85305d3d4cc8",Accept:"application/json, text/javascript","Content-Type":"application/json"},url:"https://dadata.ru/api/v2/suggest/party",dataType:"json",data:JSON.stringify(e)}).done(a().bind((function(e){var t;!a().isUndefined(e.suggestions)&&e.suggestions.length&&(t=a().map(e.suggestions,(function(e){var t=e.value,n=e.data,i=n.inn,a=n.kpp,r=n.ogrn,o=n.address;return{name:t,inn:i,kpp:a,ogrn:r,type:"INDIVIDUAL"===e.type?1:2,address:o.unrestricted_value||o.value}}))),this.resolve(t)}),t)).fail(a().bind(t.reject,t,[])),t.promise())}});var c="../build/transpiled/interface/controls/legal_entity";window.define(c,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([c])},656536:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var i=n(629133),a=n.n(i),r=n(834834),o=n(445368),s=n(926168),l=n(210734),c=n(661533);function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},d(e,t,n||e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(g,e);var t,n,i,f=p(g);function g(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),f.apply(this,arguments)}return t=g,n=[{key:"events",value:function(){var e={"input input":"stopPropagationOnDefaultSuggest"};return e["input "+this._selector("name")]="_onValueChangedDebounced",e["focus "+this._selector("name")]="_onNameInputFocused",e["blur "+this._selector("name")]="_onNameInputBlurred",e["suggest:changed "+this._selector("name")]="_onItemChoosed",e["linked-entity:autoselect-first "+this._selector("name")]="_autoSelectFirstItem",e["linked-entity:set-defaults "+this._selector("name")]="_onDefaultItemsSet",a().extend({},a().result(l.default.prototype,"events",{}),e)}},{key:"_classes",value:function(){return{name:"js-linked-entity-name",entity_id:"js-linked-entity-id",entity_type:"js-linked-entity-type",catalog_id:"js-linked-entity-catalog-id",select_icon:"control--suggest--down-btn",suggest_list:"js-control--suggest--list"}}},{key:"initialize",value:function(){d(_(g.prototype),"initialize",this).apply(this,arguments),this._default_items=[],this._cache={},this._onValueChangedDebounced=a().debounce(a().bind(this._onValueChanged,this),500)}},{key:"stopPropagationOnDefaultSuggest",value:function(e){e.stopPropagation()}},{key:"_autoSelectFirstItem",value:function(){this._elem("name").trigger("suggest:changed",[this._findElem("suggest_list").find("li:first")])}},{key:"_getElementsToSet",value:function(e){switch(this._data.searchIn){case"companies":return a().filter(e,(function(e){return parseInt(e.element_type)===APP.element_types.companies}));case"contacts":return a().filter(e,(function(e){return parseInt(e.element_type)===APP.element_types.contacts}));case"contacts_and_companies":return a().filter(e,(function(e){return a().includes([APP.element_types.companies,APP.element_types.contacts],parseInt(e.element_type))}));default:return[]}}},{key:"_onDefaultItemsSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;this._default_items=this._getElementsToSet(t),this._default_items.length&&!this._elem("select_icon").get(0)&&n&&(this._elem("name").after('<b class="'.concat(this._class("select_icon"),'"></b>')),this._dropElemCache("select_icon")),this.resetItems(this._default_items)}},{key:"_onNameInputFocused",value:function(e){this._current_name_value=c(e.currentTarget).val(),this._current_name_value&&!this._elem("select_icon").get(0)||(this._default_items.length?this.resetItems(this._default_items):this._onValueChanged(e)),this._elem("select_icon").hide()}},{key:"_onNameInputBlurred",value:function(e){var t=e.currentTarget,n=c(t).val();n!==this._current_name_value&&(this._elem("entity_id").val("").trigger("change"),this._elem("entity_type").val("").trigger("change"),this._elem("catalog_id").val("").trigger("change"),this._current_name_value=n),this._elem("select_icon").show()}},{key:"_onValueChanged",value:function(e){var t=this,n=c(e.currentTarget),i=n.val().trim(),r=this.$el.attr("data-search-in"),o=!1;n.is(":focus")&&(n.attr("data-val",i),a().contains(["contacts_and_companies","contacts","companies"],r)?o=this.makeContactsRequest({entity:r,term:i}):a().isNaN(parseInt(r))||(o=this.makeCatalogElementsRequest({catalog_id:r,term:i})),o?(n.trigger("suggest:loader"),o.then((function(e){return t.resetItems(e)}),(function(e){return t.resetItems(e)}))):this.resetItems(this._default_items))}},{key:"_onItemChoosed",value:function(e,t){var n=parseInt(t.attr("data-entity-id")||0),i=parseInt(t.attr("data-catalog-id")||0);this._elem("name").val(t.attr("data-name")).trigger("change"),this._elem("entity_id").val(n||"").trigger("change"),this._elem("entity_type").val(n>0?t.attr("data-entity-type"):"").trigger("change"),this._elem("catalog_id").val(i||"").trigger("change")}},{key:"resetItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this._findElem("suggest_list"),n=a().map(e,(function(e){return{id:e.id,additional_data:['data-name="'.concat(a().escape(e.name),'"'),'data-entity-id="'.concat(e.id,'"'),'data-entity-type="'.concat((0,s.convertElementType)(e.element_type,"string"),'"'),'data-catalog-id="'.concat(e.catalog_id,'"')].join(" "),text:e.name}}));t.trigger("suggest:reset",[n,""])}},{key:"makeContactsRequest",value:function(e){var t=e.entity,n=e.term,i=void 0===n?"":n,r=c.Deferred();if(i.length<3)r.reject(this._default_items);else{var o="?type=".concat(t);"contacts_and_companies"===t&&(o="?type=contacts&contacts=all"),c.ajax({url:"/ajax/search/".concat(o,"&query_type=name&q=").concat(i||"")}).then((function(e){var n=e.status,i=e.result;"ok"===n?r.resolve(a().map(i||[],(function(e){var n=e.element_type;return n||(n="contacts"===t?APP.element_types.contacts:APP.element_types.companies),a().extend({},e,{element_type:n})}))):r.reject(i)}),r.reject)}return r.promise()}},{key:"makeCatalogElementsRequest",value:function(e){var t=this,n=e.catalog_id,i=e.term,s=c.Deferred();return i.length>0&&i.length<3||!n?s.reject(this._default_items):this._cache["".concat(n).concat(i)]?s.resolve(this._cache["".concat(n).concat(i)]):r.default.searchElements(n,i).then((function(e){var r=a().map(e,(function(e){var t=(0,o.catalogElementName)(e.name,e.id,e.catalog_id);return{id:e.id,element_type:APP.element_types.catalog_elements,catalog_id:n,name:t}}));t._cache["".concat(n).concat(i)]=r,s.resolve(r)}),s.reject),s.promise()}}],i=[{key:"controlClassName",get:function(){return"js-control-linked-entity"}}],n&&u(t.prototype,n),i&&u(t,i),g}(l.default);const g=f.extend(f);var m="../build/transpiled/interface/controls/linked_entity";window.define(m,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([m])},790857:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n(629133),a=n.n(i),r=n(210734);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,i=c(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i.apply(this,arguments)}return t=s,n=[{key:"events",value:function(){return a().extend({},a().result(r.default.prototype,"events",{}),{"input input":"stopPropagationOnDefaultSuggest"})}},{key:"_classes",value:function(){return{suggest_item:"control--suggest--list--item",suggest_list:"js-control--suggest--list"}}},{key:"initialize",value:function(){r.default.prototype.initialize.apply(this,arguments),this._cache={},this._onValueChangedDebounced=a().debounce(a().bind(this._onValueChanged,this),500)}},{key:"destroy",value:function(){this._cache={},r.default.prototype.destroy.apply(this,arguments)}},{key:"stopPropagationOnDefaultSuggest",value:function(e){e.stopPropagation()}},{key:"autoSelectFirstItem",value:function(){this._elem("name").trigger("suggest:changed",[this._findElem("suggest_list").find("li:first")])}},{key:"getElementsToSet",value:function(e){switch(this._data.searchIn){case"companies":return a().filter(e,(function(e){return parseInt(e.element_type)===APP.element_types.companies}));case"contacts":return a().filter(e,(function(e){return parseInt(e.element_type)===APP.element_types.contacts}));case"contacts_and_companies":return a().filter(e,(function(e){return a().includes([APP.element_types.companies,APP.element_types.contacts],parseInt(e.element_type))}));default:return[]}}},{key:"_onValueChanged",value:function(){}}],n&&o(t.prototype,n),s}(r.default),d="../build/transpiled/interface/controls/linked_entity_base";window.define(d,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([d])},830666:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n(629133),a=n.n(i),r=n(460159),o=n.n(r),s=n(161320),l=n.n(s),c=n(859200),u=n(123241),d=n(661533);const _=u.default.extend({controlClassName:"js-control-loss-reason-dropdown_list",_classes:function(){return a().extend({},a().result(u.default.prototype,"_classes",{}),{name:"note-lead__loss-reason"})},events:function(){return a().extend({},a().result(u.default.prototype,"events",{}),{mouseenter:"_onMouseEnter",mouseleave:"_onMouseLeave","click .cell-edit-buttons__loss-reason":"_onEditButtonClick",click:"",'change input[type="radio"]':""})},delegateEvents:function(){if((0,c.getRights)("leads","edit"))return o()._preload(["/tmpl/list/cells_edit/buttons.twig"])().then(a().bind(u.default.prototype.delegateEvents,this))},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];u.default.prototype.initialize.apply(this,t),this._$window.on("resize".concat(this.ns),a().bind(this._onWindowResize,this))},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.$list&&this.$list.remove(),u.default.prototype.destroy.apply(this,t)},_onEditButtonClick:function(e){e.stopPropagation(),this._$document.trigger({type:"controls:hide",target:this.$el}),this._initList()},_onReasonChange:function(){var e=this.$el.closest(".js-list-row");u.default.prototype._onReasonChange.apply(this,arguments),d.ajax({url:"/ajax/v1/leads/set",type:"POST",dataType:"json",headers:{"Content-Type":"application/json"},data:JSON.stringify({request:{leads:{update:[{id:e.attr("data-id"),last_modified:l()().unix(),loss_reason_id:this._id}]}}})})},_onMouseEnter:function(){var e=this.$el.closest(".list-row__cell-status");e.length&&(e.addClass("list-row__cell-template-status_loss-reason-active"),this.$edit_button||this.$el.append(this.$edit_button=d(o()({ref:"/tmpl/list/cells_edit/buttons.twig"}).render({class_name:"cell-edit-buttons__loss-reason"}))),this._positionEditButton())},_onMouseLeave:function(){var e=this.$el.closest(".list-row__cell-status");e.length&&(this.$edit_button&&(this.$edit_button.remove(),delete this.$edit_button),e.removeClass("list-row__cell-template-status_loss-reason-active"))},_onWindowResize:function(){this.$list&&this.$list.css({top:this.$el.offset().top+39,left:this.$el.offset().left-this._getListHolder().offset().left+1,maxWidth:this._getListHolder().width()-(this.$el.offset().left+32)})},_positionEditButton:function(){var e=this.$el.closest(".content-table__item__inner"),t=e.width(),n=e.find(".leads__status-label").outerWidth()||e.find(".note-lead__container").outerWidth();n+this.$el.find(".note-lead__loss-reason").width()+this.$edit_button.outerWidth()+29<t?this.$edit_button.css("left","".concat(this.$el.find(".note-lead__loss-reason").width()+3,"px")):this.$edit_button.css("left","".concat(t-n-27,"px"))},_onLoad:function(){this._renderList(this._getListHolder()),this.$el.addClass("note-lead__pipe-container_loss-reason_in-select"),this._onWindowResize(),this.$list.css({top:this.$el.offset().top+39,left:this.$el.offset().left-this._getListHolder().offset().left}).on("change",'input[type="radio"]',a().bind(this._onReasonChange,this))},_getListHolder:function(){return this._$list_holder||(this._$list_holder=d(".list__body-right")),this._$list_holder},_onHide:function(){this.$el.removeClass("note-lead__pipe-container_loss-reason_in-select"),this._getListHolder().find(".list-row__cell-edit-buttons").remove()}});var h="../build/transpiled/interface/controls/loss_reason/in_list";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])},123241:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n(661533),a=n.n(i),r=n(629133),o=n.n(r),s=n(460159),l=n.n(s),c=n(656580),u=n(445368),d=n(210734);const _=d.default.extend({controlClassName:"js-control-loss-reason-dropdown",_classes:function(){return{name:"pipeline-select-view__loss-reason-name"}},document_events:{"controls:hide:private":"_onOutsideClick"},events:{"click .pipeline-select-view__loss-reason-name":"_onListOpenClick","controls:loss-reason:init":"_initList",'change input[type="radio"]':"_onReasonChange"},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];d.default.prototype.initialize.apply(this,t),this._reasons=null,this._setId(this.$el.attr("data-id")||0,{silent:!0})},_onListOpenClick:function(e){var t=!this._opened;e.stopPropagation(),this._$document.trigger({type:"controls:hide",target:this.el}),t&&this._initList()},_onReasonChange:function(e){var t=a()(e.currentTarget).val(),n=o().find(this._reasons,(function(e){return e.id===parseInt(t)}));this._findElem("name").text(n?n.name:(0,u.i18n)("No reason")),this._$document.trigger({type:"controls:hide",target:this.$el}),this._setId(t)},_onOutsideClick:function(){this.$list&&this._opened&&(this.$list.remove(),this.$list=null,this._onHide(),this._opened=!1)},_setId:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._id=e,this.$el.attr("data-id",this._id),t.silent||this.$('input[type="hidden"]').val(this._id).trigger("change")},_initList:function(){var e=this;e._loading||(this._opened=!0,this._reasons?this._onLoad():(e._loading=!0,Promise.all([c.default.getLossReasons(),l()._preload(["/tmpl/leads/loss_reason/items.twig"])()]).then((function(t){e._reasons=o().sortBy(t[0]._embedded.items,"sort"),e._onLoad(),e._loading=!1}),(function(){e._loading=!1}))))},_onLoad:function(){var e=this.$el.closest(".pipeline-select-view").width();this._renderList(this.$el),e<350?this.$list.css("max-width",e):this.$list.css("max-width",350)},_renderList:function(e){this.$list||(this.$list=a()(l()({ref:"/tmpl/leads/loss_reason/items.twig"}).render({selected:this._id,items:this._reasons,is_enabled:APP.constant("loss_reason_enabled")})),this.$list.on("click",(function(e){e.stopPropagation()})),e.prepend(this.$list))},_onHide:o().noop});var h="../build/transpiled/interface/controls/loss_reason/index";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])},749495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Numeric:()=>o,NumericFloat:()=>s,NumericFloatNegative:()=>u,NumericFloatPrice:()=>l,NumericFloatQuantity:()=>c,Percentage:()=>_,Zip:()=>d});var i=n(629133),a=n.n(i),r=n(282140),o=r.default.extend({controlClassName:"js-control-allow-numeric",check_regex:/^[\d]+$/,_elem:function(e){return"input"===e?this.$el:r.default.prototype._elem.apply(this,arguments)},events:{keydown:"_fixCursorPosOnKeydown",input:"_formatOnInput"},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.default.prototype.initialize.apply(this,t),this._allow_zero=!a().isUndefined(this.$el.attr("data-allow-zero")),this._setPrevValue()},_setPrevValue:function(){this._prev_value=this.$el.val()},_getPrevValue:function(){return this._prev_value},_prepareValue:function(e){var t=e;return t&&!this.check_regex.test(t)?this._getPrevValue():(this._allow_zero&&t.match(/^[0]{2,}$/)&&(t=t.replace(/[0]{2,}/,"0")),t)},_formatOnInput:function(){var e=this.$el.val(),t=this._prepareValue(e);t!==e&&this.$el.val(t).trigger("change"),this._setPrevValue(),this._setCursorPos()}}),s=o.extend({controlClassName:"js-control-allow-numeric-float",check_regex:/^([1-9][0-9]*|0)?([.,/])?([\d]+)?$/,_prepareValue:function(e){var t;return e=e.replace(/[,/]/g,"."),a().contains([".","-."],e)&&((t=e.split("")).splice(-1,0,"0"),e=t.join("")),o.prototype._prepareValue.call(this,e)}}),l=s.extend({controlClassName:"js-control-allow-numeric-float-price",check_regex:/^([1-9][0-9]*|0)?([.,/])?([\d]{0,2})?$/,_prepareValue:function(e){var t=e.replace(/^0+(\d{1,})/,"$1");return s.prototype._prepareValue.call(this,t)}}),c=s.extend({controlClassName:"js-control-allow-numeric-float-quantity",check_regex:/^([1-9][0-9]*|0)?([.,/])?([\d]{0,3})?$/}),u=s.extend({controlClassName:"js-control-allow-numeric-negative",check_regex:/^-?([1-9][0-9]*|0)?([.,/])?([\d]+)?$/,events:function(){var e=o.prototype.events;return a().extend(e,{blur:"_formatOnBlur"})},_formatOnBlur:function(){"-"===this.$el.val()&&this.$el.val("-1").trigger("change")}}),d=o.extend({controlClassName:"js-control-allow-zip",check_regex:/^[a-zA-Z0-9]+$/}),_=o.extend({controlClassName:"js-control-allow-percentage",check_regex:/^((100)|([1-9]\d)|(\d))$/}),h="../build/transpiled/interface/controls/numeric";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])},51623:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n(629133),a=n.n(i),r=n(210734),o=n(419982),s=n(661533);const l=r.default.extend({controlClassName:"js-control-org-legal-name",events:function(){var e={"input input":"stopPropagationOnDefaultSuggest","focus input":"_onFocused","blur input":"_onBlurred"};return e["input ".concat(this._selector("name"))]="_onValueChanged",e["suggest:changed ".concat(this._selector("name"))]="_onItemChoosed",a().extend({},a().result(r.default.prototype,"events",{}),e)},_selectors:function(){return{name:".js-org-legal-name-name",line1:".js-org-legal-name-line1",line2:".js-org-legal-name-line2",city:".js-org-legal-name-city",state:".js-org-legal-name-state",zip:".js-org-legal-name-zip",country:".js-org-legal-name-country",external_id:".js-org-legal-name-external"}},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.default.prototype.initialize.apply(this,t),this.$("input:focus").length&&this._onFocused()},stopPropagationOnDefaultSuggest:function(e){e.stopPropagation()},_onValueChanged:a().debounce((function(e){var t=s(e.currentTarget),n=t.closest(".control--suggest").find(".js-control--suggest--list"),i=t.val().trim();this._elem("external_id").val("").trigger("change"),t.attr("data-val",i),i?this.makeRequest({query:i,query_type:t.attr("data-query-type")}).then(a().bind((function(e){var t=[];e&&e.length&&(t=a().map(e,(function(e){return{id:e.inn,additional_data:['data-name="'.concat(a().escape(e.name),'"'),'data-line1="'.concat(a().escape(e.line1),'"'),'data-line2="'.concat(a().escape(e.line2),'"'),'data-city="'.concat(a().escape(e.city),'"'),'data-state="'.concat(a().escape(e.state),'"'),'data-zip="'.concat(a().escape(e.zip),'"'),'data-country="'.concat(a().escape(e.country),'"'),'data-external="'.concat(a().escape(e.external_id),'"')].join(" "),text:e.name}}))),n.trigger("suggest:reset",[t,""])}),this)):n.trigger("suggest:reset",[[],""])}),500),_onItemChoosed:function(e,t){this._elem("name").val(t.attr("data-name")).trigger("change"),this._elem("line1").val(t.attr("data-line1")).trigger("change"),this._elem("line2").val(t.attr("data-line2")).trigger("change"),this._elem("city").val(t.attr("data-city")).trigger("change"),this._elem("state").val(t.attr("data-state")).trigger("change"),this._elem("zip").val(t.attr("data-zip")).trigger("change"),this._elem("country").val(t.attr("data-country")).trigger("change"),this._elem("external_id").val(t.attr("data-external")).trigger("change"),"null"===t.attr("data-line1")&&t.attr("data-line1","..."),"null"===t.attr("data-line2")&&t.attr("data-line2","..."),"null"===t.attr("data-city")&&t.attr("data-city","..."),"null"===t.attr("data-state")&&t.attr("data-state","..."),"null"===t.attr("data-zip")&&t.attr("data-zip","..."),"null"===t.attr("data-country")&&t.attr("data-country","...");var n=s(".linked-form__field-smart_address").children(".linked-form__field__value").children(".control-address__wrapper"),i=n.find('[data-field-type="address_line_1"] input')[0],a=n.find('[data-field-type="address_line_2"] input')[0],r=n.find('[data-field-type="city"] input')[0],l=n.find('[data-field-type="state"] input')[0],c=n.find('[data-field-type="zip"] input')[0],u=n.find('[data-field-type="country"]').children(".control-address__select").children(".control--select--input")[0];s(i).val(t.attr("data-line1")).trigger("change").trigger("controls:change:visual"),s(a).val(t.attr("data-line2")).trigger("change").trigger("controls:change:visual"),s(r).val(t.attr("data-city")).trigger("change").trigger("controls:change:visual"),s(l).val(t.attr("data-state")).trigger("change").trigger("controls:change:visual"),s(c).val(t.attr("data-zip")).trigger("change").trigger("controls:change:visual");var d=o.default,_="".concat(t.attr("data-country"));s(u).val(d[_]).trigger("change").trigger("controls:change:visual")},_onFocused:function(){clearTimeout(this.blur_timeout)},_onBlurred:function(e){var t=s(e.target).closest(".control--suggest").find(".js-control--suggest--list li");e.target.value.trim()&&1===t.length&&t.trigger("suggest:item:click-silent"),this.blur_timeout=setTimeout(a().bind((function(){this.$el.removeClass("org-legal-name_focused")}),this),100)},makeRequest:function(e){var t=s.Deferred();return APP.widgets.legal_handlers&&APP.widgets.legal_handlers.length&&a().isFunction(APP.widgets.legal_handlers[0])?APP.widgets.legal_handlers[0](e):(t.reject([]),t.promise())}});var c="../build/transpiled/interface/controls/org_legal_name";window.define(c,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([c])},433264:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var i=n(661533),a=n.n(i),r=n(629133),o=n.n(r),s=n(926168),l=n(790857);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},_(e,t,n||e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,i,r=g(c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),r.apply(this,arguments)}return t=c,n=[{key:"events",value:function(){var e;return o().extend({},_(h(c.prototype),"events",this).call(this),(d(e={"focus input":"_onFocused","blur input":"_onBlurred"},"input ".concat(this._selector("name")),"_onValueChanged"),d(e,"input ".concat(this._selector("address")),"_onValueChanged"),d(e,"input ".concat(this._selector("email")),"_onValueChanged"),d(e,"input ".concat(this._selector("phone")),"_onValueChanged"),d(e,"input ".concat(this._selector("input")),"_onValueChanged"),d(e,"suggest:changed ".concat(this._selector("name")),"_onItemChosen"),d(e,"suggest:changed ".concat(this._selector("address")),"_onItemChosen"),d(e,"suggest:changed ".concat(this._selector("input")),"_onItemChosen"),d(e,"mousedown ".concat(this._selector("suggest_item")),"_onSuggestItemMouseDown"),d(e,"payer:set-defaults ".concat(this._selector("name")),"_onDefaultItemsSet"),d(e,"payer:autoselect-first ".concat(this._selector("name")),(function(){l.default.prototype.autoSelectFirstItem.call(this)})),e))}},{key:"_classes",value:function(){return o().extend({},_(h(c.prototype),"_classes",this).call(this),{name:"js-payer-name",input:"js-payer-input",address:"js-payer-address",phone:"js-payer-phone",email:"js-payer-email",vat_id:"js-payer-vat_id",kpp:"js-payer-kpp",tax_registration_reason_code:"js-payer-tax_registration_reason_code",entity_id:"js-payer-id",entity_type:"js-payer-entity-type"})}},{key:"initialize",value:function(){_(h(c.prototype),"initialize",this).apply(this,arguments),this._default_items=[],this.$("input:focus").length&&this._onFocused()}},{key:"destroy",value:function(){this._default_items=[],_(h(c.prototype),"destroy",this).apply(this,arguments)}},{key:"_onDefaultItemsSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._default_items=_(h(c.prototype),"getElementsToSet",this).call(this,t),this._resetItems(this._default_items)}},{key:"_resetItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this._findElem("suggest_list"),n=o().map(e,(function(e){var t=e.id,n=e.element_type,i=e.name,a=e.address,r=e.company_name,l=o().escape(i),c=o().escape(a),u=o().escape(r),d=['data-entity-id="'.concat(t,'"'),'data-entity-type="'.concat((0,s.convertElementType)(n,"string"),'"')],_=['data-name="'.concat(l,'"'),'data-address="'.concat(c,'"')].concat(f(d));switch(Number(n)){case APP.element_types.companies:var h=e.legal_entity,p=h.name,g=h.address,m=h.vat_id,v=h.kpp,y=h.tax_registration_reason_code;_=['data-name="'.concat(p?o().escape(p):l,'"'),'data-address="'.concat(g?o().escape(g):c,'"'),'data-vat_id="'.concat(o().escape(m),'"'),'data-kpp="'.concat(o().escape(v),'"'),'data-tax_registration_reason_code="'.concat(o().escape(y),'"')].concat(f(d));break;case APP.element_types.contacts:var b=e.contact_info,w=b.phone,C=b.email;_=f(_).concat(['data-phone="'.concat(o().escape(w),'"'),'data-email="'.concat(o().escape(C),'"')])}return{id:t,additional_data:_.join(" "),text:[l,u?', <span class="u-text-secondary">'.concat(u,"</span>"):""].join(""),raw_highlight:!0}}));t.trigger("suggest:reset",[n,""])}},{key:"_onFocused",value:function(e){var t=this.$el.height();clearTimeout(this.blur_timeout),this.$el.addClass("payer_focused");var n=this.$el.height();t!==n&&this.$el.css("margin-bottom",-n+t+"px"),this._current_value=a()(e.currentTarget).val(),this._current_value.length||this._onValueChanged(e)}},{key:"_onBlurred",value:function(e){var t=this,n=a()(e.currentTarget),i=n.attr("data-query-type"),r=this._elem("entity_type").val();n.val()!==this._current_value&&o().contains(["contacts_and_companies","contacts","companies"],r)&&("name"===i&&0===n.val().length&&this._current_value.length>0&&this._elem("input").val("").trigger("change"),"contacts"===r&&this._elem("input").closest(".payer__item").addClass("hidden"),this._elem("entity_id").val("").trigger("change"),this._elem("entity_type").val("").trigger("change")),this.blur_timeout=setTimeout((function(){t.$el.removeClass("payer_focused"),t.$el.css("margin-bottom",0)}),100)}},{key:"_onValueChanged",value:function(e){var t=a()(e.currentTarget),n=t.closest(".control--suggest").find(".js-control--suggest--list"),i=t.val().trim(),r=this.$el.attr("data-search-in");if(r||!t.hasClass(this._class("name"))){t.attr("data-val",i);var s=!1;o().contains(["contacts_and_companies","contacts","companies"],r)&&t.hasClass(this._class("name"))&&(s=this._makeContactsRequest({entity:r,term:i})),s?s.then((function(e){var t=o().map(e,(function(e){var t=o().escape(e.id),n=o().escape(e.name),i=o().escape(e.address),a=o().escape(e.type),r=o().escape(e.company_name);return{id:e.id,additional_data:['data-name="'.concat(n,'"'),'data-address="'.concat(i,'"'),'data-entity-id="'.concat(t,'"'),'data-entity-type="'.concat(a,'"')].join(" "),text:[n,r?', <span class="u-text-secondary">'+r+"</span>":""].join(""),raw_highlight:!0}}));n.trigger("suggest:reset",[t,""])})):(n.trigger("suggest:reset",[[],""]),this._elem("input").closest(".payer__item").removeClass("hidden"))}}},{key:"_makeContactsRequest",value:function(e){var t=this,n=e.entity,i=e.term,r=void 0===i?"":i,s=a().Deferred();if(r.length>=3||0===r.length){var l=n+"_"+r,c="?type=".concat(n);"contacts_and_companies"===n&&(c="?type=contacts&contacts=all"),this._cache[l]?s.resolve(this._cache[l]):a().ajax({url:"/ajax/search/".concat(c,"&query_type=name").concat(r?"&q="+r:"")}).then((function(e){var i=e.status,a=e.result;if("ok"!==i)return s.reject(a),void("companies"===n&&t._elem("input").closest(".payer__item").removeClass("hidden"));t._cache[l]=o().map(a||[],(function(e){return{id:e.id,type:e.element_type===APP.element_types.contacts?"contacts":"companies",name:e.name,address:e.address||"",company_name:e.company_name}})),s.resolve(t._cache[l])}),s.reject)}else s.reject([]),"companies"===n&&this._elem("input").closest(".payer__item").removeClass("hidden");return s.promise()}},{key:"_onItemChosen",value:function(e,t){var n=t.attr("data-entity-type");this._elem("input").closest(".payer__item").toggleClass("hidden","contacts"===n),this._elem("vat_id").closest(".payer__item").toggleClass("hidden","contacts"===n),this._elem("kpp").closest(".payer__item").toggleClass("hidden","contacts"===n),this._elem("tax_registration_reason_code").closest(".payer__item").toggleClass("hidden","contacts"===n),this._elem("name").val(t.attr("data-name")).trigger("change"),this._elem("address").val(t.attr("data-address")).trigger("change"),this._elem("phone").val(t.attr("data-phone")).trigger("change"),this._elem("email").val(t.attr("data-email")).trigger("change"),this._elem("vat_id").val(t.attr("data-vat_id")||"").trigger("change"),this._elem("kpp").val(t.attr("data-kpp")||"").trigger("change"),this._elem("tax_registration_reason_code").val(t.attr("data-tax_registration_reason_code")||"").trigger("change"),this._elem("input").val("").trigger("change"),this._elem("entity_id").val(t.attr("data-entity-id")).trigger("change"),this._elem("entity_type").val(n).trigger("change")}},{key:"_onSuggestItemMouseDown",value:function(e){a()(e.currentTarget).trigger("suggest:item:click-silent")}}],i=[{key:"controlClassName",get:function(){return"js-control-payer"}}],n&&u(t.prototype,n),i&&u(t,i),c}(l.default);const v=m.extend(m);var y="../build/transpiled/interface/controls/payer";window.define(y,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([y])},105512:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n(661533),a=n.n(i),r=n(629133),o=n.n(r),s=n(162262),l=n.n(s),c=n(445368),u=n(313445),d=n(89758);const _=u.default.extend({controlClassName:"js-control-pipeline-select_multiple-default",document_events:function(){var e={};return e["change ".concat(this._selector("inner")," ").concat(this._selector("pipeline_checkbox"))]="onCheckAllPipelineStatuses",e["change ".concat(this._selector("inner")," ").concat(this._selector("status_checkbox"))]="onStatusCheckboxChange",o().extend({},o().result(u.default.prototype,"document_events",{}),e)},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.empty_caption=!0,u.default.prototype.initialize.apply(this,t),l().mixin(this,d.default)},updateFoldedCaption:function(e,t){var n=(this._$inner||this.$el.children(this._selector("inner"))).find(this._selector("holder")).find(this._selector("pipeline_caption_text"));this.empty_caption=o().isUndefined(t)?this.empty_caption:t,this.empty_caption&&n.attr("data-folded-title",(0,c.i18n)("Active stages"))},onStatusCheckboxChange:function(e){var t=a()(e.currentTarget).closest(this._selector("pipeline")),n=t.find(this._selector("status_checkbox")),i=t.find(this._selector("pipeline_checkbox")),r=a().makeArray(this.$('input:checked[name="filter[status_id][]"], input:checked[name^="filter[pipe]"]')).filter((function(e){return e.checked})).map((function(e){return{name:e.name,value:e.value}}));switch(i.trigger("controls:checkbox:minus",[!1]),n.filter((function(){return this.checked})).length){case n.length:i[0].checked=!0;break;case 0:i[0].checked=!1;break;default:i.trigger("controls:checkbox:minus",[!0])}o().isEqual(r,this.getFilterStatuses())?this.updateFoldedCaption({},!0):this._updateFoldedCaption()}});var h="../build/transpiled/interface/controls/pipeline_select/multiple_default";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])},266569:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(629133),a=n.n(i),r=n(445368),o=n(105512),s=n(661533);n(368439);var l={"filter[pipe][-1]":(0,r.i18n)("No active leads linked"),"filter[pipe][-2]":(0,r.i18n)("No leads linked")};const c=o.default.extend({controlClassName:"js-control-pipeline-select-without-leads",_selectors:function(){return a().extend({},a().result(o.default.prototype,"_selectors",{}),{wo_leads_checkbox:".js-without-leads-filter-checkbox input",wo_leads_holder:".pipeline-select__without-leads-filter"})},document_events:function(){var e=a().extend({},a().result(o.default.prototype,"document_events",{}));return e["change ".concat(this._selector("wo_leads_checkbox"))]="_onWOLeadsCheckboxChange",e},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._checked_wo_leads=[],o.default.prototype.initialize.apply(this,t)},_onWOLeadsCheckboxChange:function(e){var t=this,n=s(e.currentTarget).closest(this._selector("wo_leads_holder"));this._checked_wo_leads=[],n.find(this._selector("wo_leads_checkbox")).each((function(e,n){n.checked&&t._checked_wo_leads.push(l[n.name])})),this._updateFoldedCaptionThrottled()},_captionCentrify:function(){o.default.prototype._captionCentrify.apply(this,arguments),this._$inner.scrollTop(this._$inner.scrollTop()+29)},_getLeadsPseudoPipelineTitle:function(e,t){var n=[e];return this._checked_wo_leads.length&&(n=t?a().union(this._checked_wo_leads,n):this._checked_wo_leads),(0,r.capitalize)(n.join(", ").toLowerCase())},_getDefaultMultipleTitle:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._getLeadsPseudoPipelineTitle(o.default.prototype._getDefaultMultipleTitle.apply(this,t),!1)},_getFilledMultipleTitle:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._getLeadsPseudoPipelineTitle(o.default.prototype._getFilledMultipleTitle.apply(this,t),!0)},_afterHide:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.default.prototype._afterHide.apply(this,t),this._elem("wo_leads_checkbox").trigger("change")}});var u="../build/transpiled/interface/controls/pipeline_select/without_leads_filter";window.define(u,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([u])},771205:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(210734),a=n(7107),r=n(349384),o=n(652101),s=n(736478),l=n(285304);const c=i.default.extend({controlClassName:"control--select",initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var c=!this.$el.hasClass("control--select_react"),u=a.default;i.default.prototype.initialize.apply(this,t),c&&(this.$el.attr("data-save-overflow")&&(u=r.default),this.$el.hasClass("control--select-with-subtext")&&(u=o.default),this.$el.hasClass("js-select-without-blur")&&(u=s.SelectWithoutBlur),this.$el.hasClass("control--select-huge")&&(u=l.default),this._addComponent(u,{el:this.el}))}});var u="../build/transpiled/interface/controls/select/index";window.define(u,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([u])},285304:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(460159),a=n.n(i),r=n(7107);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=r.default.extend({open:function(){if(!this.$fake_script){this.$fake_script=this.$el.find("script");try{var e=JSON.parse(this.$fake_script.html());this.$el.find("ul").replaceWith(a()({ref:"/tmpl/controls/select/inner.twig"}).render((t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){o(e,t,n[t])}))}return e}({},e),n=null!=(n={exclude_button_input:!0})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t))),this._dropElemCache("list"),this.$fake_script.remove()}catch(e){}}var t,n;r.default.prototype.open.apply(this,arguments)}})},652101:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(629133),a=n.n(i),r=n(7107),o=n(661533);const s=r.default.extend({onInputChange:function(e){var t,n=(this._elem("input").val()||"").toString(),i=this._elem("list").find(this._selector("item_by_value",n));i.length||(i=this._elem("list").find(this._selector("item_by_value",n.replace("+"," ")))),this._elem("list").find(this._selector("item_selected")).removeClass(this._class("item_selected")),i.length?t=i:((t=this._elem("list").find(this._selector("item_default"))).length||(t=this._elem("list").find("".concat(this._selector("item"),":first"))),this._elem("input").val(t.attr("data-value"))),t.addClass(this._class("item_selected"));var r=t.attr("data-bg-color"),s=this._elem("button").css("background",r||"").toggleClass("control--select--button-colored",!!r).attr("data-value",t.attr("data-value")).children();a().each(s,(function(e){var n=o(e);n.hasClass("control--select--button-inner")&&n.text(t.find(".control--select--list--item-inner").text()),n.hasClass("control--select--button-inner-small")&&n.text(t.attr("data-small-text"))})),"controls:change:visual"!==e.type&&this._elem("input").change()}})},736478:(e,t,n)=>{"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},a(e,t,n||e)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}n.r(t),n.d(t,{SelectWithoutBlur:()=>l});var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(c,e);var t,n,l=s(c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"initialize",value:function(e){a(r(c.prototype),"initialize",this).call(this,e||{})}},{key:"onButtonOpenerBlur",value:function(e){e.stopPropagation()}}])&&i(t.prototype,n),c}(n(7107).default)},13745:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(661533),a=n.n(i),r=n(210734);const o=r.default.extend({controlClassName:"control-address",_in_edit:null,_classes:function(){return{focused:"control-address__wrapper_focused",blurred:"control-address__wrapper"}},_selectors:function(){return{field_with_input:".control-address__field input",field_by_type:'.control-address__field[data-field-type="%s"]'}},events:{click:"startEdit","focus :input":"startEdit","address:edit":"startEdit",'change .control-address__field[data-field-type="country"] input':"checkChosenCountry"},document_events:{"controls:hide:private":"onHideControls","escape:keydown":"onHideControls","blur .control-address__wrapper_focused":"onHideControls"},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.default.prototype.initialize.apply(this,t),this.checkChosenCountry()},onHideControls:function(e,t){var n,i=a()(e.target);if(n="focusout"===e.type?e.relatedTarget?a()(e.relatedTarget).closest(".control-address"):this.$el:i.closest(".control-address"),"suggest"!==t)return!n.length||n.length&&!n.get(0).isSameNode(this.el)?this.stopEdit():void 0},startEdit:function(){this._in_edit||(this._in_edit=!0,this.checkChosenCountry().changePlaceholders({num:1}),this.$el.removeClass(this._classes().blurred).addClass(this._classes().focused))},stopEdit:function(){this._in_edit=!1,this.checkChosenCountry().changePlaceholders({num:2}),this.$el.removeClass(this._classes().focused).addClass(this._classes().blurred)},changePlaceholders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._findElem("field_with_input").each((function(t,n){var i=a()(n);i.attr("placeholder",i.attr("data-placeholder-".concat(e.num)))})),this},checkChosenCountry:function(){var e=this._findElem("field_by_type","country"),t=e.find(".control--select"),n=e.find("input");return t.toggleClass("not_empty",!!n.val()),this}});var s="../build/transpiled/interface/controls/smart_address";window.define(s,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([s])},74956:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n(629133),a=n.n(i),r=n(162262),o=n.n(r),s=n(445368),l=n(447366),c=n(89758),u=n(661533);n(368439),n(997150);const d=l.default.extend({controlClassName:"js-control-checkboxes_dropdown-statuses",initialize:function(){o().mixin(this,c.default),l.default.prototype.initialize.apply(this,arguments),this.setTitle({})},setTitle:function(){var e=this._findElem("checkboxes"),t=this._findElem("checkboxes_checked"),n=u.makeArray(this.$('input:checked[name="filter[status_id][]"], input:checked[name^="filter[pipe]"]')).filter((function(e){return e.checked})).map((function(e){return{name:e.name,value:e.value}}));a().isEqual(n,this.getFilterStatuses())?this._updateTitle([(0,s.i18n)("Active stages")]):(this._updateMasterMinus(t,e),this._setTitle(t,e))}});var _="../build/transpiled/interface/controls/statuses_select";window.define(_,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([_])},990108:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var i,a,r,o,s=n(661533),l=n.n(s),c=n(629133),u=n.n(c),d=n(250202),_=n.n(d),h=n(445368),p=n(577486),f=_().PhoneNumberFormat,g=_().PhoneNumberUtil.getInstance(),m=["digital-pipelines__edit-item-exec-time","digital-pipeline__edit-event-recurrent-time"],v={cache:{}},y={},b=l()(document),w=!1,C=/[^\d]/gi;v.filterData=function(e){var t=[],n=!0,i=e.val,r=v.cache[e.cache_id],o="n"===e.$this.attr("data-enable-filter");return r?(a=r,n=!1,r.expire<(new Date).getTime()&&(v.cache[e.cache_id]=void 0,r=void 0)):a&&a.cache_type_id===e.cache_type_id&&i.indexOf(a.val)>=0&&(r=a,u().keys(r.result).length||(n=!1)),r&&r.result&&(t=o?r.result:u().filter(r.result,(function(t){var n=(0,h.stripTags)(t.name||"").replace(/ё/gi,"е").toLowerCase(),a=u().compact(i.toLowerCase().split(" ")),r=[];switch(e.type){case"email":return(n=t.email?((0,h.stripTags)(u().isArray(t.email)?t.email.join(","):t.email)||"").toString().toLowerCase():"").indexOf(i.toLowerCase())>=0;case"phone":return(n=t.phone?(0,h.stripTags)(u().isArray(t.phone)?t.phone.join(","):t.phone).replace(/[^\d]/gi,""):"").indexOf(i.toLowerCase())>=0;case"leads_concat":return(r=u().filter(a,(function(e){return t.text!==t.text.replace(new p.UnsafeRegExp("(\\s|[\\>\\@\\.\\)]|^)([^a-zа-яё0-9]*)(".concat(e,")"),"gi"),"")}))).length===a.length;case"sku":return(t=u().find(t.custom_fields,(function(e){return"SKU"===e.code})))&&(n=t.values[0].value,r=u().filter(a,(function(e){return e=(0,h.escapeRegExp)(e),n!==n.replace(new p.UnsafeRegExp("(\\s|^)*([^a-zа-яё0-9]*)(".concat(e,")"),"gi"),"")}))),r.length===a.length;default:return(r=u().filter(a,(function(e){return e=(0,h.escapeRegExp)(e),n!==n.replace(new p.UnsafeRegExp("(\\s|^)*([^a-zа-яё0-9]*)(".concat(e,")"),"gi"),"")}))).length===a.length}}))).length&&(n=!1,v.last_ajax&&v.last_ajax.abort()),{need_ajax:n,result:t.slice(0,50),status:"ok"}},v.highlight=function(e,t,n){if(!e||!t)return t;var i=u().compact(e.trim().split(" ")),a="";switch(n){case"phone":a=e.replace(/([+*?)(=\-_&^:;%$#!{}|'"/.,@\\])/gi,""),a=e.length<50?a.replace(/(.)/gi,"$1[^\\d]*?").slice(0,-7):a,t=t.replace(new p.UnsafeRegExp("(".concat(a.toLowerCase(),")"),"gi"),"<b>$1</b>");break;case"email":a=e.replace(/(\\)/gi,""),t=t.replace(new p.UnsafeRegExp("(".concat(a.toLowerCase(),")"),"gi"),"<b>$1</b>");break;default:u().each(i,(function(e){e=(0,h.escapeRegExp)(e),t=t.replace(new p.UnsafeRegExp("(?![^<]*?>|[^&]\\w+;)(?![^<]*?>)(".concat(e.toLowerCase(),")(?![^<]*?>)"),"gi"),"<b>$1</b>")}))}return t},v.getSuggests=function(e){var t=v.filterData({cache_id:v.generateCacheId(e.$this,e.val),cache_type_id:v.generateCacheId(e.$this),val:e.val,type:e.type,$this:e.$this});t.need_ajax&&!t.result.length||v.processData(t,e),t.need_ajax&&v.throttledRequest(e)},v.processData=function(e,t){return(t.skip_val||v.getVal(t.$this))&&(v.hideLoader(t.$parent),t.$this.trigger("suggest:loaded",[e,t.$list])),e},v.showLoader=function(e){e.length&&(e.hasClass("control--suggest-loading")||e.addClass("control--suggest-loading").append('<span class="control--suggest--loader spinner-icon"></span>'))},v.hideLoader=function(e){e.length&&e.removeClass("control--suggest-loading").children(".control--suggest--loader").remove()},v.sendRequest=function(e){var t;v.last_ajax&&u().isUndefined(v.last_ajax.status)&&v.last_ajax.abort(),o&&(v.showLoader(e.$parent),e.$this.attr("data-widget")?(t=e.$this.attr("data-widget"),u().isFunction(APP.widgets.list[t].callbacks.searchDataInCard)&&APP.widgets.list[t].callbacks.searchDataInCard(e.val,APP.data.current_card.element_type,APP.data.current_card.id).then(u().bind((function(t){v.prepareData(e,{result:t||""})}),this)).catch(u().bind((function(e){console.error(e)}),this))):v.last_ajax=l().ajax(u().extend({url:e.$this.attr("data-url"),data:e.$this.attr("data-params").toString().replace("#q#",encodeURIComponent(e.val)),val:e.val,dataType:"json"},e.$this.attr("data-headers")?{headers:JSON.parse(e.$this.attr("data-headers"))}:{})).done((function(t,n){t&&t.response&&t.response.catalog_elements&&(t={result:t.response.catalog_elements}),t&&t._embedded&&t._embedded.elements&&(t={result:t._embedded.elements}),t||"nocontent"!==n||(t={}),v.prepareData(e,t)})).fail((function(){v.hideLoader(e.$parent)})))},v.prepareData=function(e,t){var n=v.generateCacheId(e.$this,e.val),i=v.generateCacheId(e.$this),a=v.getVal(e.$this);e.no_filter?v.processData(t,e):(v.cache[n]=u().extend(t,{val:e.val,expire:(new Date).getTime()+3e5}),v.processData(v.filterData({cache_id:n,cache_type_id:i,val:a,type:e.type,$this:e.$this}),e))},v.generateCacheId=function(e,t){return e.attr("data-url")+e.attr("data-params")+(t||"")},v.keyboardHide=function(){APP.is_touch_device&&document.activeElement&&document.activeElement.blur()},v.hideSuggest=function(e){var t,n=!e;return!(!(e=e||o)||e.hasClass("catalog-fields__search"))&&(t=e.find(".control--suggest--list-opened").length>0,e.find(".control--suggest--list-opened").removeClass("control--suggest--list-opened").addClass("control--suggest--list").css("display",""),e.css("z-index","").trigger("suggest:hidden"),v.hideLoader(e),n&&(o=!1),t)},v.getVal=function(e){var t,n=l().trim(e.val())||"";if("phone"===e.attr("data-type"))if((n=[0===n.indexOf("+")?"+":"",n.replace(C,"")].join("")).length<=15&&_().PhoneNumberUtil.isViablePhoneNumber(n)){var i=function(e){try{return g.parseAndKeepRawInput(e)}catch(t){try{return g.parseAndKeepRawInput(e,APP.constant("account").country)}catch(e){return null}}}(n);i&&(t=i,n=g.format(t,f.E164).toString().replace("+".concat(t.getCountryCode()),""))}else n.replace(C,"").toString();return n.toLowerCase().replace(/ё/gi,"е")},v.reset=function(e,t,n,i){var a,r=t.closest(".control--suggest"),s=r.find(".control--suggest--input"),c=s.val(),d="";u().isFunction(i)?l().each(n,(function(e,t){d+=i(t)})):(a=u().template(i||'<li data-value-id="<%= data.id %>" company-id ="<%= data.company_id %>" data-contact-id="<%= data.contact_id %>" class="control--suggest--list--item <%= data.custom_class %>" <%= data.additional_data %>><span class="control--suggest--list--item-inner" title="<%= _.escape(data.title) %>"><%= data.highlighted_text %></span></li>'),l().each(n,(function(e,t){var n=(t.text||"").replace(/<\/?b>/gi,"").replace(/ё/gi,"е");t.raw_highlight||(n=u().escape(n)),d+=a({data:u().extend({},t,{highlighted_text:v.highlight(c,n,r.find(".control--suggest--input").attr("data-type")),title:(0,h.stripTags)(t.title?t.title:t.text)})})}))),t.html(d),d.length&&(s.is(":focus")||"hidden"===s.attr("type"))?(t.removeClass("control--suggest--list").addClass("control--suggest--list-opened"),r.css("z-index",parseInt(r.css("z-index"))+2),v.hideLoader(r),o=r):v.hideSuggest(r)},v.throttledRequest=u().throttle((function(e){v.sendRequest({type:e.type,no_filter:e.no_filter,$this:e.$this,$parent:e.$parent,$list:e.$list,skip_val:e.skip_val,val:e.val})}),700),y[40]=function(e){var t,n,i;e.$selected.length?(e.$selected.is(":last-child")||(t=e.$selected.siblings(".".concat(e.item_class,":visible")).andSelf().index(e.$selected))<e.$list.find(".".concat(e.item_class,":visible")).length-1&&(i=e.$list.find(".".concat(e.item_class,":visible:eq(").concat(t+1,")")),e.$selected.removeClass("".concat(e.item_class,"-selected")),i.hasClass("js--suggest-item--not-selectable")?e.$selected=i.nextUntil(".".concat(e.item_class,":visible:first:not(.js--suggest-item--not-selectable)")).addClass("".concat(e.item_class,"-selected")):e.$selected=e.$list.find(".".concat(e.item_class,":visible:eq(").concat(t+1,")")).addClass("".concat(e.item_class,"-selected"))),e.$selected.position().top+e.$selected.outerHeight()>e.$list.height()&&(n=e.$selected.position().top-e.$list.height()+e.$selected.outerHeight()+e.$list.scrollTop())):(i=e.$list.find(".".concat(e.item_class,":visible:first"))).hasClass("js--suggest-item--not-selectable")?i.next(".".concat(e.item_class,":visible:first:not(.js--suggest-item--not-selectable)")).addClass("".concat(e.item_class,"-selected")):i.addClass("".concat(e.item_class,"-selected")),e.$list.scrollTop(n)},y[38]=function(e){var t,n,i=e.$list.scrollTop();if(!e.$selected.length)return!1;e.$selected.is(":first-child")||(t=e.$selected.siblings(".".concat(e.item_class,":visible")).andSelf().index(e.$selected),n=e.$list.find(".".concat(e.item_class,":visible:eq(").concat(t-1,")")),t>0&&(e.$selected.removeClass("".concat(e.item_class,"-selected")),n.hasClass("js--suggest-item--not-selectable")&&n.prev(".".concat(e.item_class,":visible:not(.js--suggest-item--not-selectable)")).length?e.$selected=n.prev(".".concat(e.item_class,":visible:not(.js--suggest-item--not-selectable)")).addClass("".concat(e.item_class,"-selected")):e.$selected=n.addClass("".concat(e.item_class,"-selected"))),e.$selected.position().top-e.$selected.outerHeight()<0&&0!==e.$list.scrollTop()&&(i+=e.$selected.position().top)),e.$list.scrollTop(i)},y[13]=function(e){if(e.$selected.length)return e.$selected.trigger("suggest:item:click"),!1},y[27]=function(e){v.processData({result:[]},e)},b.on("page:changed",(function(){v.cache={}})).on("keyboard:hide",v.keyboardHide).on("controls:hide:private",(function(e){o&&o.get(0)!==e.target&&v.hideSuggest()&&v.keyboardHide()})).on("click focus",".control--suggest--input",(function(e){var t,n,i,a=l()(this),r=a.closest(".control--suggest");if(APP.is_touch_device&&"focus"!==e.type||l()(document).trigger({type:"controls:hide",target:r}),o=r,r.find(".control--suggest--list--item").length&&!a.hasClass("js-control--suggest--input-ajax")){var s=m.some((function(e){return r.hasClass(e)}))?3:1;r.css("z-index",parseInt(r.css("z-index"))+s),(t=r.find(".control--suggest--list, .control--suggest--list-opened").removeClass("at-top control--suggest--list").addClass("control--suggest--list-opened").css("display","")).visible()||t.addClass("at-top"),i=(n=t.find(".control--suggest--list--item-selected").index())>=0&&t.find(".control--suggest--list--item:first").outerHeight(),r.find(".control--suggest--list--item").each((function(){l()(this).show()})),i&&n>=0&&t.scrollTop(i*n-4*i)}a.trigger("controls:suggest:focus"),e.stopPropagation()})).on("input",".js-control--suggest--input",(function(){var e=l()(this),t=e.closest(".control--suggest"),n=t.find(".control--suggest--list--item"),i=t.find(".js-control--suggest--list"),a=v.getVal(e),r=!0;e.is(":focus")&&(i.show().removeClass("control--suggest--list").addClass("control--suggest--list-opened"),a?(n.each((function(){var e=l()(this),n=(l().trim(e.text())||"").toLowerCase(),i=n.indexOf(a);0===i||0===n.indexOf("0".concat(a))||t.hasClass("js-substr-search")&&-1!==i?(r=!1,e.show()):(e.hide(),e.hasClass("control--suggest--list--item-selected")&&e.removeClass("control--suggest--list--item-selected"))})),r&&i.hide()):n.length?n.show():i.hide())})).on("suggest:reset",".js-control--suggest--list",(function(e,t,n){v.reset(e,l()(this),t,n)})).on("mousedown",".control--suggest--list--item",(function(){r=!0})).on("blur",".js-control--suggest--input-ajax",(function(){var e=this,t=l()(this).closest(".control--suggest");v.hideLoader(t),r||setTimeout((function(){v.hideSuggest(t),l()(e).trigger("controls:suggest:blur")}),100)})).on("suggest:loader",".js-control--suggest--input, .js-control--suggest--input-ajax",(function(e,t){var n=l()(e.currentTarget).closest(".control--suggest");!1===t?v.hideLoader(n):v.showLoader(n)})).on("input suggest:load-empty",".js-control--suggest--input-ajax",(function(e){var t=l()(this),n=t.closest(".control--suggest"),i=n.find(".js-control--suggest--list"),a=v.getVal(t);r=!1,a.length>=3||"suggest:load-empty"===e.type?(o=n,i.html("").removeClass("control--suggest--list-opened").addClass("control--suggest--list"),t.attr("data-val",a),v.getSuggests({type:t.attr("data-type"),no_filter:Boolean(t.attr("data-no-filter"))||!1,$this:t,$parent:n,$list:i,val:a,skip_val:"suggest:load-empty"===e.type})):l()(document).trigger({type:"controls:hide",target:n})})).on("click suggest:item:click suggest:item:click-silent",".control--suggest--list--item",(function(e){var t=l()(this),n=t.closest(".control--suggest"),i=n.find(".control--suggest--input");if(t.hasClass("js--suggest-item--not-selectable"))return!1;e.stopPropagation(),n.find(".control--suggest--list--item-selected").removeClass("control--suggest--list--item-selected"),t.addClass("control--suggest--list--item-selected"),i.val(l().trim(t.text())).attr("data-value-id",t.attr("data-value-id")).trigger("controls:change").trigger("suggest:changed",[t.clone()]),"suggest:item:click-silent"!==e.type&&i.trigger("focus"),t.trigger("suggest:click",[t]),v.hideSuggest(),r=!1})),b.on("mousemove",".control--suggest--list-opened",(function(){var e=l()(this);w||e.removeClass("control--suggest--list-navigate-by-key").find(".control--suggest--list--item-selected").removeClass("control--suggest--list--item-selected")})).on("keyup",".control--suggest--input",(function(){i=setTimeout((function(){w=!1}),100)})).on("keydown",".control--suggest--input",(function(e){var t,n,a=l()(this),r=!a.hasClass("control--suggest--input"),o=r?a.closest(".multisuggest").find(".multisuggest__suggest"):a.closest(".control--suggest").find(".control--suggest--list-opened"),s=r?"multisuggest__suggest__item":"control--suggest--list--item";if(o.length&&o.is(":visible")&&u().isFunction(y[e.keyCode]))return clearTimeout(i),w=!0,n=o.find(".".concat(s,":hover")),(t=o.find(".".concat(s,"-selected"))).length||(t=n),o.addClass("control--suggest--list-navigate-by-key"),y[e.keyCode]({$this:a,$parent:a.closest("control--suggest"),$selected:t,$list:o,item_class:s}),!1}));const k=v;var E="../build/transpiled/interface/controls/suggest";window.define(E,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([E])},305093:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var i=n(629133),a=n.n(i),r=n(460159),o=n.n(r),s=n(445368),l=n(862430),c=n(771205),u=n(661533);function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){_(r,i,a,o,s,"next",e)}function s(e){_(r,i,a,o,s,"throw",e)}o(void 0)}))}}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},g(e,t,n||e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?d(e):t;var n}(this,n)}}function b(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(c,e);var t,n,i,r=y(c);function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),f(d(e=r.apply(this,arguments)),"_is_new_element",void 0),f(d(e),"_is_disabled",void 0),e}return t=c,n=[{key:"template",get:function(){return"/tmpl/controls/select.twig"}},{key:"events",value:function(){var e;return f(e={},"supplier:set-is-new-element ".concat(this._selector("special_select_input")),"_setIsNewElement"),f(e,"supplier:set-is-supplier-disabled ".concat(this._selector("special_select_input")),"_setIsSelectDisabled"),f(e,"controls:change ".concat(this._selector("special_select_input")),"handleSelectChange"),e}},{key:"_classes",value:function(){return a().extend({},g(m(c.prototype),"_classes",this).call(this),{supplier_form:"linked-form__field-supplier",list_item:"control--select--list--item",list_item_selected:"control--select--list--item-selected",select_button:"control--select--button",select_input:"control--select--input",special_select_input:"js-supplier-input"})}},{key:"_preload",value:function(){return o()._preload([this.template])()}},{key:"initialize",value:function(){g(m(c.prototype),"initialize",this).apply(this,arguments),this._suppliers_collection=this._addComponent(l.default),this.render()}},{key:"render",value:function(){var e=this;return h((function(){return b(this,(function(t){switch(t.label){case 0:return[4,e._preload()];case 1:return t.sent(),e.$el.trigger("supplier:controls:view:init"),e._render(),[2]}}))}))()}},{key:"_render",value:function(){this._setSuppliersSelect(APP.constant("account").suppliers.catalog_id)}},{key:"destroy",value:function(){g(m(c.prototype),"destroy",this).apply(this,arguments)}},{key:"_setSuppliersSelect",value:function(e){var t=this;return h((function(){return b(this,(function(n){switch(n.label){case 0:return[4,t._suppliers_collection.fetch({url:t._suppliers_collection.url(e),data:{limit:50}})];case 1:return n.sent(),t._suppliers_collection.length&&t._rerenderSuppliersSelectField(),[2]}}))}))()}},{key:"handleSelectChange",value:function(){this._setSuppliersSelect(APP.constant("account").suppliers.catalog_id)}},{key:"_setIsNewElement",value:function(e,t){this._is_new_element=t}},{key:"_setIsSelectDisabled",value:function(e,t){this._is_disabled=t}},{key:"_rerenderSuppliersSelectField",value:function(){var e=this._elem("select_input"),t=this._suppliers_collection.map((function(e){return{id:parseInt(e.get("id")),option:e.get("name")}})),n=e.val();t.unshift({id:"",option:(0,s.i18n)("Select")}),e.val().length||(n=this._is_new_element?t[1].id:"");var i=u(o()({ref:this.template}).render({name:e.attr("name"),class_name:"linked-form__select",items:t,selected:n,disabled:this._is_disabled||!1,input_special_class:this._class("special_select_input")}));this.$el.html(i),this.setElement(this.$el),this._dropElemCache(),this._elem("select_input").trigger("change")}}],i=[{key:"controlClassName",get:function(){return"js-control-supplier"}}],n&&p(t.prototype,n),i&&p(t,i),c}(c.default);const C=w.extend(w);var k="../build/transpiled/interface/controls/supplier";window.define(k,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([k])},862430:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(974839),a=n.n(i);const r=(0,n(727406).wrapCacheCollection)(a().Collection.extend({itemRel:"elements",url:function(e){return"/ajax/v4/catalogs/".concat(e,"/elements")}}));var o="../build/transpiled/interface/controls/suppliers_collection";window.define(o,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([o])},97418:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n(629133),a=n.n(i),r=n(161320),o=n.n(r),s=n(49987),l=n(727526),c=n(661533),u=n(403474);const d=l.default.extend({controlClassName:"js-control-date-tasks-date",_getDefaults:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.$el.attr("data-calendar-id"),r=c("#tasks_date_calendar_".concat(i));return r||(r=this.$el),a().extend({},l.default.prototype._getDefaults.apply(this,t),{selected:this._findElem("input").val(),attachTo:r.get(0)})},_getKalendaeHandler:function(){return u},_classes:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a().extend({},l.default.prototype._classes.apply(this,t),{date_field:"tasks-date__controls-date-input",input:"tasks-date__controls-date-input",input_not_valid:"date_field_not-valid"})},events:function(){var e=a().extend({},a().result(l.default.prototype,"events",{}));return e["input ".concat(this._selector("input"))]="_onDateInput",e["blur ".concat(this._selector("input"))]="reformatOnBlur",e["keyup ".concat(this._selector("input"))]="_hideCalendarOnEnterKey",e},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.default.prototype.initialize.apply(this,t),this.container()},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l.default.prototype.destroy.apply(this,t),this.$container&&this.$container.remove()},_hideCalendarOnEnterKey:function(e){13!==e.keyCode||this._findElem("input").hasClass(this._class("input_not_valid"))||(this._findElem("input").val(this._findElem("input").val()).trigger("controls:change",[this._findElem("input").val()]),this.$el.trigger("control:date:selected"))},_onDateInput:function(){var e=this._findElem("input").val();this.validateSelected()&&e.length>5&&(e=o()(e,(0,s.format)("parse")).format((0,s.format)("date")),this.kalendae.setSelected(e)),this._findElem("input").trigger("controls:change",[e])},container:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,a=this;return this.$container||(l.default.prototype.container.apply(this,t),i=this.kalendae.draw,this.kalendae.draw=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=i.apply(this,t);return a._addTwoWeeks(),r},this._addTwoWeeks()),this.$container},onChangeSingle:function(){this.kalendae&&this._elem("date_field").trigger("controls:change",[this.kalendae.getSelected()])},validateSelected:function(){var e=!0,t=o()(this._findElem("input").val(),(0,s.format)("parse"));return this._findElem("input").removeClass(this._class("input_not_valid")),(!t.isValid()||t.format("X")<0)&&(e=!1,this._findElem("input").addClass(this._class("input_not_valid"))),e},_addTwoWeeks:function(){var e=c(this.kalendae.container),t={append:a().range(1,15,1)};e.find(".k-fake-date").remove();var n=e.find(".k-days span"),i="YYYY-MM-DD",r=o()(n.first().attr("data-date"),i);r.month()===this.kalendae.viewStartDate.month()&&(r.subtract(1,"month").endOf("month"),t.append=!1);var s=o()(n.last().attr("data-date"),i);s.month()===this.kalendae.viewStartDate.month()&&(r.add(1,"month").startOf("month"),t.prepend=!1),a().each(t,(function(t,o){t&&e.find(".k-days")[o](a().map(t,(function(e){var t=("prepend"===o?r:s).clone()["prepend"===o?"subtract":"add"](e,"days");return n.first().clone().removeClass("k-in-month k-selected k-today").addClass("k-out-of-month k-fake-date").attr("data-date",t.format(i)).text(t.format("D")).get(0).outerHTML})).join(""))}),this),e.find(".k-days").children("span").each((function(e,t){var n=c(t);n.toggleClass("k-before-today",o()(n.attr("data-date")).isBefore(o()().startOf("day")))}))}});var _="../build/transpiled/interface/controls/tasks_date/date";window.define(_,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([_])},461431:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var i=n(629133),a=n.n(i),r=n(460159),o=n.n(r),s=n(161320),l=n.n(s),c=n(180137),u=n(214558),d=n(982862),_=n(210734),h=n(893381),p=n(661533);n(97418);const f=_.default.extend({controlClassName:"tasks-date",_classes:function(){return{time:"tasks-date__controls-time",time_input:"tasks-date__controls-time-input",date:"js-control-date-tasks-date",date_input:"tasks-date__controls-date-input",preset:"js-tasks-date-preset",wrapper:"tasks-date__wrapper",wrapper_inner:"tasks-date__wrapper-inner",list:"tasks-date__list",caption:"tasks-date__caption",caption_date:"tasks-date__caption-date",caption_time:"tasks-date__caption-time"}},_selectors:function(){return{timeline_scroller_wrapper:".fc-agenda-view .fc-body > tr > .fc-widget-content"}},events:{"click .tasks-date__caption-date":"onCaptionClick","click .tasks-date__caption-time":"onCaptionClick"},document_events:{toggleWidgetPanel:"_setPositions","controls:hide:private":"onDocumentClickHide"},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_.default.prototype.initialize.apply(this,t),this._cached_tasks={},this._$body_control=this._elem("wrapper"),this._$body_control.on("click",".tasks-date__controls, .tasks-date__wrapper-inner",a().bind((function(e){e.stopPropagation()}),this)).on("click",a().bind((function(e){e.stopPropagation(),this._$document.trigger({type:"controls:hide",target:this._$body_control})}),this)).on("focus",[this._selector("time_input"),this._selector("date_input")].join(","),a().bind(this.onInputFocusPlaceCursorToEnd)).on("input",this._selector("time_input"),a().bind(this.onTimeInputChange,this)).on("controls:ajust",this._selector("time_input"),a().bind(this.onTimeInputAjust,this)).on("controls:change",this._selector("date_input"),a().bind(this.onDateInputChange,this)).on("click",this._selector("preset"),a().bind(this.onDatePresetClick,this))},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._$body_control.off(),this.$overlay&&this.$overlay.off(),_.default.prototype.destroy.apply(this,t)},onDateInputChange:function(e){var t=e.currentTarget.value,n=l()(t,APP.system.format.date.date),i=this._getFullCalendarEl();n.isSame(l()().tz(APP.system.timezone),"day")?t=n.format(l()().localeData().calendar("today")):n.isSame(l()().tz(APP.system.timezone).add(1,"days"),"day")?t=n.format(l()().localeData().calendar("tomorrow")):n.isSame(l()().tz(APP.system.timezone).subtract(1,"days"),"day")?t=n.format(l()().localeData().calendar("yesterday")):n.isSame(l()().add(1,"week"))?t=APP.lang.tasks_period_next_week:n.isSame(l()().add(1,"month"))&&(t=APP.lang.tasks_period_next_month),this._elem("caption_date").text(t),i&&i.fullCalendar("gotoDate",n)},onInputFocusPlaceCursorToEnd:function(e){(0,d.setCursorPosition)(e.currentTarget)},onTimeInputChange:function(){this.onTimeInputAjust(),this._updateNewEvent(),this._updateScrollTop()},onTimeInputAjust:function(){var e=this._$body_control.find(this._selector("time_input")).val();this._elem("caption_time").attr("data-hide-time",e?0:1).text(e),this._syncTimeWidth()},onDatePresetClick:function(e){var t=p(e.currentTarget),n=this._$body_control.find(this._selector("date_input")).trigger("controls:date").data("kalendae"),i=t.attr("data-period"),r=a().contains(["after_15_minutes","after_30_minutes","in_an_hour"],i),o=(0,h.default)(i);e.stopPropagation(),(0,c.saveLastPreset)(i),n.setSelected(o),r&&this._getFullCalendarEl().fullCalendar("select",o,o.clone().add(30,"minutes")),this._$body_control.find(this._selector("date_input")).val(o.format(APP.system.format.date.date)).trigger("controls:change",[n.getSelected()]),this.hide()},onCaptionClick:function(e){var t=p(e.currentTarget);t.hasClass("tasks-date__caption__disabled")||(this._expanded?this._$document.trigger({type:"controls:hide",target:this.el}):this.show(),(t.hasClass(this._class("caption_date"))?this._$body_control.find(this._selector("date_input")):this._$body_control.find(this._selector("time_input"))).focus()),e.stopPropagation()},onDocumentClickHide:function(e){this._$body_control.length&&!p.contains(this._$body_control.get(0),e.target)&&this.hide()},show:function(){this._$document.trigger({type:"controls:hide",target:this.el}),this._expanded=!0,this.$el.addClass("expanded"),this._$body_control.addClass("expanded"),this._setPositions(),this._$window.on("resize".concat(this.ns),a().bind(a().debounce(this._setPositions,100),this)),this._$body_control.find(".js-tasks-date-input-bg").css("background",this._findElem("caption_date").css("background-color")),this._$body_control.one("controls:view:init",this._selector("time_input"),a().bind(this._syncTimeWidth,this)),this._syncTimeWidth(),n.e(48089).then(function(){var e=[n(248089)];a().bind(this._initTimeplanner,this).apply(null,e)}.bind(this)).catch(n.oe),this._toggleBodyOverlay(this._$body_control,this.hide)},hide:function(){var e=this._getFullCalendarEl();this._expanded&&(e&&e.fullCalendar("destroy"),this._toggleBodyOverlay(!1),this._expanded=!1,this.$el.removeClass("expanded"),this._updateInputValues(),this._$window.off("resize".concat(this.ns)),this._$body_control.removeClass("expanded").css({width:"",top:"",left:"",zIndex:""}))},_getCalendarHeight:function(){var e=349,t=this._$body_control.get(0).getBoundingClientRect();return t.y<0&&(e+=t.y-10),e},_setPositions:function(){var e=this.$el.offset().top,t=this._getFullCalendarEl(),n="";this._$body_control.removeClass("at-top").find(this._selector("wrapper_inner")).css("margin-left",""),t&&t.fullCalendar("option","contentHeight",349);var i=this._$body_control.get(0).getBoundingClientRect();i.bottom>this._$window.height()&&(this._$body_control.addClass("at-top"),e+=this._$body_control.find(".tasks-date__controls").height()),i.x<0?n=Math.abs(i.x):this._$window.width()-i.right<0&&(n=this._$window.width()-i.right-15),this._$body_control.css({width:this._$body_control.get(0).offsetWidth,top:e,left:this.$el.offset().left,zIndex:this._maxControlBodyZIndex}).find(this._selector("wrapper_inner")).css("margin-left",n),t&&t.fullCalendar("option","contentHeight",this._getCalendarHeight())},_getFullCalendarEl:function(){return p.fn.fullCalendar?this._$body_control.find(".js-tasks-date-timeplanner"):null},_initTimeplanner:function(){this._expanded&&(this._$body_control.find(".js-tasks-date-timeplanner").fullCalendar({header:!1,defaultView:"agendaDay",contentHeight:this._getCalendarHeight(),handleWindowResize:!0,eventStartEditable:!0,allDayText:APP.lang.tasks_all_day,axisFormat:24===APP.system.format.time?"HH:mm":"h:mmA",selectable:!0,draggable:!0,forceEventDuration:!0,dragRevertDuration:100,timeFormat:APP.system.format.date.time,defaultTimedEventDuration:"00:30:00",defaultDate:l()(this._$body_control.find(this._selector("date_input")).val(),APP.system.format.date.date),scrollTime:"08:00:00",events:a().bind(this._fetchTasks,this),eventDrop:a().bind(this._handleTimelineEventChange,this),eventResize:a().bind(this._handleTimelineEventChange,this),select:a().bind(this._handleTimelineSelect,this)}),this._setPositions(),this._$body_control.find(this._selector("time_input")).val()&&this._updateScrollTop())},_handleTimelineEventChange:function(e,t,n){var i=APP.system.format.date.date,a=[e.start.format(APP.system.format.date.time)],r="";if(n&&e.end&&e.start.format(i)!==e.end.format(i))return n();e.allDay?a=[]:e.end&&a.push(e.end.format(APP.system.format.date.time)),a.length&&(r=a.join(" - ")),this._$body_control.find(this._selector("time_input")).val(r).trigger("controls:ajust")},_handleTimelineSelect:function(e,t){this._handleTimelineEventChange({allDay:"00:00"===e.format("HH:mm")&&"00:00"===t.format("HH:mm"),start:e,end:t}),this._updateNewEvent(),this._getFullCalendarEl().fullCalendar("unselect")},_fetchTasks:function(e,t,n,i){var r=e.startOf("day").format(APP.system.format.date.date),o=e.endOf("day").format(APP.system.format.date.date),s=this.$el.attr("data-responsible")||(0,u.get)("current").id,c=r+o+s;this._cached_tasks[c]?i(this._cached_tasks[c]):p.ajax({url:"/ajax/todo/calendar/day/",dataType:"json",data:{dont_save:1,filter_date_from:r,filter_date_to:o,filter:{main_user:[s]}}}).done(a().bind((function(e){var t=e&&e.response||{},n=parseInt(this.$el.attr("data-id"));this._cached_tasks[c]=a().reduce(t.items,(function(e,t){var i,a,r,o=null;return parseInt(t.id)!==n&&(i=t.date.split(" "),a=this._validateTime(i[1]),r=l()(i[0],APP.system.format.date.date),a.length&&r.hours(a[0].hours()).minutes(a[0].minutes()),t.duration&&(o=r.clone().add(t.duration,"seconds")),e.push({id:t.id,title:this._getTaskTypeNameWithComment(t.params.type,t.params.text),allDay:23===r.hours()&&59===r.minutes(),start:r,end:o,startEditable:!1,expired:!1,draggable:!1,durationEditable:!1,backgroundColor:"#f7f7f7",borderColor:"#f1f1f1"})),e}),[],this),i(this._cached_tasks[c])}),this)),this._updateNewEvent()},_updateInputValues:function(){var e=this._validateTime(this._findElem("time_input").val());switch(this._findElem("date_input").trigger("controls:change"),e.length){case 2:this.$('[name="duration"]').val(e[1].diff(e[0],"seconds")),this.$('[name="time"]').val(e[0].format(APP.system.format.date.time));break;case 1:this.$('[name="duration"]').val(""),this.$('[name="time"]').val(e[0].format(APP.system.format.date.time));break;default:this.$('[name="duration"]').val(""),this.$('[name="time"]').val(l()("23:59","HH:mm").format(APP.system.format.date.time))}this.$('[name="duration"], [name="time"]').trigger("controls:change")},_updateScrollTop:function(){var e,t,n=this._getFullCalendarEl();n&&(e=n.find(".fc-scroller"),(t=n.fullCalendar("clientEvents",["new"])[0])&&setTimeout((function(){e.get(0)&&e.scrollTop(e.get(0).scrollHeight*(t.start.hours()-.5)/24)})))},_updateNewEvent:function(){var e=this._getFullCalendarEl(),t=this._$body_control.find(this._selector("date_input")).val(),n=t?l()(t,APP.system.format.date.date):l()(),i=this._validateTime(this._$body_control.find(this._selector("time_input")).val()),r=null,o={};n.isValid()&&(i.length&&(n.set("hour",i[0].hours()).set("minute",i[0].minutes()),i[1]&&(r=n.clone().set("hour",i[1].hours()).set("minute",i[1].minutes()))),a().extend(o,{allDay:!i[0],end:r||n,start:n})),e&&(e.fullCalendar("removeEvents","new"),e.fullCalendar("renderEvent",a().extend({id:"new",title:this._getTaskTypeNameWithComment(this.$el.attr("data-type"),this.$el.attr("data-title"),this.$el.attr("data-type-name")),expired:!1,draggable:!0,durationEditable:!0,backgroundColor:"#e9f1ff",borderColor:"#dce8ff"},o))),this.$el.trigger("tasks-date:date-changed",[n]).trigger("tasks-date:time-changed",[i])},_syncTimeWidth:function(){this._findElem("caption_time").css({width:this._$body_control.find(this._selector("time")).get(0).offsetWidth})},_validateTime:function(e){var t=(e||"").split(/\s?-\s?/),n=APP.system.format.date.time,i=[];if(!t.length)return i;var a=t[0]&&l()(t[0],n),r=t[1]&&l()(t[1],n);return a&&a.isValid()&&i.push(a),r&&r.isValid()&&a.isBefore(r)&&i.push(r),i},_getTaskTypeNameWithComment:function(e,t,n){var i,r=[];return(i="custom"===(e=e||1)&&a().isString(n)&&!a().isEmpty(n)?n:APP.todo_types[e]?APP.todo_types[e]:(APP.constant("task_types")["key_".concat(e)]||{}).option)&&r.push(i),t&&r.push(o()._twig.filter("task_text",t)),r.join(": ")}});var g="../build/transpiled/interface/controls/tasks_date/index";window.define(g,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([g])},863329:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(629133),a=n.n(i),r=n(210734);const o=r.default.extend({controlClassName:"js-control-textarea-code",_classes:function(){return{textarea:"control__textarea-code-area",lines:"control__textarea-code-lines"}},events:{"propertychange textarea":"onChange","input textarea":"onChange","keydown textarea":"onKeyDown","keyup textarea":"onChange","change textarea":"onScroll","mousewheel textarea":"onScroll"},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.default.prototype.initialize.apply(this,t),this._elem("textarea").on("scroll",a().bind(this.onScroll,this)),this.updateLineNumbers()},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._elem("textarea").off(),r.default.prototype.destroy.apply(this,t)},onChange:function(e){(10!=+this._elem("textarea").scrollLeft||37!==e.keyCode&&37!==e.which&&"ArrowLeft"!==e.code&&"ArrowLeft"!==e.key)&&36!==e.keyCode&&36!==e.which&&"Home"!==e.code&&"Home"!==e.key&&13!==e.keyCode&&13!==e.which&&"Enter"!==e.code&&"Enter"!==e.key&&"NumpadEnter"!==e.code||this._elem("textarea").scrollLeft(0),this.updateLineNumbers()},onScroll:function(){this._elem("lines").scrollTop(this._elem("textarea").scrollTop())},onKeyDown:function(e){var t,n=e.currentTarget;if(9===e.keyCode)return t=this.getCaretPosition()+4,n.value="".concat(n.value.substring(0,this.getCaretPosition()),"    ").concat(n.value.substring(this.getCaretPosition(),n.value.length)),this.setCaretPosition(t),!1;8===e.keyCode&&"    "===n.value.substring(this.getCaretPosition()-4,this.getCaretPosition())&&(t=this.getCaretPosition()-3,n.value=n.value.substring(0,this.getCaretPosition()-3)+n.value.substring(this.getCaretPosition(),n.value.length),this.setCaretPosition(t)),37===e.keyCode&&"    "===n.value.substring(this.getCaretPosition()-4,this.getCaretPosition())&&(t=this.getCaretPosition()-3,this.setCaretPosition(t)),39===e.keyCode&&"    "===n.value.substring(this.getCaretPosition()+4,this.getCaretPosition())&&(t=this.getCaretPosition()+3,this.setCaretPosition(t)),this.onChange(e)},updateLineNumbers:function(){var e,t,n=this._elem("textarea").val().split("\n").length,i=this._elem("lines").get(0),a=n-i.children.length;if(a>0){for(e=document.createDocumentFragment();a>0;)(t=document.createElement("span")).className="control__textarea-code-line",e.appendChild(t),a--;i.appendChild(e)}for(;a<0;)i.removeChild(i.firstChild),a++},getCaretPosition:function(){return this._elem("textarea").get(0).selectionStart},setCaretPosition:function(e){var t=this._elem("textarea").get(0);t.selectionStart=e,t.selectionEnd=e,t.focus()},hasSelection:function(){var e=this._elem("textarea").get(0);return e.selectionStart!==e.selectionEnd},getSelectedText:function(){return this.value.substring(this.selectionStart,this.selectionEnd)},setSelection:function(e,t){var n=this._elem("textarea").get(0);n.selectionStart=e,n.selectionEnd=t,n.focus()}});var s="../build/transpiled/interface/controls/textarea_code";window.define(s,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([s])},404382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var i=n(629133),a=n.n(i),r=n(210734);function o(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},l(e,t,n||e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,e);var t,i,_,h=d(p);function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),h.apply(this,arguments)}return t=p,i=[{key:"_selectors",value:function(){return{input:".js-control-time-field-input"}}},{key:"events",value:function(){var e,t,n,i=(e={},n="_onInputTime",(t="input ".concat(this._selector("input")))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e);return a().extend({},a().result(r.default.prototype,"events",{}),i)}},{key:"initialize",value:function(){l(c(p.prototype),"initialize",this).apply(this,arguments),this.time_format=Number(this.$el.attr("data-time-format"))||APP.system.format.time,this.useMask()}},{key:"useMask",value:function(){var e,t=this;return(e=function(){return function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(e){switch(e.label){case 0:return[4,n.e(23419).then(n.t.bind(n,23419,23))];case 1:return(0,e.sent().default)({regex:12===APP.system.format.time?"^(([0-9]|0[0-9]|1[0-2]):[0-5][0-9])([AaPp][Mm])?$":"^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$",positionCaretOnClick:"radixFocus",placeholder:"",showMaskOnHover:!1,showMaskOnFocus:!1,keepStatic:!0}).mask(t._elem("input").get(0)),[2]}}))},function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function s(e){o(r,i,a,s,l,"next",e)}function l(e){o(r,i,a,s,l,"throw",e)}s(void 0)}))})()}},{key:"_onInputTime",value:function(e){0===e.target.value.toLocaleUpperCase().replace(/[^0-9]/g,"").length&&this._elem("input").val("").trigger("change")}},{key:"destroy",value:function(){var e=this._elem("input").get(0).inputmask;e&&e.remove(),r.default.prototype.destroy.apply(this,arguments)}}],_=[{key:"controlClassName",get:function(){return"time-field"}}],i&&s(t.prototype,i),_&&s(t,_),p}(r.default);const h=_.extend(_);var p="../build/transpiled/interface/controls/time_field";window.define(p,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([p])},384188:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var i=n(661533),a=n.n(i),r=n(629133),o=n.n(r),s=n(210734);function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},u(e,t,n||e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var p,f=".js-tip",g=!1,m=function(e){e.$tip.hasClass("tips_keyboard")?e.$key_selected.trigger("click").trigger("tip:select"):e.$tip.find(".js-tips-item:hover").trigger("click").trigger("tip:select")},v=function(e,t){var n=t.$items.index(t.$key_selected)+("up"===e?-1:1);n<0&&(n=t.$items.length-1),n>t.$items.length-1&&(n=0),t.$key_selected.removeClass("tips-item_selected-keyboard"),t.$items[n].classList.add("tips-item_selected-keyboard"),g.addClass("tips_keyboard").removeClass("tips_mouse")},y=new Map,b=!1;y.set(38,o().bind(v,{},"up")),y.set(40,o().bind(v,{},"down")),y.set(13,m),y.set(9,m);var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(m,e);var t,n,i,r=h(m);function m(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),r.apply(this,arguments)}return t=m,n=[{key:"document_events",value:function(){return{"tip:remove":"_remove","controls:hide:private":"_hide"}}},{key:"events",value:function(){var e,t=(c(e={},"mousemove ".concat(f),"_mousemove"),c(e,"keydown","_keydown"),c(e,"click","_click"),c(e,"tip:select .js-tips-item","_select"),e);return o().extend({},o().result(s.default.prototype,"events",{}),t)}},{key:"_selectors",value:function(){return{tip:f,container:".js-tip-holder",overflowed_tip_holder:'.js-overflowed-tip-holder[data-value="%s"]',tip_holder:'.js-tip-holder[data-value="%s"]'}}},{key:"initTipShowEvent",value:function(){b||(b=!0,a()(document).on("tip:show","".concat(f),(function(e,t){var n=a()(e.target).closest(".".concat(m.controlClassName));n.get(0)?n.data("view")._showTip(e,t):m.prototype._showTip(e,t)})))}},{key:"initDocumentEvents",value:function(){this.initTipShowEvent()}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(d(m.prototype),"initialize",this).apply(this,arguments);var t=e.toggleBodyOverlay,n=void 0===t?o().noop:t;n&&(this.toggleBodyOverlay=n),this.initDocumentEvents()}},{key:"_hide",value:function(e,t){g&&("force"!==t&&(a().contains(g.get(0),e.target)||t&&"tip"!==t)||(g.trigger("tip:show",[!1]).trigger("tip:hidden"),g=!1))}},{key:"_remove",value:function(e,t){if(g){var n=t.$tip;n.trigger("controls:hide:private"),n.get(0)&&a()(document).trigger("linked:tip:remove")}}},{key:"_showTip",value:function(e,t){var n,i,r,o=a()(e.currentTarget);o.is(":visible")||!1===t?(p&&(p.append(o),p=null),o.hide().trigger("tip:hidden"),o.find(".tips-item_selected-keyboard").removeClass("tips-item_selected-keyboard"),g=!1,this.toggleBodyOverlay&&this.toggleBodyOverlay(!1)):(o.show(),(g=o).find(".tips-item_selected").addClass("tips-item_selected-keyboard"),o.removeClass("tips-at-top"),o.removeClass("tips-to-left"),o.removeClass("tips-to-right"),n=o.offset().left,i=o.outerWidth(),r=a()(window).width(),n<0?o.addClass("tips-to-right"):n+i>r&&o.addClass("tips-to-left"),o.hasClass("tips-at-bottom")||o.visible()||o.addClass("tips-at-top"),o.is("[data-append-to-body]")&&this.appendToBody(o)),o.trigger("tip:showed")}},{key:"appendToBody",value:function(e){var t=e.closest(this._selector("container")),n=t.offset();p=e.parent(),a()(document.body).append(e),e.removeClass("tips-to-left").removeClass("tips-to-right").removeClass("tips-at-top").css({position:"absolute",top:n.top+t.height()+5,left:n.left}),e.visible()||e.css({top:n.top-e.height()-5})}},{key:"_select",value:function(e){var t=a()(e.currentTarget),n=t.closest(this._selector("tip"));n.find(".tips-item_selected").removeClass("tips-item_selected"),t.addClass("tips-item_selected").trigger("tip:selected"),n.hide().trigger("tip:hidden")}},{key:"_click",value:function(e){var t=a()(e.target),n=this.$el,i=n.find(this._selector("tip"));if(a()(e.target).closest(".js-tips-item").length)a()(e.target).trigger("tip:select");else if(e.stopPropagation(),a()(document).trigger({type:"controls:hide",target:e.currentTarget}),!t.hasClass("date_field"))return i.trigger("tip:show"),!!n.hasClass("js-tip-holder-links")&&void 0}},{key:"_mousemove",value:function(e){var t=a()(e.currentTarget);t.hasClass("tips_mouse")||t.removeClass("tips_keyboard").addClass("tips_mouse")}},{key:"_keydown",value:function(e){var t;if(g&&g.is(":visible")&&g.find(".tips-item_selected").length&&o().isFunction(y.get(e.keyCode)))return t=g.find(".js-tips-item:not(.hidden)"),y.get(e.keyCode)({$tip:g,$items:t,$key_selected:t.filter((function(){return a()(this).hasClass("tips-item_selected-keyboard")}))}),!1}}],i=[{key:"controlClassName",get:function(){return"js-tip-holder"}}],n&&l(t.prototype,n),i&&l(t,i),m}(s.default);const C=w.extend(w);var k="../build/transpiled/interface/controls/tip/index";window.define(k,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([k])},696677:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var i=n(629133),a=n.n(i),r=n(384188),o=n(661533);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},l(e,t,n||e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var _,h=".js-tip-overflowed",p=!1,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(g,e);var t,n,i,f=d(g);function g(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),f.apply(this,arguments)}return t=g,n=[{key:"_selectors",value:function(){return a().extend({},l(c(g.prototype),"_selectors",this).apply(this,arguments),{tip:h,container:".js-overflowed-tip-holder"})}},{key:"initTipShowEvent",value:function(){p||(p=!0,o(document).on("tip:show","".concat(h),(function(e,t){var n=o(e.target).closest(".".concat(g.controlClassName));n.get(0)?(_=n.data("view"))._showTip(e,t):_._showTip(e,t)})))}},{key:"initDocumentEvents",value:function(){this.initTipShowEvent()}},{key:"initialize",value:function(){this.initDocumentEvents(),this.$el.data("view",this),l(c(g.prototype),"initialize",this).call(this,{initDocumentEvents:this.initDocumentEvents,toggleBodyOverlay:this.toggleBodyOverlay})}},{key:"toggleBodyOverlay",value:function(e,t){l(c(g.prototype),"_toggleBodyOverlay",this).call(this,e,t)}},{key:"_hide",value:function(e){var t=e?null:"force";l(c(g.prototype),"_hide",this).call(this,e,t)}},{key:"appendToBody",value:function(e){r.default.prototype.appendToBody.apply(this,arguments),this.toggleBodyOverlay(e,this._hide)}}],i=[{key:"controlClassName",get:function(){return"js-overflowed-tip-holder"}}],n&&s(t.prototype,n),i&&s(t,i),g}(r.default);const g=f.extend(f);var m="../build/transpiled/interface/controls/tip/overflowed";window.define(m,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([m])},125522:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(629133),a=n.n(i),r=n(128508),o=n(214558),s=n(210734),l=n(604206);const c=s.default.extend({controlClassName:"control-user_state",_classes:function(){return{online:"control-user_state_online"}},initialize:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this;s.default.prototype.initialize.apply(this,t),this.id=this.getId();var a=(0,o.get)(this.id);a&&(a.online&&this.toggleOnline(this.id,a.online),this.refresh_stream=l.default.refreshStream().pipe(r.filter((function(e){return e.user_id===i.id}))).subscribe((function(e){i.toggleOnline(e.user_id,e.event)})))},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.refresh_stream&&this.refresh_stream.unsubscribe(),s.default.prototype.destroy.apply(this,t)},getId:function(){var e,t=parseInt(this.$el.data("id"));return a().isNaN(t)&&(e=(0,o.getByAmoJoId)()[t],a().isUndefined(e)||(t=e?parseInt(e.id):0)),t},toggleOnline:function(e,t){this.$el.toggleClass(this._class("online"),!0===t)}});var u="../build/transpiled/interface/controls/user_state";window.define(u,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([u])},225826:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n(629133),a=n.n(i),r=n(460159),o=n.n(r),s=n(210734),l=n(661533);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){u(r,i,a,o,s,"next",e)}function s(e){u(r,i,a,o,s,"throw",e)}o(void 0)}))}}function _(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},h(e,t,n||e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}function m(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,i,r=g(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r.apply(this,arguments)}return t=s,n=[{key:"preload",get:function(){return[this.hoverTemplate]}},{key:"hoverTemplate",get:function(){return"/tmpl/controls/widget_creator/widget_creator_hover.twig"}},{key:"events",value:function(){return{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"}}},{key:"_classes",value:function(){return{widget_creator_active:"widget-creator--hover",widget_creator_onboarding:"js-widget-creator",hover_el:"js-widget-creator-hover",hover_el_close:"js-widget-creator-hover-close",hover_el_onboarding:"widget-creator-hover-onboarding"}}},{key:"_selectors",value:function(){return{widget_creator:".js-widget-creator",hover_el:".js-widget-creator-hover",hover_el_fake:".js-widget-creator-hover-fake",hover_el_close:".js-widget-creator-hover-close",hover_el_onboarding:".widget-creator-hover-onboarding"}}},{key:"_preload",value:function(){var e=this;return d((function(){return m(this,(function(t){switch(t.label){case 0:return[4,o()._preload(e.preload)()];case 1:return t.sent(),[2]}}))}))()}},{key:"initialize",value:function(){h(p(s.prototype),"initialize",this).apply(this,arguments),this.initHover()}},{key:"destroy",value:function(){this.$hoverEl.remove(),h(p(s.prototype),"destroy",this).apply(this,arguments)}},{key:"initHover",value:function(){var e=this;return d((function(){return m(this,(function(t){switch(t.label){case 0:return[4,e.renderWidgetCreatorHover()];case 1:return t.sent(),e.$hoverEl.on("mouseenter",a().bind(e.onMouseEnter,e)).on("mouseleave",a().bind(e.onMouseLeave,e)).on("click",a().bind(e.onHoverClick,e)).on("click",e._selector("hover_el_close"),(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a;e.onCloseHoverAsOnboarding.apply(e,function(e){if(Array.isArray(e))return c(e)}(a=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})),[2]}}))}))()}},{key:"renderWidgetCreatorHover",value:function(){var e=this;return d((function(){var t;return m(this,(function(n){switch(n.label){case 0:return[4,e._preload()];case 1:return n.sent(),t=o()({ref:e.hoverTemplate}).render(),e.$hoverEl=l(t),e.$fakeHoverEl=e.$hoverEl.find(e._selector("hover_el_fake")),e._$body.append(e.$hoverEl),[2]}}))}))()}},{key:"onMouseEnter",value:function(){this.$hoverEl&&this.showHoverEl()}},{key:"onMouseLeave",value:function(){this.$hoverEl&&this.hideHover()}},{key:"onHoverClick",value:function(e){e.target===e.currentTarget&&this.$el.trigger("js-widget-creator:create-widget")}},{key:"showHoverElAsOnboarding",value:function(){this.$hoverEl.addClass(this._class("hover_el_onboarding")),this.showHoverEl()}},{key:"onCloseHoverAsOnboarding",value:function(){this.$hoverEl.removeClass(this._class("hover_el_onboarding")),this.hideHover()}},{key:"showHoverEl",value:function(){this.$el.addClass(this._class("widget_creator_active"));var e=this.el.getBoundingClientRect();this.$hoverEl.css({top:e.height+e.top,left:e.left}),this.$hoverEl.show();var t=this.$hoverEl[0].getBoundingClientRect();this.$fakeHoverEl.css({top:-(t.top-e.top),width:e.width,height:t.top-e.top})}},{key:"hideHover",value:function(){this.isOpenedAsOnboarding()||(this.$el.removeClass(this._class("widget_creator_active")),this.$hoverEl.hide())}},{key:"isOpenedAsOnboarding",value:function(){return this.$hoverEl.hasClass(this._class("hover_el_onboarding"))}}],i=[{key:"controlClassName",get:function(){return"widget-creator"}}],n&&_(t.prototype,n),i&&_(t,i),s}(s.default);v.extend(v);const y=v;var b="../build/transpiled/interface/controls/widget_creator";window.define(b,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([b])},217416:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n(661533),a=n.n(i),r=n(629133),o=n.n(r),s=n(210734);function l(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){l(r,i,a,o,s,"next",e)}function s(e){l(r,i,a,o,s,"throw",e)}o(void 0)}))}}function u(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}const d=s.default.extend({controlClassName:"js-control-wysiwyg",_classes:function(){return{toolbar:"control-wysiwyg__toolbar",editable_area:"control-wysiwyg__area"}},events:{"input .ql-editor[contenteditable]":"_updateInput","paste .ql-editor[contenteditable]":"_updateInput","keydown .ql-editor[contenteditable]":"alignCheck","input .js-wysiwyg-input":"_initInput","click .control-wysiwyg__toolbar--item":"_updateInput","click .ql-custom-align .ql-picker-item":"setCustomStyle","click .ql-custom-size .ql-picker-item":"setCustomStyle","click .ql-custom-font .ql-picker-item":"setCustomStyle","click .ql-custom-color .ql-picker-item":"setCustomStyle","click .ql-custom-clean":"cleanFormatting","control:input:change":"onChange"},_selectors:function(){return{toolbar:".control-wysiwyg__toolbar",toolbar_item:".control-wysiwyg__toolbar--item",editable_area:".control-wysiwyg__area",editable_input:".js-wysiwyg-input",textarea:".ql-editor[contenteditable]",tips:".js-tip",tip_holder:".js-tip-holder",tips_item:".js-tips-item",font_size_tip_item:".ql-custom-size .js-tips-item",font_family_tip_item:".ql-custom-font .js-tips-item",ql_action:".ql-custom-link .ql-action"}},initialize:function(){return c((function(){var e,t,i,r=arguments;return u(this,(function(l){switch(l.label){case 0:return this._init_def=a().Deferred(),[4,n.e(59810).then(n.t.bind(n,759810,23))];case 1:return e=l.sent(),t=e.default,s.default.prototype.initialize.apply(this,r),(i=t.import("blots/block")).tagName="DIV",t.register(i,!0),this.$el.find(this._selector("editable_area")).addClass("".concat(this._class("editable_area"),"_").concat(this.cid)),this.$el.find(this._selector("toolbar")).addClass("".concat(this._class("toolbar"),"_").concat(this.cid)),this._updateQuill(t),this.quill=new t("".concat(this._selector("editable_area"),"_").concat(this.cid),{modules:{toolbar:{container:"".concat(this._selector("toolbar"),"_").concat(this.cid)}}}),this._init_def.resolve(),this._initInput(),this.quill.on("editor-change".concat(this.ns),o().bind(this.updateToolbarActivity,this)),this._findElem("ql_action").on("click",o().bind(this.setCustomLink,this)),[2]}}))})).apply(this)},_initInput:function(){return c((function(){var e;return u(this,(function(t){switch(t.label){case 0:return e=this._findElem("editable_input").val(),[4,this._init_def];case 1:return t.sent(),this.quill.clipboard.dangerouslyPasteHTML(e),[2]}}))})).apply(this)},onChange:function(e,t){this._elem("editable_input").val(t),this._initInput()},updateToolbarActivity:function(e){var t,n,i;if(("selection-change"!==e||arguments[1])&&("text-change"!==e||this.quill.getSelection())){var a=this.quill.getLine(this.quill.getSelection().index)[1];if(("selection-change"!==e||a||0===arguments[1].index)&&("text-change"!==e||a)){"text-change"===e?t=this.quill.getSelection():"selection-change"===e&&(t=arguments[1]);var r=this.quill.getFormat(t);this.$el.find(this._selector("tip_holder")).removeClass("ql-active").removeAttr("style"),this.$el.find(this._selector("tips_item")).removeClass("tips-item-selected"),o().each(o().keys(r),o().bind((function(e){i=r[e],"color"===e||"background"===e?((n=this.$el.find('.ql-custom-color[data-type="'.concat(e,'"]'))).find('.tips-item[data-value="'.concat(i.toUpperCase(),'"]')).addClass("tips-item-selected"),n.css("stroke",r[e])):(n=this.$el.find(".ql-custom-".concat(e))).find('.tips-item[data-value="'.concat(i,'"]')).addClass("tips-item-selected"),n.addClass("ql-active")}),this))}}},setCustomStyle:function(e){var t=a()(e.target).closest(this._selector("tips_item")),n=t.closest(this._selector("tip_holder")),i=t.data("value"),r=n.data("type");i.toString()&&r.toString()&&(this.quill.format(r,i,"user"),this.closeTips(),n.removeClass("ql-active").find(".tips-item-selected").removeClass("tips-item-selected"),("align"!==r||i)&&(t.addClass("tips-item-selected"),t.closest(this._selector("tip_holder")).addClass("ql-active"),"color"!==r&&"background"!==r||t.closest(this._selector("tip_holder")).css("stroke",i)))},setCustomLink:function(e){var t=a()(e.target).closest(".ql-tooltip").find(".ql-tooltip-input"),n=t.val();e.stopPropagation(),n&&(t.val(""),this.quill.format("link",n),this._updateInput(),this.closeTips())},cleanFormatting:function(){this.quill.removeFormat(0,this.quill.getLength()+1)},alignCheck:function(e){var t=this.quill.getLine(this.quill.getSelection().index)[1],n=this.quill.getFormat();8===e.keyCode&&(!t&&n.align&&(e.preventDefault(),this.$el.find('.ql-custom-align .ql-picker-item[data-value="false"]').click()),this._updateInput()),46!==e.keyCode&&13!==e.keyCode||this._updateInput()},closeTips:function(){this._elem("tips").hide()},_updateQuill:function(e){var t=this._getSizesArray(),n=this._getFontsArray(),i=e.import("attributors/style/align"),a=e.import("attributors/style/size"),r=e.import("attributors/style/font"),o=e.import("attributors/style/color"),s=e.import("formats/link"),l=e.import("attributors/style/background");a.whitelist=t,r.whitelist=n,e.register(a,!0),e.register(r,!0),e.register(i,!0),e.register(o,!0),e.register(l,!0),e.register(s,!0),e.debug(!1)},_getSizesArray:function(){return o().map(this._elem("font_size_tip_item"),(function(e){return a()(e).data("value")}))},_getFontsArray:function(){return o().map(this._elem("font_family_tip_item"),(function(e){return a()(e).data("value")}))},_updateInput:o().debounce((function(){var e=this._elem("textarea").html();"<p></p>"!==e&&"<p><br></p>"!==e||(e=""),this._elem("editable_input").val(e).trigger("change")}),100)});var _="../build/transpiled/interface/controls/wysiwyg";window.define(_,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([_])},344103:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var i=n(661533),a=n.n(i);const r={addBotToFavorites:function(e){return a().ajax({url:"/ajax/v4/bots/".concat(e,"/star"),method:"POST",dataType:"json"})},addTemplateToFavorites:function(e){return a().ajax({url:"/ajax/v4/chats/templates/".concat(e,"/star"),method:"POST",dataType:"json"})},removeBotFromFavorites:function(e){return a().ajax({url:"/ajax/v4/bots/".concat(e,"/star"),method:"DELETE",dataType:"json"})},removeTemplateFromFavorites:function(e){return a().ajax({url:"/ajax/v4/chats/templates/".concat(e,"/star"),method:"DELETE",dataType:"json"})}};var o="../build/transpiled/network/favorites/api";window.define(o,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([o])},993595:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var i=n(643095),a=n(500034),r=n(258471),o=n(397927);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){l(r,i,a,o,s,"next",e)}function s(e){l(r,i,a,o,s,"throw",e)}o(void 0)}))}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,r=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}var _=function(){return(0,a.isFeatureAvailable)("single_timeline")?Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(70013),n.e(76265),n.e(53081),n.e(8289),n.e(93103),n.e(26632),n.e(11958),n.e(14095),n.e(15656),n.e(68924),n.e(56973),n.e(58551),n.e(65062),n.e(42693),n.e(8232),n.e(52434),n.e(67914),n.e(42315),n.e(9034),n.e(44897),n.e(60882),n.e(75897),n.e(26775),n.e(2836),n.e(34364),n.e(26901),n.e(76987),n.e(42378),n.e(63865),n.e(44875),n.e(30807),n.e(81587),n.e(64657),n.e(71153)]).then(n.bind(n,310878)):Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(70013),n.e(76265),n.e(53081),n.e(8289),n.e(93103),n.e(26632),n.e(11958),n.e(14095),n.e(15656),n.e(68924),n.e(56973),n.e(58551),n.e(65062),n.e(42693),n.e(8232),n.e(52434),n.e(67914),n.e(42315),n.e(9034),n.e(44897),n.e(60882),n.e(75897),n.e(26775),n.e(2836),n.e(34364),n.e(26901),n.e(76987),n.e(42378),n.e(63865),n.e(44875),n.e(30807),n.e(81587),n.e(74526)]).then(n.bind(n,182025))},h=function(){return(0,a.isFeatureAvailable)("single_timeline")?Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(85067),n.e(37084),n.e(40446),n.e(71202),n.e(95882),n.e(18194),n.e(93671),n.e(70013),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(76265),n.e(53081),n.e(8289),n.e(72191),n.e(8481),n.e(36637),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(42693),n.e(8232),n.e(67914),n.e(42315),n.e(9034),n.e(44897),n.e(60882),n.e(37107),n.e(75897),n.e(26775),n.e(2836),n.e(34364),n.e(26901),n.e(76987),n.e(42378),n.e(63865),n.e(44875),n.e(30807),n.e(7426),n.e(21372),n.e(77133),n.e(78636),n.e(81587),n.e(93430),n.e(77641),n.e(64657),n.e(6144)]).then(n.bind(n,606144)):Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(85067),n.e(37084),n.e(40446),n.e(71202),n.e(95882),n.e(18194),n.e(93671),n.e(70013),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(76265),n.e(53081),n.e(8289),n.e(72191),n.e(8481),n.e(36637),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(42693),n.e(8232),n.e(67914),n.e(42315),n.e(9034),n.e(44897),n.e(60882),n.e(37107),n.e(75897),n.e(26775),n.e(2836),n.e(34364),n.e(26901),n.e(76987),n.e(42378),n.e(63865),n.e(44875),n.e(30807),n.e(7426),n.e(21372),n.e(77133),n.e(78636),n.e(81587),n.e(93430),n.e(77641),n.e(64657),n.e(7259)]).then(n.bind(n,7259))},p=function(){return(0,a.isFeatureAvailable)("single_timeline")?Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(85067),n.e(7007),n.e(37084),n.e(40446),n.e(71202),n.e(95882),n.e(18194),n.e(93671),n.e(70013),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(76265),n.e(53081),n.e(8289),n.e(72191),n.e(8481),n.e(36637),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(42693),n.e(8232),n.e(67914),n.e(42315),n.e(9034),n.e(44897),n.e(60882),n.e(37107),n.e(75897),n.e(26775),n.e(2836),n.e(34364),n.e(26901),n.e(76987),n.e(42378),n.e(63865),n.e(44875),n.e(30807),n.e(7426),n.e(21372),n.e(77133),n.e(78636),n.e(81587),n.e(93430),n.e(77641),n.e(64657),n.e(6144),n.e(10580)]).then(n.bind(n,310580)):Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(85067),n.e(7007),n.e(37084),n.e(40446),n.e(71202),n.e(95882),n.e(18194),n.e(93671),n.e(70013),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(76265),n.e(53081),n.e(8289),n.e(72191),n.e(8481),n.e(36637),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(42693),n.e(8232),n.e(67914),n.e(42315),n.e(9034),n.e(44897),n.e(60882),n.e(37107),n.e(75897),n.e(26775),n.e(2836),n.e(34364),n.e(26901),n.e(76987),n.e(42378),n.e(63865),n.e(44875),n.e(30807),n.e(7426),n.e(21372),n.e(77133),n.e(78636),n.e(81587),n.e(93430),n.e(77641),n.e(64657),n.e(7259),n.e(74104)]).then(n.bind(n,574104))};const f={"dashboard(/)":["dashboard",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.DASHBOARD),Promise.all([n.e(56740),n.e(59966),n.e(60139),n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(39042),n.e(79954),n.e(20064),n.e(7390),n.e(10642),n.e(52758),n.e(39970),n.e(65062),n.e(72209),n.e(41150),n.e(15306)]).then(n.bind(n,189865))}],"leads/list/pipeline(/)(:id)(/)(page/:page/)":["leads",function(e){try{var t=u(e.args,1)[0];(0,o.setActiveItemId)("".concat(o.KnownNavigationItemIdV2.LEADS,"_").concat(t))}catch(e){(0,i.captureException)(e,{tags:{text:"Error in 'leads/list/pipeline(/)(:id)(/)(page/:page/)' route while setting active item id"}})}return(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.LEADS_LIST:r.TrackedMetricType.LEADS_LIST_NAVIGATION),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(895),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(75222),n.e(83993),n.e(2436),n.e(86567)]).then(n.bind(n,340745))}],"leads/list(/)(page/:page/)":["leads",function(){return(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.LEADS_LIST:r.TrackedMetricType.LEADS_LIST_NAVIGATION),(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.ALL_LEADS),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(895),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(75222),n.e(83993),n.e(2436),n.e(34441)]).then(n.bind(n,832328))}],"leads/trash(/)(page/:page/)":["leads-trash",function(){return(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.LEADS_LIST:r.TrackedMetricType.LEADS_LIST_NAVIGATION),(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.ALL_LEADS),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(895),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(75222),n.e(83993),n.e(2436),n.e(34441)]).then(n.bind(n,832328))}],"leads/pipeline(/)(:id)(/)(?*qs)":["leads-pipeline",function(e){try{var t=u(e.args,1)[0];(0,o.setActiveItemId)("".concat(o.KnownNavigationItemIdV2.LEADS,"_").concat(t))}catch(e){(0,i.captureException)(e,{tags:{text:"Error in 'leads/pipeline(/)(:id)(/)(?*qs)' route while setting active item id"}})}return(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.LEADS_PIPELINE:r.TrackedMetricType.LEADS_PIPELINE_NAVIGATION),Promise.all([n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(79954),n.e(7390),n.e(65062),n.e(42984),n.e(37107),n.e(75222),n.e(83993),n.e(91291),n.e(1454)]).then(n.bind(n,913767))}],"leads/detail/:id(/)":["leads",function(){return(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.LEAD_CARD:r.TrackedMetricType.LEAD_CARD_NAVIGATION),_()},{is_card:!0}],"leads/add(/)":["leads",_,{is_card:!0}],"imbox(/)":["chats",function(){return(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NO_SELECTED:r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NO_SELECTED_NAVIGATION),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(85067),n.e(37084),n.e(40446),n.e(95882),n.e(18194),n.e(93671),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(72191),n.e(8481),n.e(36637),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(37107),n.e(7426),n.e(21372),n.e(77133),n.e(78636),n.e(93430),n.e(77641),n.e(18641)]).then(n.bind(n,763149))}],"imbox/:talk_id/leads/detail/:id(/)":["leads",function(e){var t=e.pageType;return t===r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NO_SELECTED||t===r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NO_SELECTED_NAVIGATION||(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_WITH_LEAD_CARD:r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NAVIGATION),h()},{is_card:!0}],"imbox/leads/detail/:id(/)":["leads",function(){return(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_WITH_LEAD_CARD:r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NAVIGATION),h()},{is_card:!0}],"imbox/:talk_id/customers/detail/:id(/)":["customers",function(){return(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_WITH_LEAD_CARD:r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NAVIGATION),p()},{is_card:!0}],"imbox/:talk_id/contacts/detail/:id(/)":["contacts",function(){return(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_WITH_LEAD_CARD:r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NAVIGATION),h()},{is_card:!0}],"chats(/)":["chats",function(){return(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_DIALOGS:r.TrackedMetricType.INBOX_DIALOGS_NAVIGATION),(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CHATS_INBOX),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(85067),n.e(37084),n.e(40446),n.e(95882),n.e(18194),n.e(93671),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(72191),n.e(8481),n.e(36637),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(37107),n.e(7426),n.e(21372),n.e(77133),n.e(78636),n.e(93430),n.e(77641),n.e(18641)]).then(n.bind(n,763149))}],"chats/mentions/:user_id(/)":["leads",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.TEAM_INBOX),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(85067),n.e(37084),n.e(40446),n.e(95882),n.e(18194),n.e(93671),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(72191),n.e(8481),n.e(36637),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(37107),n.e(7426),n.e(21372),n.e(77133),n.e(78636),n.e(93430),n.e(77641),n.e(18641)]).then(n.bind(n,763149))}],"teams/mentions/:user_id(/)":["leads",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.TEAM_INBOX),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(85067),n.e(37084),n.e(40446),n.e(95882),n.e(18194),n.e(93671),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(72191),n.e(8481),n.e(36637),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(37107),n.e(7426),n.e(21372),n.e(77133),n.e(78636),n.e(93430),n.e(77641),n.e(18641)]).then(n.bind(n,763149))}],"chats/tools/:tool(/)":["chats",(g=c((function(e){var t,i,s,l;return d(this,(function(c){if((0,a.isFeatureAvailable)(a.Features.SYSTEM_NAVIGATION_V2)){if(t=e.args,i=u(t,1),!(s=i[0]))return[2];if((l={broadcasting:function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.BROADCASTING),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(37084),n.e(40446),n.e(95882),n.e(18194),n.e(93671),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(75087)]).then(n.bind(n,61723)).then((function(e){return{default:e.BroadcastingPage}}))},templates:function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CHAT_TEMPLATES),Promise.all([n.e(89086),n.e(93671),n.e(70013),n.e(24153),n.e(3473),n.e(84770),n.e(26632),n.e(35412),n.e(17815),n.e(44364),n.e(24402),n.e(97901),n.e(39436),n.e(9495),n.e(50050),n.e(66791),n.e(56900),n.e(21608),n.e(7055),n.e(93936),n.e(95515),n.e(252)]).then(n.bind(n,252143))},bots:function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.BOTS),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(48198),n.e(95882),n.e(18194),n.e(93671),n.e(70013),n.e(38994),n.e(72191),n.e(15028),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(42693),n.e(82984),n.e(58432),n.e(12651),n.e(60882),n.e(44364),n.e(7426),n.e(21372),n.e(77133),n.e(69329),n.e(36442),n.e(46826),n.e(37951),n.e(74174),n.e(73969),n.e(46843)]).then(n.bind(n,638044))}})[s])return[2,l[s]()]}return(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_DIALOGS:r.TrackedMetricType.INBOX_DIALOGS_NAVIGATION),[2,Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(85067),n.e(37084),n.e(40446),n.e(95882),n.e(18194),n.e(93671),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(72191),n.e(8481),n.e(36637),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(37107),n.e(7426),n.e(21372),n.e(77133),n.e(78636),n.e(93430),n.e(77641),n.e(18641)]).then(n.bind(n,763149))]}))})),function(e){return g.apply(this,arguments)})],"chats/:talk_id/leads/detail/:id(/)":["leads",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CHATS_INBOX),(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_WITH_LEAD_CARD:r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NAVIGATION),h()},{is_card:!0}],"chats/leads/detail/:id(/)":["leads",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CHATS_INBOX),(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_WITH_LEAD_CARD:r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NAVIGATION),h()},{is_card:!0}],"chats/:talk_id/customers/detail/:id(/)":["customers",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CHATS_INBOX),(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_WITH_CUSTOMERS_CARD:r.TrackedMetricType.INBOX_WITH_CUSTOMERS_CARD_NAVIGATION),p()},{is_card:!0}],"chats/:talk_id/contacts/detail/:id(/)":["contacts",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CHATS_INBOX),(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_WITH_CONTACT_CARD:r.TrackedMetricType.INBOX_WITH_CONTACT_CARD_NAVIGATION),h()},{is_card:!0}],"teams(/)":["chats",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.TEAM_INBOX),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(85067),n.e(37084),n.e(40446),n.e(95882),n.e(18194),n.e(93671),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(72191),n.e(8481),n.e(36637),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(37107),n.e(7426),n.e(21372),n.e(77133),n.e(78636),n.e(93430),n.e(77641),n.e(18641)]).then(n.bind(n,763149))}],"teams/mentions/leads/detail/:id(/)":["leads",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.TEAM_INBOX),(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_WITH_LEAD_CARD:r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NAVIGATION),h()},{is_card:!0}],"teams/mentions/customers/detail/:id(/)":["customers",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.TEAM_INBOX),(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_WITH_LEAD_CARD:r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NAVIGATION),p()},{is_card:!0}],"teams/mentions/contacts/detail/:id(/)":["contacts",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.TEAM_INBOX),(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.INBOX_WITH_LEAD_CARD:r.TrackedMetricType.INBOX_WITH_LEAD_CARD_NAVIGATION),h()},{is_card:!0}],"whatsapp/features(/)":["whatsapp",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.WHATSAPP_FEATURES),n.e(46504).then(n.bind(n,546504))}],"whatsapp/broadcasting(/)":["whatsapp",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.WHATSAPP_BROADCASTING),n.e(46504).then(n.bind(n,546504))}],"whatsapp/templates-and-bots(/)":["whatsapp",function(){return n.e(46504).then(n.bind(n,546504))}],"whatsapp/ai-agent(/)":["whatsapp",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.WHATSAPP_AI_AGENT),n.e(46504).then(n.bind(n,546504))}],"whatsapp/templates(/)":["whatsapp",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.WHATSAPP_TEMPLATES),Promise.all([n.e(89086),n.e(93671),n.e(70013),n.e(24153),n.e(3473),n.e(15705),n.e(26632),n.e(35412),n.e(17815),n.e(44364),n.e(24402),n.e(97901),n.e(39436),n.e(9495),n.e(50050),n.e(66791),n.e(56900),n.e(21608),n.e(7055),n.e(93936),n.e(95515),n.e(45797)]).then(n.bind(n,637714))}],"whatsapp/bots(/)":["whatsapp",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.WHATSAPP_BOTS),n.e(46504).then(n.bind(n,546504))}],"customers/list(/page/:page)(/)":["customers",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CUSTOMERS),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(55634),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(75222),n.e(66527)]).then(n.bind(n,720348))}],"customers/pipeline(*plug)":["customers-pipeline",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CUSTOMERS),Promise.all([n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(79954),n.e(7390),n.e(65062),n.e(70112),n.e(42984),n.e(37107),n.e(75222),n.e(91291),n.e(45344)]).then(n.bind(n,246923))}],"customers/trash(/)(page/:page/)":["customers-trash",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CUSTOMERS),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(55634),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(75222),n.e(66527)]).then(n.bind(n,720348))}],"customers/detail/:id(/)":["customers",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CUSTOMERS),(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.CUSTOMERS_CARD:r.TrackedMetricType.CUSTOMERS_CARD_NAVIGATION),_()},{is_card:!0}],"customers/add(/)":["customers",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CUSTOMERS),_()},{is_card:!0}],"customers/segments(/)":["customers-dp",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CUSTOMERS),Promise.all([n.e(95882),n.e(18194),n.e(93671),n.e(38994),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(14095),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(42693),n.e(52434),n.e(82984),n.e(58432),n.e(12651),n.e(38467),n.e(69329),n.e(73413),n.e(56441),n.e(60291),n.e(77129)]).then(n.bind(n,976591))}],"contacts/list(/)(:element_type)(/)(page/:page)(/)":["contacts",function(){var e=c((function(e){var t,a,r;return d(this,(function(s){try{t=e.args,a=u(t,1),r=a[0],(0,o.setActiveItemId)(r?"".concat(o.KnownNavigationItemIdV2.CATALOGS,"_").concat(r):o.KnownNavigationItemIdV2.CONTACTS_ALL)}catch(e){(0,i.captureException)(e,{tags:{text:"Error in 'contacts/list(/)(:element_type)(/)(page/:page)(/)' route while setting active item id"}})}return[2,Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(75222),n.e(43812)]).then(n.bind(n,79829))]}))}));return function(t){return e.apply(this,arguments)}}()],"contacts/trash(/)(page/:page/)":["contacts-trash",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CONTACTS_ALL),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(75222),n.e(43812)]).then(n.bind(n,79829))}],"contacts/detail/:id(/)":["contacts",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CONTACTS),(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.CONTACTS_CARD:r.TrackedMetricType.CONTACTS_CARD_NAVIGATION),_()},{is_card:!0}],"contacts/add(/)":["contacts",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CONTACTS),_()},{is_card:!0}],"companies/detail/:id(/)":["companies",function(){return(0,r.setDefaultMetricNamespace)(APP.first_load?r.TrackedMetricType.COMPANIES_CARD:r.TrackedMetricType.COMPANIES_CARD_NAVIGATION),(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.COMPANIES),_()},{is_card:!0}],"companies/add(/)":["companies",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.COMPANIES),_()},{is_card:!0}],"files/list(/)(page/:page)(/)":["files",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.FILES),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(65164),n.e(95882),n.e(18194),n.e(93671),n.e(71843),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(73413),n.e(15180),n.e(1103),n.e(90672),n.e(88097)]).then(n.bind(n,628573))}],"files/trash(/)(page/:page)(/)":["files-trash",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.FILES),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(65164),n.e(95882),n.e(18194),n.e(93671),n.e(71843),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(73413),n.e(15180),n.e(1103),n.e(90672),n.e(88097)]).then(n.bind(n,628573))}],"files/detail/:id(/)":["files",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.FILES),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(65164),n.e(95882),n.e(18194),n.e(93671),n.e(71843),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(73413),n.e(15180),n.e(1103),n.e(90672),n.e(88097)]).then(n.bind(n,628573))},{is_card:!0}],"mail/:folder(/:box)(/page/:page)(/)":["mail",function(e){try{var t=u(e.args,2),a=t[0],r=t[1],s="";if(r)s="".concat(o.KnownNavigationItemIdV2.EMAIL_INBOX,"_").concat(r);else switch(a){case"sent":s=o.KnownNavigationItemIdV2.EMAIL_SENT;break;case"inbox":s=o.KnownNavigationItemIdV2.EMAIL_RECEIVED;break;case"deleted":s=o.KnownNavigationItemIdV2.EMAIL_DELETED}(0,o.setActiveItemId)(s,o.KnownNavigationItemIdV2.EMAIL_INBOX)}catch(e){(0,i.captureException)(e,{tags:{text:"Error in 'mail/:folder(/:box)(/page/:page)(/)' route while setting active item id"}})}return Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(80659)]).then(n.bind(n,174833))}],"mail/settings(/)":["mail",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.SETTINGS_EMAIL,o.KnownNavigationItemIdV2.EMAIL_INBOX),Promise.all([n.e(95882),n.e(93103),n.e(11958),n.e(14095),n.e(35071),n.e(55450),n.e(70)]).then(n.bind(n,794901))}],"mail/templates(/)":["mail",function(){return(0,o.setActiveItemId)("",o.KnownNavigationItemIdV2.EMAIL_TEMPLATES),Promise.all([n.e(95882),n.e(11958),n.e(14095),n.e(35071),n.e(16038)]).then(n.bind(n,192501))}],"mail/thread/:id(/)":["mail",function(){return APP.first_load&&(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.EMAIL_RECEIVED,o.KnownNavigationItemIdV2.EMAIL_INBOX),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(93671),n.e(93103),n.e(26632),n.e(11958),n.e(14095),n.e(15656),n.e(56973),n.e(81587),n.e(90674)]).then(n.bind(n,366584))},{is_card:!0}],"mail/thread/new(/)":["mail",function(){return APP.first_load&&(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.EMAIL_RECEIVED,o.KnownNavigationItemIdV2.EMAIL_INBOX),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(93671),n.e(93103),n.e(26632),n.e(11958),n.e(14095),n.e(15656),n.e(56973),n.e(81587),n.e(90674)]).then(n.bind(n,366584))},{is_card:!0}],"todo/list(/)(page/:page/)":["todo",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.TASKS),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(18050),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(75222),n.e(5629),n.e(67190)]).then(n.bind(n,202945))}],"todo/trash(/)(page/:page/)":["todo-trash",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.TASKS),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(18050),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(42984),n.e(448),n.e(75222),n.e(5629),n.e(67190)]).then(n.bind(n,202945))}],"todo/line(/)":["todo-line",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.TASKS),Promise.all([n.e(76012),n.e(20983),n.e(39700),n.e(95882),n.e(18194),n.e(93671),n.e(18050),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(79954),n.e(14095),n.e(15656),n.e(7390),n.e(68924),n.e(56973),n.e(65062),n.e(75222),n.e(5629),n.e(7475)]).then(n.bind(n,238811))}],"todo/calendar(/)(:view)(/)":["todo-calendar",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.TASKS),Promise.all([n.e(76012),n.e(20983),n.e(95882),n.e(18194),n.e(93671),n.e(18050),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(79954),n.e(14095),n.e(15656),n.e(7390),n.e(68924),n.e(56973),n.e(65062),n.e(75222),n.e(5629),n.e(64281)]).then(n.bind(n,379681))}],"events/list(/)(page/:page/)":["events",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.ACTIVITY_LOG),Promise.all([n.e(56740),n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(39042),n.e(79954),n.e(20064),n.e(7390),n.e(10642),n.e(52758),n.e(39970),n.e(65062),n.e(42984),n.e(448),n.e(30734),n.e(41150),n.e(82577)]).then(n.bind(n,146132))}],"authlog/list(/)(page/:page/)":["authlog",function(){return Promise.all([n.e(56740),n.e(81142),n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(39042),n.e(79954),n.e(20064),n.e(7390),n.e(10642),n.e(52758),n.e(65062),n.e(42984),n.e(448),n.e(96416)]).then(n.bind(n,422766))}],"stats/pipeline(/)":["stats",function(){return(0,o.setActiveItemId)(""),Promise.all([n.e(60139),n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(79954),n.e(20064),n.e(72209),n.e(30734),n.e(99107)]).then(n.bind(n,916398))}],"stats/by_activities(/)(:id)(/)":["stats-human",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.REPORT_BY_ACTIVITIES),Promise.all([n.e(56740),n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(39042),n.e(79954),n.e(20064),n.e(7390),n.e(10642),n.e(52758),n.e(39970),n.e(65062),n.e(41150),n.e(61561)]).then(n.bind(n,143500))}],"stats/by_activities(/)":["stats-human",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.REPORT_BY_ACTIVITIES),Promise.all([n.e(56740),n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(39042),n.e(79954),n.e(20064),n.e(7390),n.e(10642),n.e(52758),n.e(39970),n.e(65062),n.e(42984),n.e(448),n.e(30734),n.e(41150),n.e(2400)]).then(n.bind(n,932248))}],"stats/customers(/)":["stats",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.REPORT_BY_CUSTOMERS),Promise.all([n.e(60139),n.e(93103),n.e(90580),n.e(12897),n.e(79954),n.e(20064),n.e(72209),n.e(11751)]).then(n.bind(n,10946))}],"stats/consolidated(/)(:report/)":["stats",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CONSOLIDATED_REPORT),Promise.all([n.e(60139),n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(79954),n.e(20064),n.e(72209),n.e(30734),n.e(82349)]).then(n.bind(n,344359))}],"stats/calls(/)(:report/)":["statsCalls",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CALL_REPORT),Promise.all([n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(79954),n.e(20064),n.e(10642),n.e(30734),n.e(4919)]).then(n.bind(n,593053))}],"stats/operday(/)":["statsOperday",function(){return Promise.all([n.e(56740),n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(39042),n.e(79954),n.e(20064),n.e(7390),n.e(10642),n.e(52758),n.e(65062),n.e(70112),n.e(68833),n.e(32814),n.e(15549)]).then(n.bind(n,215549))}],"stats/goals(/)":["stats",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.GOAL_REPORT),Promise.all([n.e(93103),n.e(90580),n.e(12897),n.e(79954),n.e(20064),n.e(30734),n.e(52136)]).then(n.bind(n,408949))}],"stats/goals/leads_price(/)":["stats",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.GOAL_REPORT),Promise.all([n.e(93103),n.e(90580),n.e(12897),n.e(79954),n.e(20064),n.e(30734),n.e(52136)]).then(n.bind(n,408949))}],"stats/goals/leads_count(/)":["stats",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.GOAL_REPORT),Promise.all([n.e(93103),n.e(90580),n.e(12897),n.e(79954),n.e(20064),n.e(30734),n.e(52136)]).then(n.bind(n,408949))}],"stats/goals/settings(/)":["stats",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.GOAL_REPORT),n.e(79666).then(n.bind(n,279666))}],"stats/widgets/(:widget_code)(/)(:subitem_code)(/)":["widget-page",function(){return(0,o.setActiveItemId)(""),n.e(91300).then(n.bind(n,191300))},{params:{entity:"stats"},is_card:!1}],"stats/widgets/(:widget_code)(/)":["advanced-stats",function(){return(0,o.setActiveItemId)(""),n.e(96777).then(n.bind(n,296777))},{params:{entity:"advanced-stats"},is_card:!1}],"settings/profile(/)":["settings",function(){return(0,o.setActiveItemId)(""),Promise.all([n.e(95882),n.e(24153),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(39042),n.e(35412),n.e(74020)]).then(n.bind(n,136544))}],"settings(/)":["settings",function(){return(0,o.setActiveItemId)(""),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(71843),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(90672),n.e(94897)]).then(n.bind(n,740849))}],"settings/new_version(/)":["settings",function(){return n.e(27272).then(n.bind(n,127272))}],"backup(/)(:key/)":["settings",function(){return Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(71843),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(90672),n.e(94897)]).then(n.bind(n,740849))}],"settings/custom_fields(/)":["settings",function(){return Promise.all([n.e(19232),n.e(40969)]).then(n.bind(n,540969))}],"settings/scoring(/)":["settings",function(){return n.e(53606).then(n.bind(n,653606))}],"settings/widgets(/)(:widget_code)(/)(:subitem_code)(/)":["widget-page",function(){return(0,o.setActiveItemId)(""),n.e(91300).then(n.bind(n,191300))},{params:{entity:"settings"},is_card:!1}],"settings/widgets(/)(:widget_code)(/)":["advanced-settings",function(){return(0,o.setActiveItemId)(""),n.e(91300).then(n.bind(n,191300))},{params:{entity:"advanced"},is_card:!1}],"settings/widgets(/)":["widgetsSettings",function(){return(0,o.setActiveItemId)(""),(0,a.isFeatureAvailable)("global_marketplace")?Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(37084),n.e(40446),n.e(1296),n.e(95882),n.e(18194),n.e(93671),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(72191),n.e(60139),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(42693),n.e(6476),n.e(7426),n.e(21372),n.e(77133),n.e(72209),n.e(76649),n.e(35950),n.e(45606),n.e(48280),n.e(24967),n.e(79835),n.e(70294),n.e(40401),n.e(79753)]).then(n.bind(n,291190)):Promise.all([n.e(1296),n.e(95882),n.e(11958),n.e(42693),n.e(6476),n.e(70294),n.e(58640)]).then(n.bind(n,817713))}],"amo-market(/)":["widgetsSettings",function(){return Promise.all([n.e(1296),n.e(95882),n.e(11958),n.e(42693),n.e(6476),n.e(70294),n.e(58640)]).then(n.bind(n,817713))}],"amo-market/application(/)":["widgetsSettings",function(){return Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(60139),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(72209),n.e(76649),n.e(35950),n.e(45606),n.e(48280),n.e(24967),n.e(79835),n.e(93446)]).then(n.bind(n,465143))}],"amo-market/sales(/)":["widgetsSettings",function(){return Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(95882),n.e(18194),n.e(93671),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(65062),n.e(70112),n.e(60200),n.e(46631)]).then(n.bind(n,32182))}],"settings/dev(/)(page/:page/)":["dev",function(){return Promise.all([n.e(35571),n.e(76921)]).then(n.bind(n,676921))}],"settings/users(/)":["settings-users",function(){return(0,o.setActiveItemId)(""),Promise.all([n.e(56740),n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(39042),n.e(79954),n.e(20064),n.e(7390),n.e(10642),n.e(52758),n.e(65062),n.e(42984),n.e(448),n.e(7963)]).then(n.bind(n,716165))}],"settings/pipeline/leads(/)(:id)(/)":["leads-dp",function(e){try{var t=u(e.args,1)[0];(0,o.setActiveItemId)("".concat(o.KnownNavigationItemIdV2.LEADS,"_").concat(t))}catch(e){(0,i.captureException)(e,{tags:{text:"Error in 'settings/pipeline/leads(/)(:id)(/)' route while setting active item id"}})}return Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(46014),n.e(77202),n.e(37084),n.e(40446),n.e(95882),n.e(18194),n.e(93671),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(6712),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(42693),n.e(82984),n.e(58432),n.e(12651),n.e(37107),n.e(38467),n.e(17433),n.e(74687),n.e(72154),n.e(59886),n.e(61494),n.e(81916),n.e(95971),n.e(40488),n.e(41473),n.e(38706),n.e(36767),n.e(56441),n.e(22216)]).then(n.bind(n,718964))}],"settings/pipeline/customers(/)(:id)(/)":["customers-dp",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.CUSTOMERS),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(46014),n.e(77202),n.e(37084),n.e(40446),n.e(95882),n.e(18194),n.e(93671),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(6712),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(42693),n.e(82984),n.e(58432),n.e(12651),n.e(37107),n.e(38467),n.e(17433),n.e(74687),n.e(72154),n.e(59886),n.e(61494),n.e(81916),n.e(95971),n.e(40488),n.e(41473),n.e(38706),n.e(36767),n.e(56441),n.e(22216)]).then(n.bind(n,718964))}],"settings/communications(/)":["settings-communications",function(){return(0,o.setActiveItemId)(""),Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(48198),n.e(95882),n.e(18194),n.e(93671),n.e(70013),n.e(38994),n.e(72191),n.e(15028),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(42693),n.e(82984),n.e(58432),n.e(12651),n.e(60882),n.e(44364),n.e(7426),n.e(21372),n.e(77133),n.e(69329),n.e(36442),n.e(46826),n.e(37951),n.e(74174),n.e(73969),n.e(88443)]).then(n.bind(n,528446)).then((function(e){return{default:e.default.Page}}))}],"settings/ai(/)":["settings-ai",c((function(){return d(this,(function(e){switch(e.label){case 0:return(0,o.setActiveItemId)(""),[4,Promise.all([n.e(40385),n.e(95882),n.e(70013),n.e(24153),n.e(76265),n.e(72199),n.e(26632),n.e(35412),n.e(67914),n.e(42315),n.e(9034),n.e(76554),n.e(59722),n.e(63186),n.e(46215)]).then(n.bind(n,524217))];case 1:return[2,{default:e.sent().default}]}}))}))],"settings/ai-agent(/)":["settings",c((function(){return d(this,(function(e){switch(e.label){case 0:return(0,o.setActiveItemId)(""),[4,Promise.all([n.e(65814),n.e(95882),n.e(70013),n.e(24153),n.e(15028),n.e(72199),n.e(32371),n.e(93103),n.e(26632),n.e(90580),n.e(35412),n.e(76554),n.e(59722),n.e(94211),n.e(25024),n.e(96901),n.e(64177),n.e(14430),n.e(894),n.e(60587),n.e(22931),n.e(40066),n.e(74784),n.e(16580),n.e(11495)]).then(n.bind(n,717403))];case 1:return[2,{default:e.sent().AiAgentPage}]}}))}))],"settings/ai-knowledge-sources(/)":["settings",c((function(){return d(this,(function(e){switch(e.label){case 0:return(0,o.setActiveItemId)(""),[4,Promise.all([n.e(40385),n.e(95882),n.e(70013),n.e(24153),n.e(72199),n.e(26632),n.e(35412),n.e(76554),n.e(59722),n.e(63186),n.e(22799)]).then(n.bind(n,409282))];case 1:return[2,{default:e.sent().AiKnowledgeSourcesPage}]}}))}))],"settings/templates(/)":["settings",function(){return(0,o.setActiveItemId)(""),Promise.all([n.e(89086),n.e(93671),n.e(70013),n.e(24153),n.e(3473),n.e(84770),n.e(26632),n.e(35412),n.e(17815),n.e(44364),n.e(24402),n.e(97901),n.e(39436),n.e(9495),n.e(50050),n.e(66791),n.e(56900),n.e(21608),n.e(7055),n.e(93936),n.e(95515),n.e(252)]).then(n.bind(n,252143))}],"settings/pay(/)(orders)(/)(page/:page/)(/)":["settings",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.SETTINGS_BILLING),(0,a.isFeatureAvailable)("billing_global")?Promise.all([n.e(95882),n.e(92317),n.e(30209),n.e(77656)]).then(n.bind(n,997600)):Promise.all([n.e(56740),n.e(95882),n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(39042),n.e(79954),n.e(20064),n.e(7390),n.e(10642),n.e(52758),n.e(39970),n.e(65062),n.e(30209),n.e(76006)]).then(n.bind(n,769586))},{params:{orders:!0}}],"settings/pay(/)":["settings",function(){return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.SETTINGS_BILLING),(0,a.isFeatureAvailable)("billing_global")?Promise.all([n.e(95882),n.e(92317),n.e(30209),n.e(77656)]).then(n.bind(n,997600)):Promise.all([n.e(56740),n.e(95882),n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(39042),n.e(79954),n.e(20064),n.e(7390),n.e(10642),n.e(52758),n.e(39970),n.e(65062),n.e(30209),n.e(76006)]).then(n.bind(n,769586))}],"help(/)":["help",function(){APP.router.navigate("/home",{trigger:!0})}],"home(/)":["home",c((function(){return d(this,(function(e){switch(e.label){case 0:return(0,o.setActiveItemId)(o.KnownNavigationItemIdV2.HOME),[4,Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(37084),n.e(40446),n.e(95882),n.e(18194),n.e(93671),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(65913),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(42693),n.e(54581),n.e(56180)]).then(n.bind(n,747123))];case 1:return[2,{default:e.sent().HomePage}]}}))}))],"catalogs(/)(:id)(/)(page/:page/)(/)":["catalogs",function(e){try{var t=u(e.args,1)[0];(0,o.setActiveItemId)("".concat(o.KnownNavigationItemIdV2.CATALOGS,"_").concat(t))}catch(e){(0,i.captureException)(e,{tags:{text:"Error in 'catalogs(/)(:id)(/)(page/:page/)(/)' route while setting active item id"}})}return Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(65164),n.e(95882),n.e(18194),n.e(93671),n.e(70013),n.e(76265),n.e(53081),n.e(8289),n.e(55634),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(58551),n.e(42693),n.e(8232),n.e(67914),n.e(42315),n.e(9034),n.e(44897),n.e(60882),n.e(42984),n.e(448),n.e(75897),n.e(26775),n.e(2836),n.e(34364),n.e(26901),n.e(76987),n.e(42378),n.e(63865),n.e(44875),n.e(30807),n.e(75222),n.e(73413),n.e(15180),n.e(79310),n.e(1103),n.e(92729)]).then(n.bind(n,804066))}],"catalogs/(:id)/detail/(:element_id)(/)":["catalogs",function(e){try{var t=u(e.args,1)[0];(0,o.setActiveItemId)("".concat(o.KnownNavigationItemIdV2.CATALOGS,"_").concat(t))}catch(e){(0,i.captureException)(e,{tags:{text:"Error in 'catalogs/(:id)/detail/(:element_id)(/)' route while setting active item id"}})}return Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(65164),n.e(95882),n.e(18194),n.e(93671),n.e(70013),n.e(76265),n.e(53081),n.e(8289),n.e(55634),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(58551),n.e(42693),n.e(8232),n.e(67914),n.e(42315),n.e(9034),n.e(44897),n.e(60882),n.e(42984),n.e(448),n.e(75897),n.e(26775),n.e(2836),n.e(34364),n.e(26901),n.e(76987),n.e(42378),n.e(63865),n.e(44875),n.e(30807),n.e(75222),n.e(73413),n.e(15180),n.e(79310),n.e(1103),n.e(92729)]).then(n.bind(n,804066))}],"amo-market/ads-manager(/)":["widgetsSettings",function(){return Promise.all([n.e(56740),n.e(93103),n.e(26632),n.e(90580),n.e(12897),n.e(39042),n.e(79954),n.e(20064),n.e(7390),n.e(10642),n.e(52758),n.e(65062),n.e(38880)]).then(n.bind(n,542223))}],"mobile/onboarding(/)":["mobile",function(){return Promise.all([n.e(37084),n.e(16228),n.e(21932),n.e(47419),n.e(83799)]).then(n.bind(n,486735))}],"_support/:entity/list(/)(page/:page)(/)":["support",function(){return Promise.all([n.e(26632),n.e(10642),n.e(1991),n.e(48672)]).then(n.bind(n,401160))}],"_support/:entity/detail/:id(/)":["support",function(){return Promise.all([n.e(98551),n.e(73533),n.e(43103),n.e(42281)]).then(n.bind(n,343103))}],"_support/unban_account(/)(page/:page)(/)":["support",function(){return Promise.all([n.e(26632),n.e(10642),n.e(1991),n.e(48672)]).then(n.bind(n,401160))},{params:{entity:"unban_account"}}],"_support/search_wbs(/)(page/:page)(/)":["support",function(){return Promise.all([n.e(26632),n.e(10642),n.e(1991),n.e(48672)]).then(n.bind(n,401160))},{params:{entity:"search_wbs"}}],"_support/accounts/detail/:id(/)(page/:page)(/)":["support",function(){return Promise.all([n.e(98551),n.e(73533),n.e(43103),n.e(8709)]).then(n.bind(n,984350))},{params:{entity:"accounts"}}],"_support/users/detail/:id(/)(page/:page)(/)":["support",function(){return Promise.all([n.e(73533),n.e(32906)]).then(n.bind(n,96893))},{params:{entity:"users"}}],"_support/trial_coupons/detail/:id(/)(page/:page)(/)":["support",function(){return Promise.all([n.e(73533),n.e(4630)]).then(n.bind(n,257111))},{params:{entity:"trial_coupons"}}],"_support/trial_coupons/add(/)":["support",function(){return Promise.all([n.e(73533),n.e(4630)]).then(n.bind(n,257111))},{params:{entity:"trial_coupons"}}],"_support/test_mail_connection(/)":["support",function(){return Promise.all([n.e(24153),n.e(26632),n.e(35412),n.e(73533),n.e(31822),n.e(19584)]).then(n.bind(n,605797))}],"_support/authorization(/)":["support",function(){return n.e(88280).then(n.bind(n,788280))}],"_support/orders/create(/)":["support",function(){return n.e(86499).then(n.bind(n,986499))}],"_support/orders/list(/)":["support",function(){return Promise.all([n.e(76012),n.e(20983),n.e(95882),n.e(18194),n.e(93671),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(39042),n.e(14095),n.e(15656),n.e(10642),n.e(68924),n.e(56973),n.e(41136),n.e(70112),n.e(60200),n.e(1991),n.e(26513)]).then(n.bind(n,184132))}],"_support/amomail/:accountId/mailbox/:id(/)":["support",function(){return Promise.all([n.e(98551),n.e(73533),n.e(43103),n.e(63080)]).then(n.bind(n,982393))}],"_support/calls_info(/)":["support",function(){return n.e(93199).then(n.bind(n,93199))}],"_support/airewriter_global(/)":["support",function(){return n.e(21705).then(n.bind(n,221705))}],"_support/doubles_properties(/)":["support",function(){return n.e(63961).then(n.bind(n,963961))}],"_sales/accounts(/)(:page)":["support",function(){return n.e(36865).then(n.bind(n,136865))}],"_support/employee_control(/)":["support",function(){return n.e(78258).then(n.bind(n,378258))}],"_support/widgets/design_exceptions(/)(page/:page)(/)(:widget_code)(/)":["support",function(){return Promise.all([n.e(71444),n.e(41151)]).then(n.bind(n,257847))}],"_support/widgets/recommended(/)(page/:page)(/)(:widget_code)(/)":["support",function(){return n.e(86394).then(n.bind(n,186394))}],"_support/blocked_registration_emails(/)(page/:page)(/)":["support",function(){return n.e(34926).then(n.bind(n,134926))}],"_support/chat_channels(/)":["support",function(){return n.e(91993).then(n.bind(n,791993))}],"_support/integrations_banners/detail/:id(/)":["support",function(){return n.e(25955).then(n.bind(n,925955))}],"_support/users/statuses/monitoring":["support",function(){return n.e(71594).then(n.bind(n,371594))}],"_support/widgets_moderation/detail/:client_uuid/:version_id(/)":["support",function(){return Promise.all([n.e(35571),n.e(33833)]).then(n.bind(n,133833))}],"_support/partners/employees(/)":["support",function(){return n.e(55756).then(n.bind(n,155756))}],"_support/first_line_algorithm(/)":["support",function(){return n.e(77351).then(n.bind(n,677351))}],"_support/widgets/change_owner(/)":["support",function(){return n.e(218).then(n.bind(n,100218))}],"_support/widgets/secret_key_validation(/)":["support",function(){return Promise.all([n.e(24298),n.e(77385)]).then(n.bind(n,36911))}],"_support/triggers(/)":["support",function(){return n.e(90010).then(n.bind(n,90010))}],"widget_page/(:widget_code)(/)(:item_code)(/)(:subitem_code)(/)":["widget-page",function(){var e=c((function(e){var t,a,r,s,l,c;return d(this,(function(d){try{t=e.args,a=u(t,3),r=a[0],s=a[1],l=a[2],c="widget_page",r&&(c+="_".concat(r)),s&&(c+="_".concat(s)),l&&(c+="_".concat(l)),(0,o.setActiveItemId)(c)}catch(e){(0,i.captureException)(e,{tags:{text:"Error in 'widget_page/(:widget_code)(/)(:item_code)(/)(:subitem_code)(/)' route while setting active item id"}})}return[2,n.e(91300).then(n.bind(n,191300))]}))}));return function(t){return e.apply(this,arguments)}}(),{params:{entity:"widget_page"},is_card:!1}],"_support/questionnaire_moderation/list(/)":["support",function(){return Promise.all([n.e(35571),n.e(71444),n.e(13621)]).then(n.bind(n,151607))}],"_support/questionnaire_moderation/detail/:questionnaire_uuid(/)":["support",function(){return Promise.all([n.e(35571),n.e(41338)]).then(n.bind(n,941338))}],"_support/users/mfa(/)":["support",function(){return n.e(78158).then(n.bind(n,878158))}],"_support/waca/waca_accounts_info(/)":["support",function(){return n.e(36791).then(n.bind(n,136791))}],"_support/waba/wa_lite_disabled(/)":["support",function(){return Promise.all([n.e(24298),n.e(17224)]).then(n.bind(n,414385))}],"_support/waca/waca_sandbox(/)":["support",function(){return Promise.all([n.e(24298),n.e(93875)]).then(n.bind(n,933823))}]};var g},944783:(e,t,n)=>{"use strict";function i(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){i(o,a,r,s,l,"next",e)}function l(e){i(o,a,r,s,l,"throw",e)}s(void 0)}))}}n.r(t),n.d(t,{default:()=>r});const r=a((function(){return function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(e){return[2,Promise.all([n.e(76012),n.e(20983),n.e(56740),n.e(37084),n.e(40446),n.e(95882),n.e(18194),n.e(93671),n.e(70013),n.e(38994),n.e(16228),n.e(26263),n.e(21932),n.e(88012),n.e(73881),n.e(93103),n.e(26632),n.e(90580),n.e(11958),n.e(12897),n.e(39042),n.e(79954),n.e(14095),n.e(20064),n.e(15656),n.e(7390),n.e(10642),n.e(68924),n.e(56973),n.e(52758),n.e(41136),n.e(39970),n.e(28419),n.e(58551),n.e(21896),n.e(34040),n.e(79328),n.e(47419),n.e(21921),n.e(27992),n.e(74647),n.e(16025),n.e(15081),n.e(16427),n.e(10417),n.e(42162),n.e(69314),n.e(21483),n.e(95848),n.e(66989),n.e(22675)]).then(n.bind(n,983583))]}))}));var o="../build/transpiled/tour/com/loader";window.define(o,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([o])},854840:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{HttpHeaders:()=>i}),function(e){e.X_AUTH_TOKEN="X-Auth-Token",e.AUTHORIZATION="Authorization"}(i||(i={}))},700897:(e,t,n)=>{"use strict";n.r(t),n.d(t,{INTERNAL_URL_REGEX:()=>a,URL_WITH_PROTOCOL_REGEX:()=>i});var i=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,a=/^\/[^/]/},130303:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isDebugModeEnabled:()=>i.isDebugModeEnabled});var i=n(513158)},513158:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isDebugModeEnabled:()=>i});var i=function(){return Boolean(localStorage.getItem("debug_mode_enabled"))}},796453:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fetchWithChunkQuery:()=>p});var i=n(629133),a=n.n(i),r=n(661533);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){s(r,i,a,o,l,"next",e)}function l(e){s(r,i,a,o,l,"throw",e)}o(void 0)}))}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function _(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){c(e,t,n[t])}))}return e}({},t),i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,d=u.key,_=u.value;n[d]?Array.isArray(n[d])?n[d].push(_):n[d]=[n[d],_]:n[d]=_}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return r.param(n)}var h,p=(h=l((function(e){var t,n,i,r,o,s,c,h,f,g,m,v,y;return d(this,(function(b){switch(b.label){case 0:return t=e.fetchFunction,n=e.maxChunkSize,i=e.queryParamsToChunk,r=e.requiredQueryParams,n?[3,2]:(o=_(i,r),[4,t(o)]);case 1:return[2,[b.sent()]];case 2:if(!(i.length<=n))return[3,8];s=_(i,r),b.label=3;case 3:return b.trys.push([3,5,,8]),[4,t(s)];case 4:return[2,[b.sent()]];case 5:if(c=b.sent(),1===i.length)throw c;return h=Math.ceil(i.length/2),f=i.slice(0,h),g=i.slice(h),[4,p({fetchFunction:t,maxChunkSize:n,queryParamsToChunk:f,requiredQueryParams:r})];case 6:return m=b.sent(),[4,p({fetchFunction:t,maxChunkSize:n,queryParamsToChunk:g,requiredQueryParams:r})];case 7:return v=b.sent(),[2,u(m).concat(u(v))];case 8:return y=a().chunk(i,n),[4,Promise.all(y.map(function(){var e=l((function(e){return d(this,(function(i){return[2,p({fetchFunction:t,maxChunkSize:n,queryParamsToChunk:e,requiredQueryParams:r})]}))}));return function(t){return e.apply(this,arguments)}}()))];case 9:return[2,b.sent().flat()]}}))})),function(e){return h.apply(this,arguments)})},539213:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RequestsBufferManager:()=>i.RequestsBufferManager,fetchWithChunkQuery:()=>r.fetchWithChunkQuery,isRequestUsingCoreAuth:()=>a.isRequestUsingCoreAuth});var i=n(69244),a=n(234742),r=n(796453)},234742:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isRequestUsingCoreAuth:()=>o});var i=n(854840),a=n(700897),r=n(326785),o=function(e){var t=e.headers,n=void 0===t?{}:t,o=e.url,s=a.INTERNAL_URL_REGEX.test(o)||(0,r.getDomain)({url:o})===(0,r.getDomain)(),l=n[i.HttpHeaders.AUTHORIZATION]||n[i.HttpHeaders.X_AUTH_TOKEN];return s&&!l}},69244:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RequestsBufferManager:()=>s});var i=n(629133),a=n.n(i),r=n(661533);function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(t="buffer")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this.buffer=[]}var t,n;return t=e,(n=[{key:"clearAll",value:function(){this.buffer=[]}},{key:"add",value:function(e,t){this.buffer.push({deferred:t,settings:e})}},{key:"fire",value:function(){var e=[];a().each(this.buffer,(function(t){e.push(r.ajax(t.settings).then(t.deferred.resolve,t.deferred.reject))})),this.clearAll()}}])&&o(t.prototype,n),e}()}}]);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"build_2025_11_28_17_08_33"},function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4ae68819-e27d-45c0-a186-15e1eb91c77d",e._sentryDebugIdIdentifier="sentry-dbid-4ae68819-e27d-45c0-a186-15e1eb91c77d")}catch(e){}}();
//# sourceMappingURL=97896.be39334a754bafee2f10.js.map