(window.webpackChunk=window.webpackChunk||[]).push([[95626],{567952:e=>{function t(e){return e&&"object"==typeof e?o(e)||a(e)?e:i(e)?function(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}(e,t):function(e,t,n){if(e.reduce)return e.reduce(t,n);for(var i=0;i<e.length;i++)n=t(n,e[i]);return n}(r(e),(function(i,o){return i[n(o)]=t(e[o]),i}),{}):e}function n(e){return e.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}))}e.exports=function(e){return"string"==typeof e?n(e):t(e)};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=function(e){return"[object Date]"===Object.prototype.toString.call(e)},a=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},s=Object.prototype.hasOwnProperty,r=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}},130860:(e,t,n)=>{var i;function o(){"use strict";var e,t,n,i=window.crypto||window.msCrypto;if(!e&&i&&i.getRandomValues)try{var o=new Uint8Array(16);n=e=function(){return i.getRandomValues(o),o},e()}catch(e){}if(!e){var a=new Array(16);t=e=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}for(var s="function"==typeof Buffer?Buffer:Array,r=[],l={},c=0;c<256;c++)r[c]=(c+256).toString(16).substr(1),l[r[c]]=c;function d(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}var u=e(),_=[1|u[0],u[1],u[2],u[3],u[4],u[5]],h=16383&(u[6]<<8|u[7]),p=0,f=0;function m(t,n,i){var o=n&&i||0;"string"==typeof t&&(n="binary"===t?new s(16):null,t=null);var a=(t=t||{}).random||(t.rng||e)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n)for(var r=0;r<16;r++)n[o+r]=a[r];return n||d(a)}var v=m;return v.v1=function(e,t,n){var i=t&&n||0,o=t||[],a=null!=(e=e||{}).clockseq?e.clockseq:h,s=null!=e.msecs?e.msecs:(new Date).getTime(),r=null!=e.nsecs?e.nsecs:f+1,l=s-p+(r-f)/1e4;if(l<0&&null==e.clockseq&&(a=a+1&16383),(l<0||s>p)&&null==e.nsecs&&(r=0),r>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=s,f=r,h=a;var c=(1e4*(268435455&(s+=122192928e5))+r)%4294967296;o[i++]=c>>>24&255,o[i++]=c>>>16&255,o[i++]=c>>>8&255,o[i++]=255&c;var u=s/4294967296*1e4&268435455;o[i++]=u>>>8&255,o[i++]=255&u,o[i++]=u>>>24&15|16,o[i++]=u>>>16&255,o[i++]=a>>>8|128,o[i++]=255&a;for(var m=e.node||_,v=0;v<6;v++)o[i+v]=m[v];return t||d(o)},v.v4=m,v.parse=function(e,t,n){var i=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){o<16&&(t[i+o++]=l[e])}));o<16;)t[i+o++]=0;return t},v.unparse=d,v.BufferClass=s,v._rng=e,v._mathRNG=t,v._whatwgRNG=n,v}e.exports?e.exports=new o:void 0===(i=function(){return new o}.call(t,n,t,e))||(e.exports=i);var a="js-uuid";window.define(a,(function(){var t="undefined",n=typeof __webpack_exports__===t?typeof i===t?typeof e===t?void 0:e.exports:i:__webpack_exports__;return n&&n.default||n})),window.require([a])},623967:e=>{e.exports=function e(i){return i&&"object"==typeof i?t(i)||n(i)?i:Array.isArray(i)?i.map(e):Object.keys(i).reduce((function(t,n){return t[n[0].toLowerCase()+n.slice(1).replace(/([A-Z]+)/g,(function(e,t){return"_"+t.toLowerCase()}))]=e(i[n]),t}),{}):i};var t=function(e){return"[object Date]"===Object.prototype.toString.call(e)},n=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},306843:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(259913),l=n.n(r),c=[{string:navigator.platform,sub_string:"Win",identity:"windows"},{string:navigator.platform,sub_string:"Mac",identity:"mac"},{string:navigator.userAgent,sub_string:"iPhone",identity:"iphone/ipod"},{string:navigator.platform,sub_string:"Linux",identity:"linux"}],d=function(){var e=l()();return this.os=this._getOS(),this.browser=this._getBrowser(e.name),this.version=e.versionNumber,this};s().extend(d.prototype,{_getBrowser:function(e){switch(e){case"ios":return"safari";case"ie":return"explorer";default:return e||""}},_getOS:function(){return function(e){for(var t=0;t<e.length;t++){var n=e[t].string,i=e[t].prop;if(n){if(-1!==n.indexOf(e[t].sub_string))return e[t].identity}else if(i)return e[t].identity}}(c)||""}});var u=new d;o()((function(){o()("html").addClass("".concat(u.browser.toString()," ").concat(u.os.toString()))}));const _=u;var h="../build/transpiled/common/browserdetect";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])},323344:(e,t,n)=>{"use strict";n.r(t),n.d(t,{QStoJSON:()=>u,getParam:()=>h,getQueryParam:()=>m,getQueryString:()=>_,removeQueryParam:()=>f,setParam:()=>p,setQueryParam:()=>v});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(577486);function l(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function c(e){return e.indexOf("?")>=0?e.split("?")[1]:e}function d(e){try{e=decodeURIComponent(e.toString().replace(/\+/gi," "))}catch(t){e=""}return e.toString()}function u(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"==typeof e?i?function(e,t){var n,i={},a=c(e);return s().isObject(t)||(t={to_arrays:!1}),a?(o().each(a.split("&"),(function(e,o){var a;o=o.split("=");try{o[0]=decodeURIComponent(o[0])}catch(e){return console.error(e),i}if(void 0!==i[o[0]])l(i[o[0]],Array)?i[o[0]].push(d(o[1]||"")):(n=i[o[0]].toString(),i[o[0]]=[n,d(o[1]||"")]);else if(o[0].indexOf("[",1)>0){(a=o[0].split("["))[a.length]=d(o[1]);var s=0,r=function(e,n){if(s<n.length-1)if(n[s]=n[s].replace("]",""),""===n[s])Object.keys(e).length?e[Object.keys(e).length]=n[n.length-1]:e[0]=n[n.length-1];else{e[n[s]]=e[n[s]]||(t.to_arrays&&"]"===n[s+1]?[]:{});var i=e[n[s]];++s==n.length-1?e[n[s-1]]=n[s]:r(i,n)}};r(i,a)}else i[o[0]]=function(e){try{e=decodeURIComponent(e.toString().replace(/\+/gi," "))}catch(t){e=""}try{return JSON.parse(e)}catch(t){return e.toString()}}(o[1]||"")})),i):i}(e,i):function(e){var t,n={},i=c(e);if(!i)return n;try{o().each(i.split("&"),(function(e,i){(i=i.split("="))[0]=decodeURIComponent(i[0]),void 0===n[i[0]]?n[i[0]]=d(i[1]||""):l(n[i[0]],Array)?n[i[0]].push(d(i[1]||"")):(t=n[i[0]].toString(),n[i[0]]=[t,d(i[1]||"")])}))}catch(e){return console.error(e),{}}return n}(e):(t=e,n=[],s().each(t,(function(e,t){"object"==typeof e?s().each(e,(function(e,i){n.push("".concat(t,"[").concat(isNaN(i,10)?i:"","]=").concat(encodeURIComponent(e)))})):n.push("".concat(t,"=").concat(encodeURIComponent(e)))})),n.join("&"))}function _(){var e=window.location.href.replace(/.*\?/,"").toString();return e===window.location.href&&(e=""),e||""}function h(e){var t,n=window.location.pathname||"",i=new r.UnsafeRegExp("".concat(e.toString(),"/([^\\/]+)"),"i");return!(!n.length||!(t=n.match(i))||2!==t.length)&&0|(t[1]||1)}function p(e,t){var n=window.location.pathname,i=_();return t=t||{},s().each(e,(function(e,t){h(t)?n=n.replace(new r.UnsafeRegExp("(".concat(t,")/([^/]?)+(/)?(.*)")),e&&e.toString().length?"$1/".concat(e,"/$4"):"$4"):e&&e.toString().length&&("/"!==n.charAt(n.length-1)&&(n+="/"),n+="".concat(t,"/").concat(e,"/"))})),n+(!0!==t.only_path&&i.length?"?".concat(i):"")}function f(e,t){var n,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).shouldDecodeValues,o=void 0===i||i,a=((s().isUndefined(t)?_():t.replace(/^\?/,"")).replace(/\+/g," ")||"").split(/[&;]/g);s().isArray(e)||(e=[e]);try{s().each(e,(function(e,t){for(n="".concat(decodeURIComponent(e),"="),t=a.length;t-- >0;)-1!==(o?decodeURIComponent(a[t]):a[t]).lastIndexOf(n,0)&&a.splice(t,1)}))}catch(e){console.error(e)}return t&&0===t.indexOf("?")?"?".concat(a.join("&")):a.join("&")}function m(e){var t="?".concat(_().replace(/\[/g,"%5B").replace(/\]/g,"%5D"));e=e.replace(/\[/g,"%5B").replace(/\]/g,"%5D");var n,i="[\\?&]".concat(e,"=([^&#]*)"),o=new r.UnsafeRegExp(i).exec(t);if(s().isNull(o))return!1;n="phone"===e?o[1]:o[1].replace(/\+/g," ");try{n=decodeURIComponent(n)}catch(e){return console.error(e),!1}return n}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=window.location.pathname,i=s().isString(t.query_string)?t.query_string:_();return 0!==i.indexOf("?")&&(i="?".concat(i)),s().each(e,(function(e,t){var n="";if("?"!==i&&(n=-1===i.indexOf("?")?"?":"&"),i=f(t,i),"object"==typeof e)i="".concat(i+n+t,"=").concat(e.join("&".concat(t,"=")));else{e=encodeURIComponent(e);var o=new r.UnsafeRegExp("([?|&])".concat(t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"=.*?(&|$)"),"ig"),a=i.match(o);if(a)if(e)i=i.replace(o,"$1".concat(t,"=").concat(e,"$2"));else{var s=a[0],l=s[0],c="";"&"===s[s.length-1]&&(c=l),i=i.replace(o,c)}else i+=e?"".concat(n+t,"=").concat(e):""}})),0!==i.indexOf("?")&&(i="?".concat(i)),!1===t.question_mark&&(i=i.replace(/^\?/,"")),(!0===t.only_query_string?"":n)+("?"===i?"":i.replace(/^\?&=?/,"?"))}var g="../build/transpiled/common/urlparams";window.define(g,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([g])},845043:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(460159),l=n.n(r),c=n(304483),d=function(e){var t=this;this.options=s().extend({},e),this.modal=new c.default({can_centrify:!0,class_name:"".concat(s().isUndefined(this.options.class_name)?"modal-list":this.options.class_name," js-modal-confirm"),disable_overlay_click:this.options.disable_overlay_click,init:l()._preload([t.options.template||"/tmpl/common/modal/confirm.twig"],(function(e){t.$modal_body=e,e.trigger("modal:loaded").html(l()({ref:t.options.template||"/tmpl/common/modal/confirm.twig"}).render(o().extend({decline_text:t.options.decline_text,accept_text:t.options.accept_text,button_class:t.options.button_class,no_cancel:t.options.no_cancel},t.options,s().result(t.options,"getRenderParams",{})))).trigger("modal:centrify"),s().isFunction(t.options.init)&&t.options.init.call(t),e.on("click",(function(e){o()(e.target).is(".button-input")||e.stopPropagation()})).on("click",".button-cancel",(function(e){e.stopPropagation(),t.accepted=!1,t.destroy()})).on("click",".modal-body__close",(function(e){e.stopPropagation(),t.destroy()})).on("click",".js-modal-accept",(function(e){t.accepted=!0,"function"==typeof t.options.accept?(t.options.accept.call(t),t.options.close_on_accept&&t.destroy()):t.destroy(),e.stopPropagation()}))})),destroy:function(){return!(t.xhr&&4!==t.xhr.readyState||(t.modal.$modal.find(".modal-body").off(),"function"==typeof t.options.destroy&&t.options.destroy.call(t),0))},onBeforeInit:t.options.onBeforeInit,tryAgain:t.options.tryAgain}),this.modal.$el.on("click",".modal-scroller",s().bind((function(e){e.stopPropagation()})))};d.prototype.requestStart=function(){return this.modal?this.modal.requestStart():this.$modal_body.hide(),this},d.prototype.requestSuccess=function(e,t){this.$modal_body.show(),this.modal.showSuccess(e,t)},d.prototype.requestFail=function(e,t){this.$modal_body.show(),this.modal.showError(e,t)},d.prototype.destroy=function(){this._destroyed||this.modal.destroy(),this._destroyed=!0};const u=d;var _="../build/transpiled/components/base/confirm";window.define(_,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([_])},729115:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(345839),l=n.n(r),c=n(313981);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var u=l().Model.extend({initialize:function(){this.defaults=s().clone(this.attributes)},setDefaults:function(){this.defaults=s().defaults(this.defaults,this.attributes)},updateDefaults:function(e){this.defaults=s().extend(this.defaults,e||this.attributes)},deepCloneDefaults:function(){this.defaults=JSON.parse(JSON.stringify(this.attributes))},hasChanges:function(e){return e&&!s().isUndefined(this.attributes[e])?this.attributes[e]!==this.defaults[e]:!s().isEqual(this.attributes,this.defaults)},set:function(e,t){return l().Model.prototype.set.apply(this,arguments),s().isEmpty(e)||(s().isObject(e)?s().each(e,(function(e,t){this._setChanges(t,e)}),this):this._setChanges(e,t)),this},_setChanges:function(e,t){s().isUndefined(this.defaults)||(this.defaults[e]===t?delete this.changed[e]:this.changed[e]=t)}});const _={View:c.default.extend({silent:!1,events:{"input :input":"changeInModel","change :input":"changeInModel","controls:change :input":"changeInModel","change:with-default :input":"updateDefaultsAndChangeInModel"},initialize:function(e){var t={_onSave:s().noop,onSaveError:s().noop,onSaveForm:s().noop,flat:!0,new_attrs_dissalowed:!1},n=e&&e.model||u;c.default.prototype.initialize.apply(this,arguments),this.options=o().extend({},t,e),this.model=new n,this.initModelFromForm(e)},save:function(e){var t,n,i=this,a=o().extend({success:s().noop,error:s().noop},e||{}),r=[s().extend({success:s().bind((function(e){this.updateDefaults(),s().isFunction(i.options._onSave)&&i.options._onSave.call(this,e),s().isFunction(i.options.onSaveForm)&&i.options.onSaveForm.call(this,e),a.success.apply(this,arguments),i.checkChanges()}),this.model),error:function(e){s().isFunction(i.options._onError)&&i.options._onError.call(this,e),s().isFunction(i.options.onSaveError)&&i.options.onSaveError.call(this,e),a.error.apply(this,arguments)}},s().omit(e,"success","error"))];return this.model.save===l().Model.prototype.save&&r.unshift(this.model.toJSON()),(t=this.model).save.apply(t,function(e){if(Array.isArray(e))return d(e)}(n=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},revert:function(e){var t,n=this.model.attributes,i=!1;s().isArray(e)&&(i=!0,n=s().pick(n,(function(t,n){return s().contains(e,n)}))),s().each(n,(function(e,n){e!==this.model.defaults[n]&&(t=this.$el.find(':input[name="'.concat(n,'"]:not(.js-form-changes-skip)')),this.setInputValue(t,this.model.defaults[n],n),t.trigger("control:select:reset"))}),this),i?(s().extend(this.model.attributes,s().pick(this.model.defaults,(function(t,n){return s().contains(e,n)}))),this.checkChanges()):(this.model.attributes=s().clone(this.model.defaults),this.model.trigger("has_reverted",{type:"has_reverted"}))},checkDeleted:function(){s().each(this.model.attributes,(function(e,t){this.$el.find(':input[name="'.concat(t,'"]:not(.js-form-changes-skip)')).length||delete this.model.attributes[t]}),this),this.checkChanges()},initModelFromForm:function(e){this._initModelFromForm(e),this.model.setDefaults(),this.setUrl()},updateModelFromForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._initModelFromForm({update:!0,handle_skip_class_ignore:e.handle_skip_class_ignore||!1,with_existing_attr_reassign:e.with_existing_attr_reassign||!1}),this.checkChanges()},setTrackingInputs:function(e){this._initModelFromForm({$elem:e}),this.model.setDefaults()},_initModelFromForm:function(e){var t=!1;t=(e=e||{}).with_existing_attr_reassign||this.options.with_existing_attr_reassign||t,s().each((e.$elem||this.$el).find(":input"),(function(n){var i=o()(n),a=this.model.get(i.attr("name"));if((s().isUndefined(a)||""===a||t)&&(!i.hasClass("js-form-changes-skip")||e.update)){if(i.hasClass("js-form-changes-skip")&&e.handle_skip_class_ignore)return;this.setModelValue(i)}}),this),s().each((e.$elem||this.$el).find(".js-control-checkboxes_dropdown-huge"),(function(e){var t=o()(e).data("view");t?this.setModelValueForCheckboxesDropdownHuge(t):o()(e).on("controls:view:init",s().bind((function(){t=o()(e).data("view"),this.setModelValueForCheckboxesDropdownHuge(t)}),this))}),this)},setUrl:function(e){this.model.url=e||this.$el.attr("action")},hasChanges:function(e){return this.model.hasChanges(e)},setInputValue:function(e,t,n){var i=e.attr("type");switch(n=n||e.attr("name"),i){case"checkbox":e.prop("checked",t);break;case"radio":""===t?(e.closest('[name="'.concat(n,'"]')),e.prop("checked",!1)):(e=e.closest('[name="'.concat(n,'"][value="').concat(t,'"]'))).prop("checked",!0);break;default:e.val(t)}e.trigger("change").trigger("controls:change").trigger("autosize").trigger("controls:textarea:autosize"),this.model.set(n,t)},getInputValue:function(e){var t="";switch(e.attr("type")){case"checkbox":case"radio":t=e.prop("checked")?e.val()||"on":"";break;default:t=e.val()}return t},setModelValue:function(e,t){var n,i=e.attr("name"),o=this.model.get(i);if(t=t||{},1==("checkbox"===e[0].type&&!1===this.options.flat)){if(n=this.getInputValue(e),o)switch(s().isArray(o)||(o=[o]),n?o.push(n):o=s().without(o,e.val()),(n=s().sortBy(s().uniq(o),(function(e){return(e||"").toString()}))).length){case 1:n=n[0];break;case 0:n=""}}else n=this.getInputValue(e);t.update_default&&(this.model.defaults[i]=n),this.model.set(i,n,{silent:t.base_form_silent||!1})},setModelValueForCheckboxesDropdownHuge:function(e){var t=e.getItemsForFormModel();s().extend(this.model.defaults,t),this.model.set(t,{silent:!0})},toggleSilence:function(e){this.silent=s().isBoolean(e)?e:!this.silent},updateDefaultsAndChangeInModel:function(e){this.changeInModel(e,{update_default:!0})},changeInModel:function(e,t){var n=o()(e.currentTarget);if(t=t||{},!this.silent&&!n.hasClass("js-form-changes-skip")){if(!0===this.options.new_attrs_dissalowed&&s().isUndefined(s().propertyOf(this)(["model","defaults",n.attr("name")])))return;this.setModelValue(n,t),this.checkChanges()}},checkChanges:function(){var e=this.hasChanges(),t="has_changes";return e||(t="has_reverted"),this.model.trigger(t,{type:t}),e}}),Model:u};var h="../build/transpiled/components/base/form";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])},363543:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var i=n(629133),o=n.n(i),a=n(313981),s=n(445368),r=n(955026),l=n(168807),c=n(487770),d=n(845043),u=n(767719),_=n(661533),h="/ajax/v2/salesbot/";const p=a.default.extend({initialize:function(e){var t=(0,s.i18n)("Are you sure you want to delete?"),n=this._getEntityData(e),i=this;a.default.prototype.initialize.apply(this,arguments),this._addComponent(d.default,{class_name:"modal-list",text:t.replace("#PLACEHOLDER#",o().escape(n.placeholder)),accept:function(){n.url===h&&l.storeWithExpiration.remove(c.default.SALESBOT_CACHE_CODE);var t=n.selected;(0,u.sendBotDeleteConfirmLog)(t),this.requestStart(),i._preDeleteCallbacks(e),_.ajax({url:n.url,type:n.request_type||"DELETE",contentType:"application/json",data:JSON.stringify(n.selected),dataType:"json"}).always(o().bind((function(t){t=(0,r.cleanResponse)(t),(t=i._getResponseData(t))?o().isFunction(e.complete)?(e.complete(),this.requestSuccess()):(e.collection.reset(),e.collection.trigger("list:reload",o().bind(this.requestSuccess,this))):this.requestFail(APP.lang.modal_error_caption)}),this))}})},_preDeleteCallbacks:o().noop,_getResponseData:function(e){return e.deleted},_getEntityData:function(e){var t,n,i,o=e.collection.map((function(e){return e.get("id")}));switch(e.entity){case"salesbot":n=(0,s.numeralWord)(2,(0,s.i18n)("selected salesbot,selected salesbots")),i=e.collection.at(0).get("name"),t=h;break;case"helpbot_dataset":n=(0,s.numeralWord)(2,(0,s.i18n)("selected phrase,selected phrases")),i=e.collection.at(0).get("dataset_item"),t="/ajax/v2/training_phrases/";break;default:n=(0,s.numeralWord)(2,(0,s.i18n)("selected intent,selected intents")),i=e.collection.at(0).get("intent").text,t="/private/ajax/v2/json/helpbot/"}return{url:t,placeholder:1===o.length?i:n,selected:o}}});var f="../build/transpiled/components/lists/actions/helpbot/delete";window.define(f,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([f])},767719:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sendBotDeleteConfirmLog:()=>o});var i=(0,n(530657).default)({tags:["bot_delete_confirm"]}),o=function(e){"production"===APP.environment&&i({deletedBotsIds:e})}},63872:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(460159),l=n.n(r),c=n(313981),d=n(445368),u=n(955026),_=n(304483);const h=c.default.extend({_url:function(){throw new Error("Must be overridden")},$el:null,_xhr:null,_destroy_from_modal:!1,_ajax_params:null,_callbacks:{afterDestroy:s().noop,destroy:s().noop,complete:s().noop,failed:s().noop},initialize:function(e){this.options=s().extend({},e),c.default.prototype.initialize.apply(this,arguments),this.setParams(e),this.initModal()},destroy:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._destroy_from_modal||this.modal&&s().isFunction(this.modal.destroy)&&!1!==this.modal.destroy()&&delete this.modal,c.default.prototype.destroy.apply(this,t),this._callbacks.afterDestroy.apply(this,t)},tryAgain:s().noop,initModal:function(){return this.modal=new _.default({class_name:"modal-list ".concat(this._class("modal")),preload_templates:s().result(this,"preload",[]),init:s().bind(this._initModal,this),tryAgain:s().bind(this.tryAgain,this),destroy:s().bind((function(){return this._xhr&&!s().isUndefined(this._xhr.status)&&this._xhr.abort(),!1!==this._callbacks.destroy.call(this)&&(this._destroy_from_modal=!0,this.destroy(),!0)}),this)}),this},_initModal:function(e){this.setElement(e).render().center().preventClicks()},save:function(e){this._elem("save_btn").trigger("button:load:start"),this._xhr||(this._xhr=this._makeRequest(e).always(s().bind(this.actionComplete,this)))},_makeRequest:function(e){var t=this.getDataForRequest(e);return o().ajax(s().extend({url:s().result(this,"_url"),data:t,type:"POST",dataType:"json"},this._ajax_params||{}))},actionComplete:function(e){if(e=(0,u.cleanResponse)(e),this._elem("save_btn").trigger("button:load:stop"),!this.isValidResponse(e))throw this._xhr=null,this._callbacks.failed.call(this,e),this.destroy(),new Error("Invalid response: ".concat(JSON.stringify(e)));this._xhr=null,this._callbacks.complete.call(this,e),this.destroy()},setParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s().each(this._callbacks,(function(t,n){this._callbacks[n]=this.wrapCallback(n,e[n])}),this),e.url&&(this._url=e.url),this},wrapCallback:function(e,t){return s().isFunction(t)||(t=s().noop),t},getDataForRequest:function(){throw new Error("Must be implemented by subclass!")},isValidResponse:function(e){return!!e},_classes:function(){return{modal:"action_modal",actions:"modal-body__actions",save_btn:"modal-body__actions__save"}},center:function(){return this.$el.trigger("modal:loaded").trigger("modal:centrify"),document.activeElement&&document.activeElement.blur(),this},events:function(){var e={};return e["click ".concat(this._selector("save_btn"),":not(.button-input-disabled)")]="clickSaveBtn",e},preventClicks:function(){return this.modal.$modal.on("click".concat(this.ns),(function(e){e.stopPropagation()})),this},clickSaveBtn:function(){this.save()},_template:"/tmpl/common/modal/delete.twig",preload:function(){return[this._template]},render:function(){var e=l()({ref:this._template});return this.$el.trigger("modal:loaded"),this.$el.html(e.render(this.getTemplateParams())),this},getTemplateParams:function(){return{caption:(0,d.i18n)("Caption text"),message:[{text:(0,d.i18n)("This is forever! Seriously, think!")}],accept_text:(0,d.i18n)("Confirm")}}});var p="../build/transpiled/components/modals/action";window.define(p,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([p])},878978:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(629133),o=n.n(i),a=n(63872);const s=a.default.extend({_classes:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o().extend(a.default.prototype._classes.apply(this,t),{modal:"confirm_catalog_delete"})},_template:"/tmpl/common/modal/delete.twig"});var r="../build/transpiled/components/modals/delete";window.define(r,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([r])},12615:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(910),l=n(168807),c=n(11024),d=APP.constant("version"),u=APP.constant("version_backend"),_=s().propertyOf(window)(["performance","timing","responseEnd"])||0,h=null;function p(e,t){var n=Date.now()-_,i=o().Deferred();return n<(t=s().isNumber(t)?t:6e4)?e().then(i.resolve,i.reject):(_=Date.now(),h||(h=o().ajax({url:"/private/ping.php"}).always((function(){h=null}))),h.done((function(){e().then(i.resolve,i.reject)})).fail(i.reject)),i.promise()}"production"===APP.environment&&o()(document).ajaxComplete((function(e,t,n){var i=APP.constant("server"),a=t.getResponseHeader("X-Core-Version"),_=t.getResponseHeader("X-Core-Server"),h=t.getResponseHeader("X-Core-Version-Backend"),p=t.getResponseHeader("X-Generation-Time"),f=t.getResponseHeader("X-Generation-Time-System"),m=t.getResponseHeader("X-Core-Session-Token"),v=t.getResponseHeader("X-Core-Widgets-Cache-Version"),g={},y=0,b=t===APP.page_xhr,w=(0,r.getCallingStatus)(),E=s().isNull(a)||d===a,A=s().isNull(h)||u===h;_&&_!==i&&APP.constant("server",_),m&&m!==APP.constant("session_token")&&APP.constant("session_token",m),(p||f)&&(y=p||f,o()(document).find(".generation-time").append("<br>".concat(y," - ").concat(n.url))),E&&A||w||(A&&b||!A)&&(window.location.href=document.URL),s().isEmpty(v)||(g[APP.getWidgetsArea()]=v,s().extend(APP.constant("widgets_cache_version"),g),l.storeWithExpiration.remove(c.default.getCacheCode()))}));const f={check:function(){var e=o().Deferred();return e.resolve(),p(e.promise,0)},checkAuth:p};var m="../build/transpiled/core/updater";window.define(m,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([m])},530657:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var i=n(629133),o=n.n(i),a=n(661533),s=n.n(a),r=n(130860),l=n.n(r),c=n(334254),d=n.n(c),u=n(306843),_=n(226218),h=n(909599),p={token:"283c2980-b2ea-49fb-a03d-0125a8e35450",common_tags:["core"]},f=Number((0,h.getServerTime)())*h.SECOND,m=[],v=function(){var e,t=performance.now();return e=f?new Date(f+t):null,{lifetime:"".concat((t/h.SECOND).toFixed(1),"s"),lastVisibilityChangeAt:e,serverTime:(0,h.getServerTime)(),isVisible:(0,_.isTabVisible)()}};m.push(v()),d().change((function(){m.push(v())}));var g={meta:{account_id:APP.constant("account").id,user_id:APP.constant("user").id,top_level_domain:APP.constant("account").top_level_domain,account_language:APP.constant("account").language,country:APP.constant("geoip_country")||"",user_language:APP.lang_id,browser:{name:u.default.browser,version:String(u.default.version),tab:{id:l().v4(),lastTimeReload:f?new Date(f):null}},os:u.default.os}},y=function(){var e=JSON.parse(JSON.stringify(g)),t=e.meta.browser,n=v(),i=n.lifetime,a=n.serverTime,s=n.isVisible;return t.tab=o().extend({},t.tab,{lifetime:i,isVisible:s,serverTime:a,activity:m}),e},b=function(e,t){return s().ajaxPromisify({url:"https://logs-01.loggly.com/inputs/".concat(p.token),headers:{"X-LOGGLY-TAG":t.join(",")},data:JSON.stringify(e),type:"POST",contentType:"application/json"})};function w(e){var t=p.common_tags.concat(e.tags||[]);return function(e,n){var i=y(),a=e?{additional_info:e}:{},s=o().extend({},i,a,{referer:window.location.href}),r=t.concat(n||[]);b(s,r)}}var E="../build/transpiled/dev/loggly";window.define(E,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([E])},487770:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={SALESBOT_CACHE_CODE:"amojo_salesbots",SALESBOT_NEXT_PAGE_LINK:"amojo_bot_next_page_link",SALESBOT_CACHE_LIFETIME:3e5};var o="../build/transpiled/interface/amojo/salesbots_constants";window.define(o,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([o])},11024:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(629133),o=n.n(i),a=n(661586),s=n.n(a),r=n(926168),l=n(859200);const c={getCacheCode:function(){var e="".concat((0,r.getVersion)(),"_linked_types_cache_").concat(APP.lang_id,"_").concat((0,l.userID)()),t=(0,l.getRights)("catalog_rights")||{},n=o().map(t,(function(e,t){var n=+(e.view!==l.RIGHTS_DENIED);return"".concat(t,":").concat(n)}));return n.length&&(e+="_".concat(s()(n.join("_")))),e},linked_types_cache_lifetime:36e5};var d="../build/transpiled/interface/card/linked/constants";window.define(d,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([d])},158941:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(445368),o=n(878978);const a=o.default.extend({_catalog_id:0,_catalog_name:"",_url:"/ajax/v1/catalogs/set/",setParams:function(e){var t=o.default.prototype.setParams.apply(this,arguments);if(this._catalog_id=e.catalog_id,this._catalog_name=e.catalog_name,!this._catalog_id)throw new Error("Catalog id not defined in params: ".concat(JSON.stringify(e)));return t},getDataForRequest:function(){return{request:{catalogs:{delete:this._catalog_id}}}},isValidResponse:function(e){return e&&e.catalogs&&e.catalogs.delete},getTemplateParams:function(){return{lang:APP.lang,caption:(0,i.i18n)("Delete list"),message:[{text:(0,i.i18n)("Are you sure you want to delete «%s»?").replace("%s",this._catalog_name)},{text:(0,i.i18n)("All data associated with «%s», will be deleted. Removed data recovery is impossible.").replace("%s",this._catalog_name)}],accept_text:(0,i.i18n)("Confirm")}}});var s="../build/transpiled/interface/catalogs/catalogs/delete_modal";window.define(s,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([s])},622117:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n(629133),o=n.n(i),a=n(445368),s=n(878978),r=n(661533);const l=s.default.extend({_pipeline_id:0,_pipeline_name:"",_url:"/ajax/v1/pipelines/delete",_template:"/tmpl/common/modal/delete_lead.twig",events:function(){return o().extend({},o().result(s.default.prototype,"events",{}),{"change .delete-modal-body-checkbox":"handleCheckboxChange"})},_classes:function(){return o().extend({},o().result(s.default.prototype,"_classes",{}),{save_btn:"modal-body__actions__save"})},setParams:function(e){var t=s.default.prototype.setParams.apply(this,arguments);return this._pipeline_id=e.pipeline_id,this._pipeline_name=e.pipeline_name,t},getDataForRequest:function(){return{"request[id]":this._pipeline_id}},isValidResponse:function(e){return e&&e[this._pipeline_id]},handleCheckboxChange:function(e){var t=r(e.target).prop("checked");this._elem("save_btn").trigger(t?"button:enable":"button:disable")},getTemplateParams:function(){return{caption:(0,a.i18n)("Are you sure you want to delete the pipeline «%s»?").replace("%s",this._pipeline_name),accept_text:(0,a.i18n)("Confirm"),checkbox_text:(0,a.i18n)("When you delete this pipeline, all of your pipeline stages, sources and automations will be deleted and cannot be restoredpipeline, all of your pipeline stages, sources and automations will be deleted and cannot be restored")}}});var c="../build/transpiled/interface/leads/delete_modal";window.define(c,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([c])},356634:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(345839),l=n.n(r),c=n(460159),d=n.n(c),u=n(313981),_=n(445368),h=n(859200),p=n(450422),f=n(304483),m=n(729115),v={Catalogs:n(158941).default,Leads:n(622117).default,Salesbot:n(363543).default},g="hover_menu",y=!0,b=!1;const w=u.default.extend({_endpoints:{},_changes:{},_selectors:function(){return{aside_wrapper:"#aside__list-wrapper",aside_footer:".aside__footer",aside_inner:".aside__inner",list_holder:".aside__common-settings",footer_add:".js-aside__footer-add",list_item:".aside__list-item",list_item_selected:".aside__list-item_selected",list_item_by_id:'.aside__list-item[data-id="%s"]',action_button:'.js-aside__action-button[data-action="%s"]',archivation_open:".js-aside-open-archive"}},_classes:function(){return{add_error_note:"aside__footer-add_error-note",aside_save_blocked:"aside-save-blocked"}},events:{"click .js-aside__footer-add":"onAddClick","click .js-aside__action-button":"onActionClick","keydown .aside__list-item-input":"onItemKeydown","input .aside__list-item-input":"onItemInput","click .aside__top:not(.js-aside-close-archive)":"closeHoverMenu","click .js-navigate-link":"onLinkNavigateClick","click .js-aside-open-archive":"onArchiveTabOpen","click .js-aside-close-archive":"onArchiveTabClose"},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.options=e,this.data_handler=e.handler,s().each(e.callbacks,(function(e,t){this[t]=s().isFunction(e)?e:s().noop}),this),u.default.prototype.initialize.apply(this,arguments),this.listenTo(this.collection,"item:change",this.actionUpdate),this},render:function(e){var t,n;t=e.items,(null!=(n=l().Collection)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)&&(e.items=e.items.toJSON()),this._template_params=e||{};var i=o()(d()({ref:this.getTemplate().aside_view}).render(s().extend(e,{user_rights:(0,h.getRights)(),entity:APP.data.current_entity,is_card:APP.data.is_card,from_list:APP.data.current_list&&APP.data.current_list.length,from_top_click:e.from_top_nav_click})));return this.setElement(i),this._$document.trigger("aside_menu:open"),this.$el},destroy:function(e){if(!e&&this.hasActiveStatus())return APP.router.confirmPageChange(this._confirmModalConfig,s().noop),!1;this._changes.item_id&&"cloned_item"===this._changes.item_id&&this.collection.remove("cloned_item"),this._changes.has_changes&&this.stopChangeTracking(),APP.router.removePreventConfig(g),this._$document.trigger("aside_menu:close"),u.default.prototype.destroy.call(this)},stopChangeTracking:function(){this._setChanges({form:!1,sorting:!1}),this._$document.off("click".concat(this.ns)),delete this._changes.item_id,delete this._changes.has_errors,this.form&&(this.destroyForm(),delete this.form)},prepareView:function(e){this._scrollIntoView(),this._checkListHasScroll(),s().isFunction(e)&&e(),this.onPrepareView(),this.initPagePreventer()},onPrepareView:s().noop,getTemplate:function(){var e="/tmpl/left_menu/hover_menu/".concat(this.data_handler.type,"/");return{aside_view:"/tmpl/left_menu/aside.twig",in_edit:"".concat(e,"item_in_edit.twig"),item:"".concat(e,"item.twig"),footer:"".concat(e,"footer_add.twig"),footer_edit:"".concat(e,"footer_in_edit.twig")}},initPagePreventer:function(){var e=this;this._confirmModalConfig={message:(0,_.i18n)("You didn't save any changes."),accept_text:(0,_.i18n)("Save"),decline_text:(0,_.i18n)("Exit without save"),init:s().bind(this.elevateDownHoverMenu,this),accept:s().bind((function(e){var t=this._changes.item_id;"new_item"===this._changes.item_id?this.actionAdd({no_redirect:!0,no_destroy:!0,callback:e}):(this.collection.get(t).set({name:s().escape(this.form.model.get(t))},{silent:!0}),this.actionUpdate(this.collection.get(t),e))}),this),decline:s().bind((function(t){s().isFunction(t)&&(APP.router.preventPageChange(!1,g),t()),e.destroyForm(),e.closeHoverMenu()}),this)},s().isObject(APP.router)&&APP.router.registerPreventConfig(this._confirmModalConfig,g)},_scrollIntoView:function(){var e,t,n,i,o=this._findElem("list_item_selected");o.length&&!o.visible()&&(t=(e=this._elem("list_holder"))[0].getBoundingClientRect(),i=(n=o[0].getBoundingClientRect()).top-t.height-t.top+2*n.height,e.scrollTop(i))},_checkListHasScroll:function(){var e=this._elem("list_holder"),t=this._elem("aside_wrapper"),n=e.outerHeight(),i=t.outerHeight(),o=e.outerWidth(),a=t.outerWidth(),s=this._elem("aside_footer"),r=o-a,l=i>n?"".concat(r,"px"):0;r&&s.css("paddingRight",l)},hasActiveStatus:function(){return this._changes.has_changes||this._changes.sorting},onActionClick:function(e){var t=o()(e.currentTarget).data("action");switch(e.stopPropagation(),t){case"add":this.checkChangesAndAdd();break;case"clone":this.onCloneClick(e);break;case"save":this.checkChangesAndUpdate(e);break;case"edit":this.onAsideEditClick(e);break;case"archivation":this.onArchivationClick(e);break;case"remove":this.onDeleteClick(e)}},onAddClick:function(e){var t=o()(e.currentTarget);this._changes.item_id&&this.rerenderInputs(),t.addClass("aside__footer-inner_in-edit").html(d()({ref:this.getTemplate().footer_edit}).render()).find(".aside__list-item-input").focus(),this.initForm(t)},onAsideEditClick:function(e){var t=o()(e.currentTarget).closest(".aside__list-item"),n=t.data("id"),i=this.collection.get(n).toJSON();this.revertInputs(),t.addClass("aside__list-item_in-edit").append(d()({ref:this.getTemplate().in_edit}).render({item:i,sortable:"leads"===this._template_params.type,is_cloneable:this.isItemCloneable(),is_archive_tab:i.is_archive})).find(".aside__list-item-input").val(t.find(".aside__list-item-input").val()).focus(),this.initForm(t)},onCloneClick:function(){throw new Error("Must be implemented by subclass!")},showDeleteAndArchiveError:function(){var e=new f.default;e.$el.css("z-index","1001"),e.showError((0,_.i18n)("Your main pipeline cannot be deleted or archived. To set a different main pipeline, drag it to the top of your pipeline list while in renaming mode."),!1)},onArchivationClick:function(e){var t=o()(e.currentTarget).closest(".aside__list-item").data("id"),n=this.collection.get(t).toJSON();n.is_main?this.showDeleteAndArchiveError():this.actionArchivation(n)},onDeleteClick:function(e){var t=o()(e.currentTarget).closest(".aside__list-item").data("id"),n=this.collection.get(t).toJSON();n.is_main?this.showDeleteAndArchiveError():this.actionDelete(n)},onItemKeydown:function(e){switch(e.stopPropagation(),e.keyCode){case 13:"new_item"===this._changes.item_id?this.checkChangesAndAdd():this.checkChangesAndUpdate(e);break;case 27:this.revertInputs()}},onItemInput:function(e){var t=!o()(e.currentTarget).val().length;this.toggleInputError(t),this._changes.has_errors=t},onInputBlur:function(e){var t=o()(e.target);this.save_blocked||t.closest(".aside__common-settings__list_wrapper").length||t.closest(".aside__footer").length||t.closest("#nav_menu").length||t.closest(".nav__notifications").length||t.closest(".nav__top").length||(this.hasActiveStatus()?this._findElem("action_button","save").trigger("click"):this.revertInputs())},onLinkNavigateClick:function(e){this.hasActiveStatus()&&(e.stopPropagation(),e.preventDefault())},onArchiveTabOpen:function(){this.rerenderHoverMenu(s().extend(this._template_params,{items:this.collection,is_archive_tab:!0}))},onArchiveTabClose:function(e){e.stopPropagation(),this.rerenderHoverMenu(s().extend(this._template_params,{items:this.collection,is_archive_tab:!1}))},initForm:function(e){this.form=this._addComponent(m.default.View,{el:e}),this._changes={},s().contains(s().keys(this.form.model.toJSON()),"cloned_item")?this._changes.item_id="cloned_item":this._changes.item_id=s().first(s().keys(this.form.model.toJSON())),this.form.model.on("has_changes",s().bind(this._setChanges,this,{form:!0})).on("has_reverted",s().bind(this._setChanges,this,{form:!1})),this._$document.on("click".concat(this.ns),"#left_menu",s().bind(this.onInputBlur,this))},destroyForm:function(){this._$document.off("click".concat(this.ns)),this._destroyComponent(this.form),this._setChanges({form:!1})},_setChanges:function(e){var t=e.form;this._changes.has_changes=t,s().isUndefined(e.sorting)||(this._changes.sorting=e.sorting),APP.router.preventPageChange(t,g)},checkChangesAndAdd:function(){this.hasActiveStatus()?this.actionAdd():this.toggleInputError(y)},checkChangesAndUpdate:function(e){var t=o()(e.currentTarget).closest(".aside__list-item_in-edit").data("id"),n=this.collection.get(t);"cloned_item"===t&&this.actionAdd({type:"clone"}),this._changes.has_errors||(this.hasActiveStatus()?(n.set({name:s().escape(this.form.model.get(this._changes.item_id)),sort:parseInt(this.form.model.get("sort"))}),n.trigger("item:change",n)):this.rerenderInputs(t))},revertInputs:function(){this._changes.item_id&&("cloned_item"===this._changes.item_id?(this.collection.remove("cloned_item"),this._findElem("list_item_by_id","cloned_item").remove()):this.rerenderInputs())},rerenderInputs:function(e){"new_item"===(e=+e>=0?e:this._changes.item_id)?this._findElem("footer_add").html(d()({ref:this.getTemplate().footer}).render({})).removeClass("aside__footer-inner_in-edit"):this._findElem("list_item_by_id",e).replaceWith(d()({ref:this.getTemplate().item}).render(s().extend(this._template_params,{item:this.collection.get(e).toJSON(),user_rights:(0,h.getRights)()}))),this.stopChangeTracking()},toggleInputError:function(e){var t=this._changes.item_id;"new_item"===t?this._toggleClass("add_error_note","footer_add",e):this._findElem("list_item_by_id",t).toggleClass("aside__footer-add_error-note",e)},toggleActionLoader:function(e,t){(t?this._findElem("list_item_by_id",t):this._findElem("footer_add")).find(".aside__action-button_loader").toggleClass("aside__action-button_loading",e),this._toggleClass("aside_save_blocked",e)},actionUpdate:function(e,t){var n=e.get("id"),i=s().keys(e.changed);if(!this.save_blocked&&!s().isEqual(["selected"],i)){if(this.save_blocked=!0,this.toggleActionLoader(y,n),!this._endpoints.update)throw new Error("No update endpoint specified!");return this._makeRequest("update",e).always(s().bind((function(){this.save_blocked=!1,this.toggleActionLoader(b,n)}),this)).done(s().bind((function(i){var o=e.toJSON();this.isValidUpdateResponse(i,o)&&(this.onUpdateSuccess(i,o),delete o.selected,this.updateHoverMenuListData(this.data_handler.type,o),this.rerenderInputs(n),s().isFunction(t)&&t())}),this)).fail(s().bind((function(){this.showErrorModal()}),this))}},_makeRequest:function(e,t){switch(e){case"add":return o().ajax({url:this._endpoints.add,type:"POST",dataType:"json",data:this.prepareAddData({def_data:this.data_handler.default_data,name:this.form.model.get(this._changes.item_id),sort:this.collection.length+1})});case"update":return o().ajax({url:this._endpoints.update,type:"POST",dataType:"json",data:this.prepareUpdateData(this.collection.models,t)});case"archivation":return o().ajax({url:this._endpoints.getArhivationEndpoint(t.id),method:"PATCH",dataType:"json",contentType:"application/hal+json",data:JSON.stringify(this.prepareArchivationData(t))});default:return o().Deferred().resolve()}},prepareUpdateData:function(){throw new Error("Must be implemented by subclass!")},prepareArchivationData:function(){throw new Error("Must be implemented by subclass!")},isValidUpdateResponse:function(e){return!!e},onUpdateSuccess:function(){throw new Error("Must be implemented by subclass!")},isItemCloneable:function(){return!((0,p.isAmoChatsFullEnabled)()&&s().propertyOf(this)(["collection","attributes","_total_items"])>1)&&"salesbot"===this._template_params.type},actionAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.save_blocked)return this.save_blocked=!0,this.toggleActionLoader(y),this._makeRequest(e.type||"add").always(s().bind((function(){this.save_blocked=!1,this.toggleActionLoader(b)}),this)).done(s().bind((function(t){var n=this.onAddSuccess(t);s().isFunction(e.callback)&&e.callback(),this.stopChangeTracking(),e.no_destroy||this.closeHoverMenu(),e.no_redirect||this.navigateTo(n)}),this)).fail(s().bind((function(){this.showErrorModal()}),this))},prepareAddData:function(){throw new Error("Must be implemented by subclass!")},onAddSuccess:function(){throw new Error("Must be implemented by subclass!")},actionDelete:function(e){var t=this.data_handler.type;"cloned_item"!==e.id?(this.elevateDownHoverMenu(),new(v[(0,_.toTitleCase)(t)])(s().extend(this._deleteModalParams(e)||{},{url:this.url,complete:s().bind((function(){this._$document.trigger("menu:item:deleted",[t,e]),this.stopChangeTracking(),this.closeHoverMenu(),this.onDeleteSuccess(e),this.fetchHoverMenuListData(t)}),this)}))):this.onDeleteSuccess(e)},actionArchivation:function(e){var t=e.id,n=this.data_handler.type,i=e.is_archive;if(!this.save_blocked)return this.save_blocked=!0,this.toggleActionLoader(y,t),this._makeRequest("archivation",e).always(s().bind((function(){this.save_blocked=!1,this.toggleActionLoader(b,t)}),this)).done(s().bind((function(o){var a=this.collection.get(t),r=o&&o.is_archive;s().isUndefined(r)||i===r?this.showErrorModal():(this._$document.trigger("menu:item:deleted",[n,e]),this._elem("archivation_open").length&&this._elem("archivation_open").is(":hidden")&&(this._elem("archivation_open").removeClass("hidden"),this._elem("aside_inner").attr({"data-footer-counter":+this._elem("aside_inner").attr("data-footer-counter")+1})),a.set({is_archive:r},{silent:!0}),this._findElem("list_item_by_id",t).remove(),a.get("selected")&&APP.router.reload())}),this)).fail(s().bind((function(){this.showErrorModal()}),this))},_deleteModalParams:function(){throw new Error("Must be implemented by subclass!")},onDeleteSuccess:function(){throw new Error("Must be implemented by subclass!")},showErrorModal:function(e){return this.elevateDownHoverMenu(),new f.default({destroy:s().bind((function(){this.elevateUpHoverMenu(),s().isFunction(e)&&e()}),this)}).showError(null,!1)}})},362499:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(629133),o=n.n(i),a=n(445368),s=n(955026),r=n(168807),l=n(11024);const c=n(356634).default.extend({_endpoints:{update:"/ajax/v1/catalogs/set",add:"/ajax/v1/catalogs/set"},prepareAddData:function(e){var t=e.def_data,n=e.name;return t.request.catalogs.add[0]={name:n.length?n:(0,a.i18n)("Products"),demo_data:!0},t},onAddSuccess:function(e){var t,n,i,a={id:e.response.catalogs.add.catalogs[0].name,newCatalog:o().toArray(e.response.catalogs.add.catalogs)[0]};return r.storeWithExpiration.remove(l.default.getCacheCode()),APP.constant("catalogs",(t={},n=a.newCatalog.id,i=a.newCatalog.id,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t),{deep:!0}),this.fetchHoverMenuListData(this.data_handler.type),a},prepareUpdateData:function(e,t){var n=t.get("id"),i=(0,a.unescapeHTML)(t.get("name")),o={request:{catalogs:{update:{}}}};return o.request.catalogs.update[n]={id:n,name:i.length?i:(0,a.i18n)("Products")},o},isValidUpdateResponse:function(e,t){return(0,s.hasKeys)(e,["response","catalogs","update","catalogs",t.id])&&!o().isEmpty(e.response.catalogs.update.catalogs[t.id])},onUpdateSuccess:function(e,t){var n=e.response.catalogs.update.catalogs[t.id];r.storeWithExpiration.remove(l.default.getCacheCode()),this._$document.trigger("catalogs:name:changed",[n.id,n.name])},onDeleteSuccess:function(e){delete APP.constant("catalogs")[e.id],r.storeWithExpiration.remove(l.default.getCacheCode()),"catalogs"===APP.data.current_entity&&+APP.data.current_view.catalog.id==+e.id&&APP.router.navigate("/catalogs/",{trigger:!0,replace:!0})},_deleteModalParams:function(e){return{catalog_id:e.id,catalog_name:e.name}},navigateTo:function(e){var t=e.newCatalog&&e.newCatalog.id||e.id;APP.router.navigate("/catalogs/"+t,{trigger:!0,replace:!0})}});var d="../build/transpiled/interface/left_menu/hover_menu/catalogs";window.define(d,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([d])},969837:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(345839),l=n.n(r),c=n(591754),d=n(445368),u=n(859200),_=n(500034),h={contacts:2,companies:3,all:4,files:5},p=function(){p.prototype.type="catalogs"};s().extend(p.prototype,{default_data:{request:{catalogs:{add:{0:{id:!1,sort:99999}}}}},getDefaultList:function(){return this.default_list={},((0,u.getRights)("contacts","view")||(0,u.getRights)("contacts","add"))&&(this.default_list[h.contacts]={name:APP.lang.contacts_head_title,sort:9999,entity:"contacts",id:"contacts"}),((0,u.getRights)("companies","view")||(0,u.getRights)("companies","add"))&&(this.default_list[h.companies]={name:APP.lang.companies_head_title,sort:9998,entity:"companies",id:"companies"}),((0,u.getRights)("companies","add")||(0,u.getRights)("companies","view"))&&((0,u.getRights)("contacts","view")||(0,u.getRights)("contacts","add"))&&(this.default_list[h.all]={name:(0,d.i18n)("Contacts and Companies"),sort:9997,entity:"all"}),(0,_.isFeatureAvailable)("amocrm_drive")&&(0,u.getRights)("files","view")&&(this.default_list[h.files]={name:(0,d.i18n)("Files"),sort:9996,entity:"files",id:"files"}),this.default_list},getRenderData:function(e){var t,n=o().Deferred(),i=o().Deferred();return(0,c.fetch)(e).then(i.resolve,i.reject),i.always(s().bind((function(){(t=new(l().Collection)(s().toArray(p.prototype.getDefaultList()))).comparator=function(e){return-e.get("sort")},this._items[p.prototype.type]=t}),this)).done(s().bind((function(e){s().each(e,(function(e){e.name=s().escape(e.name)})),t.add(s().toArray(e)),this._items[p.prototype.type]=t,t.sort(),APP.constant("catalogs",s().mapObject(e,"id"))}),this)).fail((function(){s().delay((function(){APP.notifications.show_message_error({text:(0,d.i18n)("Lists are temporarily unavailable"),timeout:5e3})}),5e3)})).then(s().bind((function(){n.resolve(t)}),this)),n.promise()},getActiveData:function(e){var t,n,i,o,a=!0,r=0,l=e.findWhere({selected:!0});switch(l&&l.set("selected",!1),s().each(e.toJSON(),(function(e){e.entity||r++})),r>=10&&(a=!1),APP.data.current_entity){case"catalogs":t=APP.data&&APP.data.current_view&&+APP.data.current_view.catalog.id,i=e.findWhere({id:t});break;case"contacts":o=APP.data.element_type||"all",t=h[o],i=e.findWhere({entity:o});break;case"files":t=h[o="files"],i=e.findWhere({entity:o})}return APP.data.current_view&&APP.data.current_view.catalog||""!==APP.data.element_type||"contacts"!==APP.data.current_entity||(n=!0),t&&i&&i.set("selected",!0),{type:"catalogs",items:e,footer:a,list_view:n}}});const f={catalogs:new p};var m="../build/transpiled/interface/left_menu/hover_menu/data_handlers/catalogs";window.define(m,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([m])},518730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(156040),l=n(354939),c=function(){c.prototype.type="emails",c.prototype.collection=l.default,r.onPageFullyLoaded((function(){c.prototype.collection.fetch()}))};s().extend(c.prototype,{event:{"click .js-navigate-link":"route"},route:function(){o()(this).find(".js-navigate-link").trigger({type:"link:navigate",ctrlKey:!0})},getRenderData:function(e){var t=o().Deferred();return e?c.prototype.collection.fetch().done((function(){return t.resolve(c.prototype.collection)})):t.resolve(c.prototype.collection),t.promise()},getActiveData:function(e){return{type:"emails",items:e,list_view:!0}}});const d={mail:new c};var u="../build/transpiled/interface/left_menu/hover_menu/data_handlers/emails";window.define(u,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([u])},727986:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(345839),l=n.n(r),c=n(170576),d=n(409799);n(368439);var u=function(){u.prototype.type="leads"};s().extend(u.prototype,{default_data:{id:"new_pipe",leads:0,request:{pipelines:{add:{new_pipe:{sort:"",is_main:"",statuses:{142:{name:APP.lang.pipelines_statuses_closed_won},143:{name:APP.lang.pipelines_statuses_closed_lost},new_1:{color:"#99ccff",name:APP.lang.pipelines_statuses_first_contact,pipeline_id:"new_pipe",sort:10},new_2:{color:"#ffff99",name:APP.lang.pipelines_statuses_conversations,pipeline_id:"new_pipe",sort:20},new_3:{color:"#ffcc66",name:APP.lang.pipelines_statuses_taking_decision,pipeline_id:"new_pipe",sort:30}}}}}}},initSortablePipeline:function(){this.aside_view.$el.sortable({items:".aside__list-item.js-animate:not(.new)",handle:".aside__list-item_item-handle",axis:"y",containment:this.aside_view.$el.find(".aside__list"),sortAnimate:!APP.is_touch_device,update:s().bind((function(e,t){var n=!1,i=this.aside_view.options.collection.get(t.item.attr("data-id")),o=this.aside_view.form.model.defaults.sort;d.default.reSort.call(this,this.aside_view.options.collection,t),this.aside_view.options.collection.sort(),parseInt(o)!==parseInt(i.get("sort"))&&(n=!0),this.aside_view._setChanges({sorting:n})}),this),tolerance:"pointer"})},getRenderData:function(e){var t,n,i=o().Deferred(),a=this._items[u.prototype.type];return s().isEmpty(a)||e?(t=a,(null!=(n=l().Collection)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)||((a=new c.default).comparator=function(e){return e.get("sort")},this._items[u.prototype.type]=a),a.fetch({clear_cache:e}).then((function(){i.resolve(a)}))):i.resolve(a),i.promise()},getActiveData:function(e){var t,n,i=e.findWhere({selected:!0});switch(i&&i.set("selected",!1),APP.data.current_entity){case"leads-pipeline":0===(t=APP.data&&APP.data.current_view&&+APP.data.current_view.pipeline_id)&&(t=s().findWhere(e.toJSON(),{is_main:!0}).value);break;case"leads":APP.data.is_card||(t=APP.data&&APP.data.current_view&&+APP.data.current_view.pipeline_id)||(n=!0);break;case"leads-dp":t=APP.data&&APP.data.current_view&&APP.data.current_view.pipeline&&+APP.data.current_view.pipeline.id}return t&&e.get(t)&&e.get(t).set("selected",!0),{type:"leads",items:e,list_view:n}}});const _={leads:new u};var h="../build/transpiled/interface/left_menu/hover_menu/data_handlers/leads";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])},316913:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(629133),o=n.n(i);const a=n(356634).default.extend({onPrepareView:o().noop,onLinkNavigateClick:function(e){this.hasActiveStatus()&&(e.stopPropagation(),e.preventDefault())},onAddClick:function(){APP.router.navigate("/mail/settings/?mailbox-setup=general",{trigger:!0,replace:!0}),this.closeHoverMenu()}});var s="../build/transpiled/interface/left_menu/hover_menu/emails";window.define(s,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([s])},409799:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(629133),o=n.n(i),a=n(661533);const s={reSort:function(e){this.$(".status__sort").each(o().bind((function(t,n){var i,o;e&&(i=a(n).data("pipe-id"),(o=e.get(i)).set("is_main",0===t,{silent:!0}),o.set("sort",t+1,{silent:!0})),a(n).val(++t).change()}),this))}};var r="../build/transpiled/interface/left_menu/hover_menu/helpers/sort";window.define(r,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([r])},793320:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(460159),l=n.n(r),c=n(267651),d=n.n(c),u=n(313981),_=n(445368);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={Leads:n(727986).default,Catalogs:n(969837).default,Mail:n(518730).default},f={Leads:n(325583).default,Catalogs:n(362499).default,Mail:n(316913).default},m={empty_list:/^v[\d]{0,2}demo$/gm.exec(APP.constant("account").subdomain)?1e7:2500,quick_hover:120,left_menu_hover:250};const v=u.default.extend({el:o()(document),_data_handlers:{},_items:{},_hover_entities:[],hover_entity:null,hover_entity_change:null,aside_view:null,clicked_menu_opened:null,stop_hover:null,options:null,destroy_blocked:null,mouseenter_tmid:null,mouseleave_tmid:null,expand_tmid:null,_templates:["/tmpl/left_menu/aside.twig","/tmpl/left_menu/hover_menu/leads/index.twig","/tmpl/left_menu/hover_menu/leads/item.twig","/tmpl/left_menu/hover_menu/leads/item_in_edit.twig","/tmpl/left_menu/hover_menu/leads/footer_add.twig","/tmpl/left_menu/hover_menu/leads/footer_in_edit.twig","/tmpl/left_menu/hover_menu/catalogs/index.twig","/tmpl/left_menu/hover_menu/catalogs/item.twig","/tmpl/left_menu/hover_menu/catalogs/item_in_edit.twig","/tmpl/left_menu/hover_menu/catalogs/footer_add.twig","/tmpl/left_menu/hover_menu/catalogs/footer_in_edit.twig","/tmpl/left_menu/hover_menu/emails/index.twig","/tmpl/left_menu/hover_menu/emails/item.twig","/tmpl/left_menu/hover_menu/emails/item_in_edit.twig","/tmpl/left_menu/hover_menu/emails/footer_add.twig","/tmpl/left_menu/hover_menu/emails/footer_in_edit.twig"],_selectors:function(){return{left_menu:"#left_menu",hover_menu:"#aside-hover",inbox:"#notification-wrapper",inbox_messaging:"#inbox_messaging",overlay:"#left-menu-overlay",navMenuItemHovered:".nav__menu__item:hover"}},_classes:function(){return{nav_top:"nav__top",sort:"status__sort",nav_top_wrapper:"nav__top__wrapper",inbox_hidden:"inbox-holder_hidden",overlay_visible:"default-overlay-visible",hover_overlay:"hover-overlay",expanded:"expanded",elevated:"h-elevated",hidden:"h-hidden",aside_expanded:"aside-expanded",navMenuItem:"nav__menu__item"}},document_events:{"hover_menu:update":"onUpdateRenderData"},events:function(){var e,t=APP.is_touch_device?"touchstart":"mouseenter",n=APP.is_touch_device?"touchend":"mouseleave";return h(e={},"".concat(t," ").concat(this._selector("navMenuItem")),"onMenuItemHover"),h(e,"".concat(n," ").concat(this._selector("navMenuItem")),"onMenuItemHover"),e},initialize:function(e){this.options=e||{},s().isFunction(e.isNotificationsExpanded)&&(this.isNotificationsExpanded=e.isNotificationsExpanded),s().each(p,(function(e){s().extend(this._data_handlers||{},e)}),this),this._hover_entities=s().map(this._data_handlers,(function(e,t){return t}))},init:function(){return l()._preload(this._templates)().then(s().bind((function(){u.default.prototype.initialize.call(this),s().each(this._data_handlers,(function(e){s().isFunction(e.getRenderData)&&(this._items[e]={})}),this),this._$document.on("pipeline:removed pipeline:saved",s().bind((function(){this._getDataHandler("leads").getRenderData.call(this,!0)}),this)).on("mailbox:deleted mailbox:disabled mailbox:assigned",s().bind((function(){this._getDataHandler("mail").getRenderData.call(this,!0)}),this)),d().subscribe("hover_menu:show",s().bind((function(e,t){this.expandHoverMenuOnClick(t)}),this))}),this))},onUpdateRenderData:function(e,t){this.fetchHoverMenuListData(t)},onMenuItemHover:function(e){var t,n,i,a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).requestAt,r=void 0===a?performance.now():a,l=o()(e.currentTarget).data("entity"),c=!1;if(!(!s().contains(this._hover_entities,l)||this._isSidebarExpanded()||this.clicked_menu_opened||this.stop_hover||this.aside_view&&this.aside_view.hasActiveStatus()))switch(this._isHoverMenuExpanded()&&this.hover_entity&&l!==this.hover_entity?(n=this._hasClass("aside_expanded","hover_menu"),c=this._hasClass("overlay_visible","overlay"),this.destroyHoverMenu(true,c),this.hover_entity_change=n):APP.is_touch_device&&(i=!0),e.type){case"mouseenter":case"touchstart":clearTimeout(this.mouseenter_tmid),clearTimeout(this.mouseleave_tmid),t=this._getDataHandler(this.hover_entity=l),this._isHoverMenuExpanded()||t.getRenderData.call(this).done(s().bind((function(e){if("leads"!==this.hover_entity||(null==e?void 0:e.length)){var o=1===e.length,a=n||i&&!o?0:o?m.empty_list:m.quick_hover;if(r&&(a-=performance.now()-r)<0){if(!this._findElem("navMenuItemHovered").get(0))return;a=0}var l=function(){this.renderHoverMenu(s().extend(t.getActiveData(e),{keep_overlay:c,prepend_render:o,hover_entity_change:n,force_render:n||o||APP.is_touch_device}))};a&&(l=s().wrap(l,s().bind((function(e){this.mouseenter_tmid=setTimeout(s().bind((function(){e.call(this)}),this),a)}),this))),l.call(this)}}),this));break;case"mouseleave":case"touchend":clearTimeout(this.mouseenter_tmid)}},expandHoverMenuOnClick:function(e){if(s().contains(this._hover_entities,e)){var t=this._getDataHandler(this.hover_entity=e);t.getRenderData.call(this).done(s().bind((function(e){this.clicked_menu_opened=!0,this.renderHoverMenu(s().extend(t.getActiveData(e),{force_render:!0,from_top_nav_click:this.clicked_menu_opened}))}),this))}},checkTouchClick:function(e,t){var n=o().Deferred(),i=this._getDataHandler(t);return s().contains(this._hover_entities,t)&&i&&!this._isSidebarExpanded()&&s().isFunction(i.getRenderData)?i.getRenderData.call(this).done(s().bind((function(){this._isHoverMenuExpanded()&&this.destroy_blocked?n.reject():n.resolve()}),this)):n.resolve(),n.promise()},bindHideEvents:function(e){APP.is_touch_device?(this.destroy_blocked=!0,s().delay(s().bind((function(){this.destroy_blocked=!1}),this),e?1e3:300)):(this._$document.on("mouseleave".concat(this.ns),'.nav__menu__item[data-entity="'.concat(this.hover_entity,'"]'),s().bind(this.onHoverMenuMouseleave,this)).on("mouseleave".concat(this.ns),"#aside-hover",s().bind(this.onHoverMenuMouseleave,this)).on("mouseenter".concat(this.ns),"#aside-hover",s().bind((function(){clearTimeout(this.mouseleave_tmid)}),this)),this.clicked_menu_opened||this._$document.on("mouseenter".concat(this.ns),"#aside-hover",s().bind((function(){this.expand_tmid=setTimeout(s().bind(this.expandHoverMenu,this),m.quick_hover)}),this))),this._$document.on("click".concat(this.ns),"#aside-hover .aside__list-item-link",s().bind(this.destroyHoverMenu,this)).on("click".concat(this.ns),".nav__menu__item",s().bind((function(){this.aside_view.hasActiveStatus()||this.closeHoverMenu()}),this)).on("click".concat(this.ns),"#left-menu-overlay",s().bind(this.onOverlayClick,this)).on("click".concat(this.ns),".digital-pipeline__lead-sources",s().bind(this.onOverlayClick,this))},onOverlayClick:function(e){e.stopPropagation(),this.destroyHoverMenu(this.clicked_menu_opened&&!this.aside_view.hasActiveStatus())},onHoverMenuMouseleave:function(e){var t=o()(e.relatedTarget),n=t.data("entity"),i=t.closest(".nav__menu__item"),a=i.length?i.data("entity"):"";if(this.aside_view.hasActiveStatus()||this.clicked_menu_opened)return!1;if(clearTimeout(this.expand_tmid),s().contains(this._hover_entities,n||a))return!1;if(t.closest("#nav_menu").length)this.mouseleave_tmid=setTimeout(s().bind((function(){this.destroyHoverMenu()}),this),m.left_menu_hover);else{if(t.hasClass("modal-overlay"))return!1;t.closest("#aside-hover").length||this.destroyHoverMenu()}},renderHoverMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.hover_entity){var t=s().bind((function(){this.aside_view.prepareView(s().bind((function(){this.bindHideEvents(e.prepend_render&&!e.hover_entity_change)}),this))}),this);this.aside_view=new(f[(0,_.toTitleCase)(this.hover_entity)])({handler:this._getDataHandler(),collection:e.items,callbacks:{elevateDownHoverMenu:s().bind(this.elevateDownHoverMenu,this),elevateUpHoverMenu:s().bind(this.elevateUpHoverMenu,this),closeHoverMenu:s().bind(this.closeHoverMenu,this),fetchHoverMenuListData:s().bind(this.fetchHoverMenuListData,this),updateHoverMenuListData:s().bind(this.updateHoverMenuListData,this),rerenderHoverMenu:s().bind(this.rerenderHoverMenu,this)}}),this._dropElemCache("hover_menu"),this.elevateUpHoverMenu().append(this.aside_view.render(e)),e.force_render?this.expandHoverMenu(s().extend(e,{callback:t})):s().delay(s().bind((function(){this.hover_menu_animated=!1,t(),this.expandHoverMenu()}),this),10)}},expandHoverMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};clearTimeout(this.expand_tmid),this._hasClass("aside_expanded","hover_menu")||(s().isFunction(e.callback)&&e.callback(),this._elem("hover_menu").addClass("aside-expanded".concat(e.force_render?" h-no-transition":"")),e.keep_overlay||this._toggleOverlay({toggle:!0}),"leads"===this.hover_entity&&this._getDataHandler("leads").initSortablePipeline.call(this))},destroyHoverMenu:function(e,t){var n=s().bind((function(){this.hover_menu_animated=!1,this._elem("hover_menu").remove(),this._dropElemCache("hover_menu")}),this);this.destroy_blocked||(e=e||APP.is_touch_device,clearTimeout(this.mouseleave_tmid),!1!==this.aside_view.destroy(e)&&(e||this.hover_menu_animated?n():(this._elem("hover_menu").removeClass("aside-expanded h-no-transition"),this.hover_menu_animated=!0,this._elem("hover_menu").on(APP.transition_event,n)),this.hover_entity=null,this.clicked_menu_opened=!1,this.hover_entity_change=!1,this.elevateDownHoverMenu(),t||this._toggleOverlay({toggle:!1}),this._$document.off(this.ns)))},rerenderHoverMenu:function(e){var t=this.clicked_menu_opened,n=this._hasClass("overlay_visible","overlay"),i=e&&e.type;s().contains(this._hover_entities,i)&&(this.destroyHoverMenu(!0,n),this.clicked_menu_opened=t,this.hover_entity=i,this.renderHoverMenu(s().extend(e,{force_render:!0,from_top_nav_click:this.clicked_menu_opened})),n&&this._$document.trigger("overlay:unfix"))},_getDataHandler:function(e){return this._data_handlers[e||this.hover_entity]},_isSidebarExpanded:function(){var e=this._findElem("inbox_messaging");return this._hasClass("expanded","nav_top")||this._hasClass("expanded","nav_top_wrapper")||!this._hasClass("inbox_hidden","inbox")||e.length&&!e.hasClass(this._class("inbox_hidden"))||this.isNotificationsExpanded()},_isHoverMenuExpanded:function(){return this._elem("hover_menu")&&this._hasClass("aside_expanded","hover_menu")},_toggleElevation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._toggleClass("elevated","left_menu",e.toggle),this._elem("left_menu")},_toggleOverlay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s().isBoolean(e.toggle)&&(e.toggle?this._$document.trigger("overlay:fix"):this._hasClass("overlay_visible","overlay")&&this._$document.trigger("overlay:unfix")),this._toggleClass("overlay_visible","overlay",e.toggle),this._toggleClass("hover_overlay","overlay",e.toggle),this._elem("overlay")},isHoverMenuVisible:function(){return this._isHoverMenuExpanded()},elevateDownHoverMenu:function(){return this._toggleElevation({toggle:!1})},elevateUpHoverMenu:function(){return this._toggleElevation({toggle:!0})},closeHoverMenu:function(){this.destroyHoverMenu(true)},prependHoverMenu:function(e){this.stop_hover=!e},fetchHoverMenuListData:function(e){this._getDataHandler(e).getRenderData.call(this,true)},updateHoverMenuListData:function(e,t){this._items[e][t.id]=t}})},325583:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(656580),l=n(445368),c=n(955026),d=n(356634),u=n(845043);const _=d.default.extend({_endpoints:{update:"/ajax/v1/pipelines/set",add:"/ajax/v1/pipelines/set",getArhivationEndpoint:function(e){return"/ajax/leads/pipelines/".concat(e)}},onPrepareView:function(){var e,t,n,i=this._template_params;"leads-dp"===i.entity&&(e=o()(".list__top__preset").outerWidth(),i.from_top_click?(t=o()(".list__top__preset").offset().left-e,n=0):(t=parseFloat(this.$el.css("left")),n=this.$el.outerWidth()-e),this.$el.css({width:e,left:t+n}))},prepareAddData:function(e){var t=e.def_data,n=e.name;return t.request.pipelines.add.new_pipe.name=n.length?n:APP.lang.pipelines_statuses_new_pipeline,e.sort&&(t.request.pipelines.add.new_pipe.sort=e.sort),t},prepareArchivationData:function(e){return{is_archive:!e.is_archive}},onAddSuccess:function(e){var t={id:"new_pipe",newPipeline:s().toArray(e.response.pipelines.add.pipelines)[0]};return this._$document.trigger("pipeline:saved",[t]),t},prepareUpdateData:function(e){var t={request:{pipelines:{update:{}}}};return s().each(e,(function(e){var n=e.get("id");t.request.pipelines.update[n]={id:n,sort:e.get("sort"),name:(0,l.unescapeHTML)(e.get("name")),is_main:e.get("is_main")?"on":""}}),this),t},isValidUpdateResponse:function(e,t){return(0,c.hasKeys)(e,["response","pipelines","update",t.id])&&!0===e.response.pipelines.update[t.id]},onUpdateSuccess:function(e,t){this._$document.trigger("pipelines:name:changed",t)},actionDelete:function(e){r.default.getLeadsCount(e.id).done(s().bind((function(t){t.leads_by_pipe>0?new u.default({class_name:"modal-list",accept_text:(0,l.i18n)("OK"),text:(0,l.i18n)("Pipeline has leads"),no_cancel:!0,init:s().bind(this.elevateDownHoverMenu,this),destroy:s().bind((function(){this.rerenderInputs(e.id),this.elevateUpHoverMenu()}),this)}):d.default.prototype.actionDelete.call(this,e)}),this))},onDeleteSuccess:function(e){"leads-dp"===APP.data.current_entity&&+APP.data.current_view.pipeline.id==+e.id&&APP.router.navigate("/settings/pipeline/leads/",{trigger:!0,replace:!0})},_deleteModalParams:function(e){return{pipeline_id:e.id,pipeline_name:e.name}},navigateTo:function(e){var t,n=e.newPipeline&&e.newPipeline.id||e.id,i=APP.data.current_entity,o="/leads/";t="leads-dp"===i?"/settings/pipeline/leads/":APP.data.is_card||"leads"!==i?"".concat(o,"pipeline/"):"".concat(o,"list/pipeline/"),APP.router.navigate(t+n,{trigger:!0,replace:!0})},actionUpdate:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this,o=d.default.prototype.actionUpdate.apply(this,t);o&&s().isFunction(o.then)&&o.then((function(){var e=i.collection.findWhere({is_main:!0}),t=e&&e.get("id");t&&APP.constant("main_pipeline",t)}))}});var h="../build/transpiled/interface/left_menu/hover_menu/leads";window.define(h,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([h])},727406:(e,t,n)=>{"use strict";n.r(t),n.d(t,{wrapCacheCollection:()=>s});var i=n(629133),o=n.n(i);function a(e){return o().each(e,(function(t,n){o().isArray(t)?e[n]=e[n].sort():o().isObject(t)&&(e[n]=a(e[n]))})),e}function s(e){var t={},n={};return e.extend({__cache_wrapper_cache_id:null,getCacheId:function(){return(e.prototype.getCacheId?e.prototype.getCacheId.apply(this,arguments):null)||this.__cache_wrapper_cache_id||o().result(this,"url","")},getCache:function(n){return(e.prototype.getCache?e.prototype.getCache.apply(this,arguments):null)||t[this.collection_namespace][n]},setCache:function(n,i){return e.prototype.setCache&&e.prototype.setCache.apply(this,arguments),t[this.collection_namespace][n]=i,i},clearCache:function(n){e.prototype.clearCache&&e.prototype.clearCache.apply(this,arguments);var i=this.getCacheId(n);return(n=n||{}).namespace_full?t[this.collection_namespace]={}:o().propertyOf(t)([this.collection_namespace,i])&&delete t[this.collection_namespace][i],this},_getConfig:function(e){var t={};try{t=JSON.parse(JSON.stringify(e))}catch(e){console.error(e)}try{return JSON.stringify(a(t))}catch(e){return console.error(e),"{}"}},initialize:function(n,i){i=i||{},this.collection_namespace=this._getConfig(i),t[this.collection_namespace]||(t[this.collection_namespace]={}),e.prototype.initialize.apply(this,arguments)},sync:function(t,i,a){var s=this;if("read"===t){a&&a.data&&!this.__cache_wrapper_cache_id&&(this.__cache_wrapper_cache_id=o().result(this,"url","")+JSON.stringify(a.data));var r=this.getCacheId(a);return n[r]||(n[r]=new Promise((function(n,l){var c=s.getCache(r);c?n(o().clone(c)):e.prototype.sync.call(s,t,i,o().extend({},a,{success:function(e){s.setCache(r,e),n(o().clone(e))},error:function(e){l(e)}}))}))),n[r].then((function(e){return n[r]=null,a.success(o().clone(e)),e}),(function(e){throw n[r]=null,a.error(e),e}))}return e.prototype.sync.apply(this,arguments)},fetch:function(t){return(t=t||{}).clear_cache&&this.clearCache(),e.prototype.fetch.apply(this,arguments)}},{clearAllCache:function(){o().each(t,(function(e,n){t[n]={}}))}})}var r="../build/transpiled/network/cache_wrapper";window.define(r,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([r])},591754:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fetch:()=>u});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a);function r(e,t,n,i,o,a,s){try{var r=e[a](s),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,o)}var l,c,d=null,u=(l=function(e){var t;return function(e,t){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}}(this,(function(n){switch(n.label){case 0:return null===d||e?[4,o().ajax({url:"/ajax/v1/catalogs/list",type:"GET",dataType:"json"})]:[2,d];case 1:return t=n.sent(),s().propertyOf(t)(["response","catalogs"])&&(d=t.response.catalogs),[2,d||[]]}}))},c=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=l.apply(e,t);function a(e){r(o,n,i,a,s,"next",e)}function s(e){r(o,n,i,a,s,"throw",e)}a(void 0)}))},function(e){return c.apply(this,arguments)}),_="../build/transpiled/network/catalogs/api";window.define(_,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([_])},656580:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n(629133),o=n.n(i),a=n(323344),s=n(661533),r={},l={};s(document).on("page:changed",(function(){r={},l={}}));var c=function(){};o().extend(c.prototype,{getPipelines:function(e){return!0===e||o().isEmpty(r)?(this._pipelines_xhr||(this._pipelines_xhr=s.ajax({url:"/ajax/v1/pipelines/list",type:"GET",dataType:"json"}).always(o().bind((function(){this._pipelines_xhr=null}),this)).then((function(e){var t=e.response;return o().each(t.pipelines,(function(e){e.statuses=o().sortBy(e.statuses,"sort")})),r=t,t}))),this._pipelines_xhr):s.Deferred().resolve(r)},getPipelinesWithUnsorted:function(e){return!0===e||o().isEmpty(l)?(this._pipelines_w_unsorted_xhr||(this._pipelines_w_unsorted_xhr=s.ajax({url:"/ajax/v1/pipelines/list?with_unsorted=true",type:"GET",dataType:"json"}).always(o().bind((function(){this._pipelines_w_unsorted_xhr=null}),this)).then((function(e){var t=e.response;return o().each(t.pipelines,(function(e){e.statuses=o().sortBy(e.statuses,"sort")})),l=t,t}))),this._pipelines_w_unsorted_xhr):s.Deferred().resolve(l)},getLeadsByStatus:function(e,t){var n=this;return e=e?e+"/":"",this._lbs_fetching=this._lbs_fetching||{},t=t||(0,a.getQueryString)(),this._lbs_fetching[t]&&4!==this._lbs_fetching[t].readyState||(this._lbs_fetching[t]=s.ajax({url:"/ajax/leads/sum/".concat(e),data:"leads_by_status=Y".concat((t.length?"&":"")+t),type:"POST"}).always((function(){delete n._lbs_fetching[t]}))),this._lbs_fetching[t]},getLossReasons:function(){return s.ajax({url:"/ajax/v3/loss_reasons"})},getLeadsCount:function(e){return s.ajax({url:"/ajax/leads/sum/?pipeline_id=".concat(e),data:{leads_count:"Y"},type:"POST"})},getStatusesWithLeads:function(e,t){return s.ajax({url:"/ajax/leads/sum/".concat(e),data:(n={leads_by_status:"Y"},i="filter[pipe][".concat(e,"][]"),o=t,i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n),type:"POST"});var n,i,o},getTriggersCount:function(e){return s.ajax({url:"/ajax/leads/pipelines/".concat(e,"/triggers/count")})},getLeadDoubles:function(e){return e?s.ajax({url:"/ajax/v4/leads/doubles/".concat(e)}):Promise.reject()},getListLeadsCount:function(e,t,n){var i="/ajax/leads/list/".concat(e?"pipeline/".concat(e):"","?only_count=Y").concat(n?"&".concat(n):"").concat(t?"&SHOW_DELETED=Y":"");return s.ajax({url:i,type:"GET"})},saveStatuses:function(e,t){return s.ajax({url:"/ajax/leads/pipelines/".concat(t,"/statuses"),type:"POST",dataType:"text",contentType:"application/json",data:JSON.stringify({statuses:e})})}});const d=new c;var u="../build/transpiled/network/leads/api";window.define(u,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([u])},170576:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(629133),o=n.n(i),a=n(345839),s=n.n(a),r=n(727406),l=n(656580);const c=(0,r.wrapCacheCollection)(s().Collection.extend({sync:function(e,t,n){return"read"===e?l.default.getPipelines(!0).then(n.success||o().noop,n.error||o().noop):s().Collection.prototype.sync.apply(this,arguments)},parse:function(e){return e?o().map(e.pipelines,(function(e){return e.statuses=o().sortBy(e.statuses,"sort"),e})):[]}}));var d="../build/transpiled/network/leads/pipelines_collection";window.define(d,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([d])},354939:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(629133),o=n.n(i),a=n(345839),s=n.n(a),r=n(611958),l=n(661533);const c=new(s().Collection.extend({fetch:function(){var e=l.Deferred();return r.default.getMailboxes("list").done(o().bind((function(t){this.reset(t),e.resolve(t)}),this)).fail((function(t,n,i){var o={req_obj:t,msg:n,error:i};e.reject(o)})),e.promise()}}));var d="../build/transpiled/network/mail/mailboxes_collection";window.define(d,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([d])},910:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getCallingStatus:()=>u,runMerge:()=>h,setCallingStatus:()=>d,showUserStatus:()=>_});var i=n(629133),o=n.n(i),a=n(214558);function s(e,t,n,i,o,a,s){try{var r=e[a](s),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,o)}var r,l,c=!1,d=function(e){return"calling_status - "+(c=e)},u=function(){return c},_=function(e){var t={},n=(0,a.get)();switch(!0){case"online"===e:t=[],o().each(n,(function(e){!0===e.online&&t.push(e.id)}));break;case!o().isNaN(parseInt(e))&&!o().isUndefined((0,a.get)(e)):t=(0,a.get)(e).online||!1;break;default:o().each(n,(function(e,n){t[n]={},t[n].id=e.id,t[n].online=e.online||!1}))}return t},h=(r=function(e){return function(e,t){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}}(this,(function(t){switch(t.label){case 0:return[4,Promise.all([n.e(68592),n.e(45839),n.e(26632),n.e(50769),n.e(4483),n.e(73197),n.e(85826)]).then(n.bind(n,450769))];case 1:return[2,new(0,t.sent().default)(e)]}}))},l=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)}))},function(e){return l.apply(this,arguments)}),p="../build/transpiled/sdk/index";window.define(p,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([p])},226218:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isTabVisible:()=>i.isTabVisible});var i=n(76410)},76410:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isTabVisible:()=>a});var i=n(334254),o=n.n(i),a=function(){return"visible"===o().state()}},104737:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var i=n(661533),o=n.n(i),a=n(629133),s=n.n(a),r=n(623967),l=n.n(r),c=n(567952),d=n.n(c);function u(e,t,n,i,o,a,s){try{var r=e[a](s),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(i,o)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={request:function(e){return(t=function(){var t,n,i;return function(e,t){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function r(a){return function(r){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,r])}}}(this,(function(a){switch(a.label){case 0:return t=function(e){var t=e.url,n=e.data,i=e.method,o=void 0===i?"GET":i,a=e.contentType,r=e.processData,c=void 0===r||r,d=e.dataType,u=e.isFormDataPayload,_=e.isFilePayload,h=e.shouldSnakeize,p=void 0===h||h,f=e.xhrFields,m=e.crossDomain,v=e.headers,g=e.xhr,y=e.beforeSend,b=p?l()(n):n,w=_?new FormData:null;return w&&s().each(b,(function(e,t){"files"===t?s().each(e,(function(e,t){w.append(t,e)})):w.append(t,e)})),u?{url:t,data:_?w:b,contentType:a,processData:c,dataType:d,xhrFields:f,crossDomain:m,xhr:g,beforeSend:y,headers:v,method:o}:{url:t,contentType:a||"application/json",data:"GET"===o?b:JSON.stringify(b),processData:c,dataType:d,xhrFields:f,crossDomain:m,xhr:g,beforeSend:y,headers:v,method:o}}((r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){_(e,t,n[t])}))}return e}({},e),c=null!=(c={shouldCamelizeResponse:void 0})?c:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(c)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(c,e))})),r)),[4,o().ajaxPromisify(t)];case 1:return n=a.sent(),[2,void 0===(i=e.shouldCamelizeResponse)||i?d()(n):n]}var r,c}))},function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(e){u(a,i,o,s,r,"next",e)}function r(e){u(a,i,o,s,r,"throw",e)}s(void 0)}))})();var t}}}}]);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"build_2025_11_28_17_08_33"},function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="26a54c90-368f-4d43-9358-406707b40ce0",e._sentryDebugIdIdentifier="sentry-dbid-26a54c90-368f-4d43-9358-406707b40ce0")}catch(e){}}();
//# sourceMappingURL=95626.84074bcc7d6e0971c737.js.map