"use strict";(window.webpackChunk=window.webpackChunk||[]).push([[93103],{744704:(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var i=s(661533),o=s.n(i),n=s(460159),a=s.n(n),r=s(629133),l=s.n(r),u=s(313981),d=s(857185);const c=u.default.extend({_classes:function(){return{input:"js-multisuggest-input",input_wrapper:"multisuggest__list-item_input",selected_items:"js-multisuggest-list",loader:"js-multisuggest-loader",loading:"js-multisuggest-loading"}},_selectors:function(){return{list_item:".js-multisuggest-list .js-multisuggest-item",item:".js-multisuggest-item"}},events:{click:"preventExit","click .js-multisuggest-item":"clickToRemoveChoosed","keydown .multisuggest__input":"escapeDestroy","multisuggest:item:choosed":"onItemChoose","multisuggest:item:removed":"onItemRemove","click .js-chat_user_remove":"groupChatRemoveTag"},initialize:function(t){u.default.prototype.initialize.call(this),this.options=o().extend(this.options||{},{$container:t.$container||this._$body,class_name:"",suggest_id:"suggest-manager__suggest",onInit:l().noop,onModify:l().noop,onRevert:l().noop,onItemChoosed:l().noop,onItemRemoved:l().noop},t),this.autosize=!!l().isUndefined(t.autosize)||t.autosize,this.inputClassName=this.options.inputClassName,this.options.template=this.options.template||"/tmpl/common/fast_tags/wrapper.twig",this._$document.trigger({type:"controls:hide",target:t.el||t.$el}),this.render(this.options.template).then(l().bind((function(){this.bindEvents(),l().delay(l().bind((function(){this.suggestLeaveOnBlur(!0)}),this),100),l().isFunction(this.options.loadItems)&&(this.loadItems=t.loadItems),l().isFunction(this.options.onInit)&&this.options.onInit.call(this),l().isObject(this.options.items)?this.setItems(this.options):l().isFunction(this.loadItems)&&this.loadItems(),APP.is_touch_device&&!0!==this.options.focus_on_init?"INPUT"===document.activeElement.tagName&&document.activeElement.blur():(!1!==this.options.focus_on_init&&this._elem("input").focus(),!1!==this.autosize&&(this._elem("input").autosizeInput(),l().isFunction(this.afterAutoSizeInput)&&this.afterAutoSizeInput()))}),this))},destroy:function(){l().isFunction(this.options.onSuggestManagerDestroy)&&this.options.onSuggestManagerDestroy(),this._$document.off(this.ns),this.suggestLeaveOnBlur(!1),this.hasModifications(),o()("html").removeClass("has-suggest-manager"),this.$list.remove(),u.default.prototype.destroy.apply(this,arguments)},toggleCanEdit:function(t){var e=o()(".js-multisuggest-input"),s=t?"Y":"N";e&&(e.attr("data-can-add",s),t?this.$el.add("js-can-add"):this.$el.removeClass("js-can-add"))},onItemChoose:function(){l().isFunction(this.options.onItemChoosed)&&this.options.onItemChoosed.call(this),this.setPositions(),this.checkModifications()},onItemRemove:function(){l().isFunction(this.options.onItemRemoved)&&this.options.onItemRemoved.call(this),this.setPositions(),this.checkModifications()},bindEvents:function(){o()("html").addClass("has-suggest-manager"),this._$window.on("resize".concat(this.ns),l().debounce(l().bind(this.setPositions,this),50)),this.$list.on("click",".suggest-manager__empty__tag",l().bind((function(){this.$el.find(".multisuggest__input").trigger({type:"keydown",keyCode:13}).focus()}),this)).on("click",(function(t){t.stopPropagation()})).on("click",".fast_tags__closer-ok",l().bind(this.destroy,this)).on("click",".js-multisuggest-item",l().bind(this.clickToChoose,this)),this._$document.on("page:change:start".concat(this.ns," suggest:manager:destroy").concat(this.ns),l().bind(this.destroy,this)).on("orientationchange".concat(this.ns),l().bind(this.setPositions,this))},getSelectedItems:function(){return o().makeArray(this.$(this._selector("list_item")).map((function(t,e){var s=o()(e);return l().extend(s.data(),{id:s.attr("data-id"),raw_title:s.text(),title:s.text().trim()})})))},hasModifications:function(){var t=this.getSelectedItems();return(document.contains&&document.contains(this.el)||this.$el.closest("body").length)&&!l().isEqual(this.options.existing_items,t)||this._elem("input").val()&&!this.options.cant_add},checkModifications:function(){this.hasModifications()?l().isFunction(this.options.onModify)&&this.options.onModify.call(this):l().isFunction(this.options.onRevert)&&this.options.onRevert.call(this)},modified:l().noop,reverted:l().noop,preventExit:function(t){o()(t.currentTarget).hasClass("suggest-manager-lib__actions")||t.stopPropagation()},clickToChoose:function(t){d.default.clickItem(o()(t.currentTarget)),t.stopPropagation(),l().isFunction(this.options.onAddItem)&&this.options.onAddItem(o()(t.currentTarget))},clickToRemoveChoosed:function(t){var e=o()(t.currentTarget);e.addClass("js-active"),d.default.removeItem(e),l().isFunction(this.options.onRemoveItem)&&this.options.onRemoveItem(e)},groupChatRemoveTag:function(t){o()(t.currentTarget).find("js-chat_user_remove")&&(o()(t.currentTarget).addClass("js-active"),this.clickToRemoveChoosed(t))},escapeDestroy:function(t){if(27===t.keyCode)return this.destroy(),!1},_getRenderParams:function(){return l().isFunction(this.options.onRenderParams)?this.options.onRenderParams.apply(this):{}},render:function(t){return a()._preload([t],l().bind(this._render,this,t))()},_render:function(t){this.setElement(o()(a()({ref:t}).render(l().extend({id:this.$el.attr("id"),class_name:this.options.class_name,suggest_class_name:this.options.suggest_class_name,inputClassName:this.inputClassName,label_name:this.options.label_name,render_hidden:this.options.render_hidden,items:this.options.existing_items,cant_add:this.options.cant_add,can_remove:this.options.can_remove,new_item_msg:this.options.new_item_msg,no_items_msg:this.options.no_items_msg,empty_msg:this.options.empty_msg,placeholder:this.options.placeholder,actions:this.options.actions,item_tmpl:this.options.item_tmpl,inner_item_tmpl:this.options.inner_item_tmpl},this._getRenderParams())))),this.options.replace?this.options.$el.html(this.$el):this.options.replace_li?(this.$el.find(".multisuggest__list.js-multisuggest-list").prepend("<li class=scheduled_report__manager_filter_label>".concat(this.options.filter_label,"</li>")),this.options.$el.html(this.$el)):this.options.$el.append(this.$el),this._findElem("loader").length&&this._addClass("loading","selected_items"),this.$list=this.$('[data-multisuggest-id="'.concat(this.$el.attr("data-multisuggest-id"),'"]')),this.options.$container.append(this.$list),this.setPositions()},setPositions:function(){var t=this.$el.offset(),e=this.$list.parent(),s=e.offset()||{left:0,top:0},i=t.top+this.$el[0].offsetHeight+5,o=this.$list.find(".js-multisuggest-suggest");this.$list.css(Modernizr.prefixed("transform"),""),this.options.no_absolute_positioning||("static"===e.css("position")&&(s={left:0,top:0}),this.$list.css({top:i,left:t.left-s.left})),o.get(0).style.height="",this._checkVisibilityForPositioning(o)},_checkVisibilityForPositioning:function(t){var e,s=this.$el.offset(),i=s.top-15-o()(window).scrollTop()-(this.options.topbar_offset||0),n=s.top+this.$el[0].offsetHeight+5,a=this.options.$relative_to?this.options.$relative_to.outerHeight():window.innerHeight;this.$list.is(":visible")&&!this.$list.visible()&&(this.$list.css(Modernizr.prefixed("transform"),"translateY(calc(-100% - ".concat(this.el.offsetHeight+15,"px))")),this.$list.visible()||(i>a-n?e=i:(e=a-n,this.$list.css(Modernizr.prefixed("transform"),"")),t.css("height",e-10)))},setItems:function(t){this.items=t.items,this._removeClass("loading","selected_items"),this._elem("loader").remove(),this.$el.data("values-hash",this.items).trigger("multisuggest:set_suggest",!1)},save:l().noop,suggestLeaveOnBlur:function(t){var e=".suggest-manager:destroy";this._$document.off(e),!1!==t&&this._$document.on("controls:hide:private".concat(e),l().bind(this.destroy,this))}});var h="../build/transpiled/components/base/suggest_manager";window.define(h,(function(){var t="undefined",s=typeof e===t?typeof __WEBPACK_AMD_DEFINE_RESULT__===t?typeof module===t?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:e;return s&&s.default||s})),window.require([h])},93103:(t,e,s)=>{s.r(e),s.d(e,{default:()=>$});var i=s(661533),o=s.n(i),n=s(629133),a=s.n(n),r=s(460159),l=s.n(r),u=s(445368),d=s(955026),c=s(390788),h=s(214558),p=s(577486),_=s(744704),g=s(147562),m=c.keycodes.BACKSPACE,f=c.keycodes.ENTER,v=c.keycodes.TAB,y=c.keycodes.ESCAPE;o()(document).on("loaded_users:null",(function(){APP.constant("loaded_users",null)}));var b=_.default.extend({overlay_id:"users_select_overlay",_classes:function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return a().extend({},_.default.prototype._classes.apply(this,e),{suggest:"js-multisuggest-suggest",group:"users-select__head",group_choose:"users-select__head-allgroup",item_selected:"multisuggest__suggest-item_selected",disabled_item:"users-select__suggest-item-disabled",disabled_reason:"users-select__suggest-item-disabled-reason",disabled_reason_tip:"users-select__suggest-item-disabled-reason-tip",disabled_reason_tip_show:"users-select__suggest-item-disabled-reason_show"})},events:a().extend({},_.default.prototype.events,{"click .js-filter-save-managers":"onSaveClick","click .js-filter-cancel-managers":"onCancelClick","keydown .js-multisuggest-input":"onSelectOneKeydown","multisuggest:set_suggest":"setUsers","multisuggest:item:choose":"itemChoose"}),initialize:function(t){t=a().extend({$el:this.$el.parent(),input_name:"users_select",input_group_name:"users_select",existing_items:[],template:"/tmpl/users_select/users_select.twig",users_template:"/tmpl/users_select/wrapper/index.twig",replace:!0,select_group_like_item:!1,disable_groups_for_select:[],select_group_like_item_only:!1,select_one:!1,select_one_group:!1,item_template:"/tmpl/users_select/item.twig"},t);var e=this.getSelectedItems({input_group_name:t.input_group_name});e.length&&(t.existing_items=e),this.users={groups:{},allmanagers:{},managers:{}},_.default.prototype.initialize.call(this,a().extend(t,{no_absolute_positioning:t.no_absolute_positioning,onInit:a().bind(this.onInit,this,t.onInit),onDrop:a().bind((function(t){t.draggable&&(t.draggable.addClass("users-select__remove-after-render").hide(),this.$el.append(t.draggable))}),this)}))},destroy:function(t){var e,s=this.$el,i=this.$(".js-multisuggest-input"),n=null===(e=i.val())||void 0===e?void 0:e.trim();!0!==t&&n&&i.val("").trigger({type:"keydown",keyCode:f,inputValue:n});var r=this.getSelectedItems(),u=o()(l()({ref:this.options.items_template||"/tmpl/users_select/users_select_items.twig"}).render(a().extend({id:this.options.id,class_name:this.options.class_name||"",input_name:this.options.input_name,items:r},this.options.onRenderItemsParams?this.options.onRenderItemsParams(r):{})));a().isFunction(this.options.onDestroy)&&this.options.onDestroy.call(this,r,n,t),this.options.id&&this.$el.attr("id")!==this.options.id&&(s=o()("#".concat(this.options.id))),s.replaceWith(u),u.find('input[type="checkbox"]').trigger("change"),u.find("input.js-focuser").last().focus(),_.default.prototype.destroy.call(this)},escapeDestroy:function(t){if(t.keyCode===y)return this.destroy(!0),!1},onInit:function(t){this.$el.addClass("users-select-wrapper_editing"),a().isFunction(t)&&t.call(this)},setPositions:function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];_.default.prototype.setPositions.apply(this,e),a().isFunction(this.options.onSetPositions)&&this.options.onSetPositions.call(this),this.$list.toggleClass("hidden",!this.$list.text()),this.sticky_headers&&this.sticky_headers.refresh()},bindEvents:function(){_.default.prototype.bindEvents.call(this),APP.is_touch_device&&this.$el.on("focus blur",".js-multisuggest-input",a().bind((function(){a().delay(a().bind(this.setPositions,this),1e3)}),this)),this.$list.on("click",".users-select__head-allgroup",a().bind(this.addGroupClick,this)).on("suggest:suggest:click click",".users-select__head",a().bind(this.addGroupClick,this)).on("click",".users-select__suggest-item-disabled",a().bind(this.disabledItemClick,this)).on("mouseover",".users-select__suggest-item-disabled",a().bind(this.disabledItemMouseOver,this)).on("mouseleave",".users-select__suggest-item-disabled",a().bind(this.disabledItemMouseLeave,this)),APP.is_touch_device||(this.sticky_headers=this._addComponent(g.default,{el:this.$list.find(this._selector("suggest")),selector:".users-select__head-title",max_sticky_count:6,exclude_scrollbar:!1,filterElements:function(t){return a().filter(t,(function(t){return!o()(t).closest(".users-select-row__inner").hasClass("hidden")}))}}))},onSelectOneKeydown:function(t){if(this.options.select_one&&t.keyCode===m)return t.stopPropagation(),!0},_getRenderParams:function(){return a().extend({input_name:this.options.input_name},a().isFunction(this.options.onRenderParams)?this.options.onRenderParams.call(this):{})},_render:function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];_.default.prototype._render.apply(this,e),this.$list.hide()},disabledItemClick:function(t){var e,s=o()(t.currentTarget);this._hasClass("disabled_item",s)&&(e=s.find(this._selector("disabled_reason")),this._addClass("disabled_reason_tip_show",e))},disabledItemMouseOver:function(t){var e=o()(t.currentTarget);if(!this._hasClass("item_selected",e)){var s=e.closest(".js-multisuggest-suggest").find(this._selector("item_selected"));this._removeClass("item_selected",s),this._addClass("item_selected",e),this.locateDisableReason(e)}},disabledItemMouseLeave:function(t){var e=o()(t.currentTarget).find(this._selector("disabled_reason"));this._removeClass("disabled_reason_tip_show",e)},addGroupClick:function(t){var e,s=o()(t.currentTarget).closest(this._selector("group")).attr("data-id"),i=s.replace("group_",""),n=o()(t.currentTarget).closest(this._selector("group")),r=this.users.allmanagers;t.stopPropagation&&t.stopPropagation(),this.options.select_one||this.options.select_one_group||!n.find(this._selector("group_choose")).length||(this.options.select_group_like_item&&!a().includes(this.options.disable_groups_for_select,s)&&(r=[{title:(0,h.get)("groups")[s],id:i,group:"y",input_name:this.options.input_group_name}]),e=a().chain(r).filter((function(t){return t.group===s||"y"===t.group&&t.id===i})).map((function(t){var e=this.$el.find('.js-multisuggest-item[data-group="'.concat(t.group,'"][data-id="').concat(t.id,'"]'));return e.length&&e.remove(),this.getHtmlElem({title:t.title,id:t.id,input_name:t.input_name||this.options.input_name,group:t.group})}),this).value(),this._elem("input").val(""),this._elem("input_wrapper").before(e),this.options.select_group_like_item&&!a().includes(this.options.disable_groups_for_select,s)&&this.options.select_group_like_item_only&&this._findElem("list_item").each((function(t,e){var i=o()(e);i.data("group")===s&&i.remove()})),!this.options.select_group_like_item||this.options.select_group_like_item_only?n.parent().remove():this.setUsers(t,!1),a().isFunction(this.options.onGroupChoosed)&&this.options.onGroupChoosed.call(this),this.setPositions())},setExistsUsersGroup:function(){var t={};this.options.existing_items||(a().each(this.users.allmanagers,(function(e){var s=this.$(".js-multisuggest-item[data-id=".concat(e.id,"]"));t[e.id]={id:e.id,title:e.title,group:this.users.allmanagers[e.id].group},s.attr("data-group",this.users.allmanagers[e.id].group)}),this),this.options.existing_items=t)},getHtmlElem:function(t){return l()({ref:this.options.item_template}).render({item:t})},itemChoose:function(t,e){var s,i,n=this.el.querySelectorAll(".js-multisuggest-item"),r=this.el.querySelector(".js-multisuggest-input"),l=r.value,c=e.suggest_params&&a().contains([f,v],e.suggest_params.keyCode);a().isUndefined(this.$el.data("values-hash")[e.id])||(i=this.$el.data("values-hash")[e.id],e.group=i.group,e.source_name=i.show_source?i.source_name:"",e.original_title=i.origin_title?"(".concat((0,u.capitalize)(i.origin_title),") / "):"",e.title=e.source_name+e.original_title+i.title,e.talk_id=i.talk_id||"",i.talk_info&&(e.title+=" (".concat(i.talk_info,")"))),t&&t.stopPropagation&&t.stopPropagation(),e.is_new&&!(0,d.isValidEmail)(e.value)||(r.value="",e.is_new?(a().each(n,(function(t){t.parentNode.removeChild(t)})),o()(r.parentNode).before(this.getHtmlElem(e))):(s=a().filter(n,(function(t){return o()(t).text()===(e.title||"").toString()})),this.options.select_one&&n.length>0&&n[0].parentNode.removeChild(n[0]),!this.options.select_one&&s.length||!o().trim(e.title)||("y"!==e.group||this.options.select_one_group)&&o()(r.parentNode).before(this.getHtmlElem(e))),this.options.select_one?this.destroy():(this.removeSuggestItem(e),(l||c)&&this.$el.trigger("multisuggest:set_suggest",[!1]),this.$el.trigger("multisuggest:item:choosed"),APP.is_touch_device||r.focus()))},removeSuggestItem:function(t){var e=this.$list.find('.js-multisuggest-item[data-id="'.concat(t.id,'"]')).parent(),s=e.closest(".users-select__body");e.remove(),this.closingAnEmptyGroup(s),this.setPositions()},closingAnEmptyGroup:function(t){t.is(":empty")&&t.parent().remove()},onItemRemove:function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];this._render_users_cache={},this.$el.trigger("multisuggest:set_suggest",[!1]),_.default.prototype.onItemRemove.apply(this,e),APP.is_touch_device||this.$(".js-multisuggest-input").focus()},loadItems:function(){var t=this;this.items_load_promises=[],this.loaded_users=[],this.$list.addClass("js-loading"),!this.options.load_data&&APP.constant("loaded_users")?(this.loaded_users=APP.constant("loaded_users"),this.items_load_promises.push(Promise.resolve())):this.items_load_promises.push(o().ajax({url:"/ajax/get_managers_with_group/",type:"POST",data:this.options.load_data||{},dataType:"json"}).done((function(e){t.loaded_users=e,t.options.load_data||APP.constant("loaded_users",e),a().each(a().where(e.managers,{free_user:"N"}),(function(t){(0,h.add)(t)}))}))),setTimeout((function(){Promise.all(t.items_load_promises).then((function(e){t.loadHelper(e[0])}))}))},loadHelper:function(t){var e=a().result(this.options,"users",{});t=t||this.loaded_users,this.users={managers:t.managers,allmanagers:a().extend({},e.managers,t.managers),groups:a().extend({},e.groups,t.groups)},this.options.disabled_users&&a().each(this.users.allmanagers,(function(t){t.amojo_id||(t.active=!1)})),this.setExistsUsersGroup(),this.$list.removeClass("js-loading"),this.setItems({from_load:!0}),this.setPositions()},setItems:function(){var t=this.loadManagersForTheSelector();this._elem("loader").remove(),this.$el.data("values-hash",t).data("groups-hash",this.users.groups),this.$el.trigger("multisuggest:set_suggest",this._elem("input").val()||!1),this.options.from_load&&!a().keys(t).length&&this.checkSuggestsExists(!1)},loadManagersForTheSelector:function(){return a().isUndefined(this.users.allmanagers)?{}:a().extend({},this.users.allmanagers)},findGroup:function(t){var e=this.$el.data("groups-hash")||{},s=this.$el.find(".multisuggest__list").find(".multisuggest__list-item:not(.multisuggest__list-item_input)");return e=a().filter(e,(function(e,i){var n=(e||"").toString().toLowerCase(),r=(0,u.transliterate)(n),l=(0,u.transliterate)(n,"punto");return n&&(r.match(t)||l.match(t)||n.match(t))&&this.options.select_one_group&&!a().filter(s,(function(t){return"y"===o()(t).data("group")&&o()(t).data("id")===i}),this).length}),this),a().isUndefined(e)?[]:e},findUser:function(t){var e=this.$el.data("values-hash")||{},s=this.$el.find(".multisuggest__list").find(".multisuggest__list-item:not(.multisuggest__list-item_input)");return a().filter(e,(function(e){var i=(e.title||"").toString().toLowerCase(),n=(e.login||"").toString().toLowerCase(),r=(0,u.transliterate)(i),l=(0,u.transliterate)(i,"punto");return i&&(r.match(t)||l.match(t)||i.match(t)||n.match(t))&&(this.options.select_one||!a().filter(s,(function(t){return this.options.select_one_group&&"y"===o()(t).data("group")?o()(t).data("id")===e.group:o()(t).attr("data-id")===e.id.toString()}),this).length)}),this)},setUsers:function(t,e){var s,i,o=this.getSelectedItems()||{},n={},r=!1;t.stopPropagation(),!1===e&&(e=""),a().isUndefined(e)||(i=new p.UnsafeRegExp("(^|\\s)".concat(e?e.replace(/(\[|\/)/gi,"\\$1"):""),"i"),n=this.findGroup(i),s=this.findUser(i,n)),a().contains(["events","statsCalls"],APP.getBaseEntity())&&(r=!!o.filter((function(t){return"0"===t.id})).length);var u=this.getRenderUsersAndGroups({users:s,groups:n,selected_item:o,value:e});this.options.has_voice&&(a().each(u.users.external,a().bind((function(t){t.is_disabled=!t.supports_voice,t.is_disabled&&(t.disable_reason=this.options.has_voice.reason_text_external)}),this)),a().each(u.groups,a().bind((function(t){t.selectable="external"===t.id,t.is_disabled="external"!==t.id,t.disable_reason=this.options.reason_text_internal}),this))),!0===(a().isEmpty(u.users)&&!a().findWhere(u.groups,{hidden:!1}))?this.$list.hide():this._render_users_cache&&a().isEqual(this._render_users_cache,u)&&!r||(this.$list.show().find(".multisuggest__suggest").html(l()({ref:this.options.users_template}).render({class_name:"users_select_wrapper",select_one:this.options.select_one,rows:u.groups,items:u.users,user_bot:r})),a().isFunction(this.options.onRenderSuggest)&&this.options.onRenderSuggest.call(this),this.setPositions()),this._elem("input").trigger("multisuggest:select-first",[this.getHighlightedItem(o[0],u)]),this._render_users_cache=u},locateDisableReason:function(t){var e=t.find(this._selector("disabled_reason")),s=t.find(this._selector("disabled_reason_tip")),i=t.position().top,o=e.innerHeight();i<o?(s.css("transform","rotate(45deg)"),e.css("top","2px"),s.css("top","-4px")):(s.css("transform","rotate(-135deg)"),e.css("top","".concat(-(o+28),"px")),s.css("top","".concat(o-4,"px")))},getHighlightedItem:function(t){return t},getRenderUsersAndGroups:function(t){var e=a().reduce(t.users,(function(t,e){return a().isArray(t[e.group])||(t[e.group]=[]),!1===this.options.disabled_users?!0===e.active&&t[e.group].push(e):t[e.group].push(e),t}),{},this),s=this.getRenderAllGroup(t.groups,e,t.selected_item);return this.options.teammate_mention&&(delete e.external,delete s.external,delete e.bots,delete s.bots),{users:e,groups:s}},getRenderAllGroup:function(t,e,s){var i=this.$el.data("groups-hash")||{};return a().reduce(i,(function(i,o,n){var r=n.replace("group_",""),l=!a().includes(this.options.disable_groups_for_select,r);return i[n]={title:o,selectable:!this.options.select_one&&l,select_title:this.options.select_group_like_item&&l?(0,u.i18n)("Select"):null,hidden:!(e[n]||!this.options.select_one&&a().indexOf(t,o)+1),id:n,all_select:a().contains(["other_users"],n)||Boolean(a().findWhere(s,{group:"y",id:r}))||!l},i}),{},this)},_getSelectedItems:function(){return _.default.prototype.getSelectedItems.apply(this,arguments)},getSelectedItems:function(t){var e,s=this._getSelectedItems(t),i=this.users&&this.users.allmanagers?this.users.allmanagers:(0,h.get)(),o=a().propertyOf(t)("input_group_name"),n=a().propertyOf(this.options)("input_group_name");return a().map(s,(function(t){return a().has(i[t.id],"source_group")&&(t.title="".concat(i[t.id].source_group,"(").concat(i[t.id].origin_title,") / ").concat(i[t.id].title),i[t.id].talk_info&&(t.title+="(".concat(i[t.id].talk_info,")"))),(e=a().extend(a().pick(t,"id","group","title","raw_title"),{name:t.title,is_group:"y"===t.group,talk_id:a().propertyOf(i)([t.id,"talk_id"])||""})).is_group?e.input_name=o||n:(e.group=i[t.id]&&i[t.id].group,e.active=i[t.id]&&i[t.id].active),e}),this)}});const $=b;var k="../build/transpiled/interface/users_select";window.define(k,(function(){var t="undefined",s=typeof e===t?typeof __WEBPACK_AMD_DEFINE_RESULT__===t?typeof module===t?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:e;return s&&s.default||s})),window.require([k])}}]);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"build_2025_11_28_17_08_33"},function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="c5e10a5e-31ff-43c1-b7ca-0540259404bc",t._sentryDebugIdIdentifier="sentry-dbid-c5e10a5e-31ff-43c1-b7ca-0540259404bc")}catch(t){}}();
//# sourceMappingURL=93103.4df3614cf743e1743bf7.js.map