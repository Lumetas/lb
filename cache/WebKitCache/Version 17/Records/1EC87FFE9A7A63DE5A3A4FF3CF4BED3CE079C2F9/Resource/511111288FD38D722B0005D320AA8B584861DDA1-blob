mw.loader.impl(function(){return["ext.uls.displaysettings@12el8",function($,jQuery,require,module){(function(){'use strict';const template='<div class="uls-input-settings">'+'<div class="row">'+'<div class="twelve columns">'+'<h3 data-i18n="ext-uls-input-settings-title"></h3>'+'</div>'+'</div>'+'<div class="row enabled-only uls-input-settings-languages-title">'+'<div class="twelve columns">'+'<h4 data-i18n="ext-uls-input-settings-ui-language"></h4>'+'</div>'+'</div>'+'<div class="row enabled-only">'+'<div class="uls-ui-languages twelve columns"></div>'+'</div>'+'<div class="row enabled-only">'+'<div class="twelve columns">'+'<div class="uls-input-settings-inputmethods-list">'+'<h4 class="uls-input-settings-imes-title"></h4>'+'</div>'+'</div>'+'</div>'+'<div class="row">'+'<div class="twelve columns uls-input-settings-disable-info"></div>'+'<div class="ten columns uls-input-settings-toggle">'+'<button class="cdx-button cdx-button--weight-primary cdx-button--action-progressive active uls-input-toggle-button"></button>'+'</div>'+'</div>';function InputSettings($parent){this.nameI18n='ext-uls-input-settings-title-short';
this.descriptionI18n='ext-uls-input-settings-desc';this.$template=$(template);this.uiLanguage=this.getInterfaceLanguage();this.contentLanguage=this.getContentLanguage();this.$parent=$parent;mw.ime.init();this.savedRegistry=$.extend(true,{},$.ime.preferences.registry);}InputSettings.prototype={constructor:InputSettings,render:function(){const webfonts=$(document.body).data('webfonts');this.dirty=false;this.$parent.$settingsPanel.empty();this.$parent.$settingsPanel.append(this.$template);const $enabledOnly=this.$template.find('.enabled-only');if($.ime.preferences.isEnabled()){$enabledOnly.removeClass('hide');}else{$enabledOnly.addClass('hide');}this.prepareLanguages();this.prepareToggleButton();this.$parent.i18n();if(webfonts){webfonts.refresh();}this.listen();},markDirty:function(){this.dirty=true;this.$parent.enableApplyButton();},prepareInputmethods:function(language){const imes=$.ime.languages[language];const $imeListTitle=this.$template.find('.uls-input-settings-imes-title');const $imeListContainer=this.$template.find('.uls-input-settings-inputmethods-list');
$imeListContainer.empty();if(!imes){$imeListContainer.append($('<label>').addClass('uls-input-settings-no-inputmethods').text($.i18n('ext-uls-input-settings-noime')));$imeListTitle.text('');return;}$imeListTitle.text($.i18n('ext-uls-input-settings-ime-settings',$.uls.data.getAutonym(language)));const defaultInputmethod=$.ime.preferences.getIM(language)||imes.inputmethods[0];for(const index in imes.inputmethods){const imeId=imes.inputmethods[index];const selected=defaultInputmethod===imeId;$imeListContainer.append(this.renderInputmethodOption(imeId,selected));}$imeListContainer.append(this.renderInputmethodOption('system',defaultInputmethod==='system'));this.$parent.position();},renderInputmethodOption:function(imeId,selected){if(imeId!=='system'&&!$.ime.sources[imeId]){return $();}const $inputMethodItem=$('<input>').attr({type:'radio',class:'cdx-radio__input',name:'ime',id:imeId,value:imeId}).prop('checked',selected);let name,description,inputmethod,$helplink;if(imeId==='system'){name=$.i18n('ext-uls-disable-input-method');
description='';$helplink='';}else{inputmethod=$.ime.inputmethods[imeId];$helplink=$('<a>').addClass('uls-ime-help').text($.i18n('ext-uls-ime-help')).attr('href',mw.msg('uls-ime-helppage',imeId)).attr('target','_blank');if(!inputmethod){name=$.ime.sources[imeId].name;description='';}else{name=inputmethod.name;description=$.ime.inputmethods[imeId].description;}}const $icon=$('<span>').addClass('cdx-radio__icon');const $imeLabelText=$('<span>').addClass('cdx-label__label__text').append($('<strong>').addClass('uls-input-settings-name').text(name+' '),$('<span>').addClass('uls-input-settings-description').text(description),$helplink);const $imeLabelTag=$('<label>').attr('for',imeId).addClass('cdx-label__label').append($imeLabelText);const $imeLabel=$('<div>').addClass('cdx-label cdx-radio__label').append($imeLabelTag);const $inputWrapper=$('<div>').addClass('cdx-radio__wrapper').append($inputMethodItem,$icon,$imeLabel);return $('<div>').addClass('cdx-radio').append($inputWrapper);},
prepareLanguages:function(){const inputSettings=this,SUGGESTED_LANGUAGES_NUMBER=3;let selectedImeLanguage=$.ime.preferences.getLanguage();const $languages=this.$template.find('.uls-ui-languages');const suggestedLanguages=this.frequentLanguageList().concat(['en','zh','fr']);const languagesForButtons=[this.contentLanguage];$languages.empty();if($.uls.data.languages[selectedImeLanguage]&&!languagesForButtons.includes(selectedImeLanguage)){languagesForButtons.push(selectedImeLanguage);}if(this.uiLanguage!==this.contentLanguage&&$.uls.data.languages[this.uiLanguage]&&!languagesForButtons.includes(this.uiLanguage)){languagesForButtons.push(this.uiLanguage);}for(const lang in suggestedLanguages){if(languagesForButtons.includes(suggestedLanguages[lang])){continue;}languagesForButtons.push(suggestedLanguages[lang]);if(languagesForButtons.length>=SUGGESTED_LANGUAGES_NUMBER){break;}}function buttonHandler(button){return function(){const selectedLang=button.data('language');if(selectedLang!==$.ime.preferences.getLanguage()){
inputSettings.markDirty();$.ime.preferences.setLanguage(selectedLang);}$('.uls-ui-languages .cdx-button').removeClass('uls-cdx-button-pressed');button.addClass('uls-cdx-button-pressed');inputSettings.prepareInputmethods(selectedLang);};}selectedImeLanguage=selectedImeLanguage||this.contentLanguage;for(let i=0;i<SUGGESTED_LANGUAGES_NUMBER;i++){const language=languagesForButtons[i];const $button=$('<button>').addClass('cdx-button uls-language-button autonym').text($.uls.data.getAutonym(language)).prop({lang:language,dir:$.uls.data.getDir(language)});$button.data('language',language);const $caret=$('<span>').addClass('uls-input-settings-caret');$languages.append($button,$caret);$button.on('click',buttonHandler($button));if(language===selectedImeLanguage){$button.trigger('click');}}this.prepareMoreLanguages();},prepareMoreLanguages:function(){const inputSettings=this;const $languages=this.$template.find('.uls-ui-languages');const $moreLanguagesButton=$('<button>').prop('class','uls-more-languages')
.addClass('cdx-button').text('...');$languages.append($moreLanguagesButton);$moreLanguagesButton.uls({left:inputSettings.$parent.left,top:inputSettings.$parent.top,onReady:function(){const $back=$('<div>').addClass('uls-icon-back').data('i18n','ext-uls-back-to-input-settings').i18n().text(' ');$back.on('click',()=>{this.hide();inputSettings.$parent.show();});const $wrap=$('<div>').addClass('uls-search-wrapper-wrapper');this.$menu.find('.uls-search-wrapper').wrap($wrap);this.$menu.find('.uls-search-wrapper-wrapper').prepend($back);this.$menu.toggleClass('selector-left',inputSettings.$parent.$window.hasClass('selector-left'));this.$menu.toggleClass('selector-right',inputSettings.$parent.$window.hasClass('selector-right'));},onVisible:function(){this.$menu.find('.uls-languagefilter').prop('placeholder',$.i18n('ext-uls-input-settings-ui-language'));if(!inputSettings.$parent.$window.hasClass('callout')){return;}const $parent=$('#language-settings-dialog');if(parseInt($parent.css('left'),10)){
this.$menu.css('left',$parent.css('left'));}if(parseInt($parent.css('top'),10)){this.$menu.css('top',$parent.css('top'));}if(inputSettings.$parent.$window.hasClass('callout')){this.$menu.addClass('callout callout--languageselection');}else{this.$menu.removeClass('callout');}},onSelect:function(langCode){$.ime.preferences.setLanguage(langCode);inputSettings.$parent.show();inputSettings.prepareLanguages();inputSettings.markDirty();},languages:mw.ime.getLanguagesWithIME(),ulsPurpose:'input-settings'});$moreLanguagesButton.on('click',()=>{inputSettings.$parent.hide();mw.hook('mw.uls.ime.morelanguages').fire();});},prepareToggleButton:function(){const $toggleButton=this.$template.find('.uls-input-toggle-button');const $toggleButtonDesc=this.$template.find('.uls-input-settings-disable-info');if($.ime.preferences.isEnabled()){$toggleButton.data('i18n','ext-uls-input-disable');$toggleButtonDesc.hide();}else{$toggleButton.data('i18n','ext-uls-input-enable');$toggleButtonDesc.data('i18n','ext-uls-input-disable-info').show();
}$toggleButton.i18n();$toggleButtonDesc.i18n();},frequentLanguageList:function(){return mw.uls.getFrequentLanguageList();},getInterfaceLanguage:function(){return mw.config.get('wgUserLanguage');},getContentLanguage:function(){return mw.config.get('wgContentLanguage');},listen:function(){const $imeListContainer=this.$template.find('.uls-input-settings-inputmethods-list');$imeListContainer.on('change','input:radio[name=ime]:checked',(event)=>{this.markDirty();$.ime.preferences.setIM(event.target.value);});this.$template.find('button.uls-input-toggle-button').on('click',()=>{this.markDirty();if($.ime.preferences.isEnabled()){this.disableInputTools();}else{this.enableInputTools();}});},disableInputTools:function(){$.ime.preferences.disable();mw.ime.disable();this.$template.find('.enabled-only').addClass('hide');this.prepareToggleButton();},enableInputTools:function(){$.ime.preferences.enable();mw.ime.setup();this.$template.find('.enabled-only').removeClass('hide');this.$template.scrollIntoView();
this.prepareToggleButton();},close:function(){this.$parent.close();},onSave:function(success){if(success){this.$parent.hide();this.$parent.disableApplyButton();}},apply:function(){let previousIM;const previousLanguage=this.savedRegistry.language,currentlyEnabled=$.ime.preferences.isEnabled(),currentLanguage=$.ime.preferences.getLanguage(),currentIM=$.ime.preferences.getIM(currentLanguage);if(!this.dirty){return;}this.$parent.setBusy(true);if(previousLanguage){previousIM=this.savedRegistry.imes[previousLanguage];}if(currentLanguage!==this.savedRegistry.language||currentIM!==previousIM){mw.hook('mw.uls.ime.change').fire(currentIM);}if(this.savedRegistry.enable!==currentlyEnabled){mw.hook(currentlyEnabled?'mw.uls.ime.enable':'mw.uls.ime.disable').fire('this');}$.ime.preferences.save((result)=>{this.onSave(result);this.dirty=false;this.savedRegistry=$.extend(true,{},$.ime.preferences.registry);this.$parent.setBusy(false);});},cancel:function(){if(!this.dirty){this.close();return;}$.ime.preferences.registry=$.extend(true,{},this.savedRegistry);
this.uiLanguage=this.getInterfaceLanguage();this.contentLanguage=this.getContentLanguage();if($.ime.preferences.isEnabled()){mw.ime.setup();}else{mw.ime.disable();}this.close();}};$.fn.languagesettings.modules=Object.assign($.fn.languagesettings.modules,{input:InputSettings});}());
(function(){'use strict';const template='<div class="uls-display-settings">'+'<div class="row">'+'<div class="twelve columns uls-display-settings-tab-switcher">'+'<div class="uls-button-group cdx-button-group">'+'<button id="uls-display-settings-language-tab" class="cdx-button uls-cdx-button-pressed" '+'data-i18n="ext-uls-display-settings-language-tab"></button>'+'<button id="uls-display-settings-fonts-tab" class="cdx-button" data-i18n="ext-uls-display-settings-fonts-tab"></button>'+'</div>'+'</div>'+'</div>'+'<div class="uls-sub-panel uls-display-settings-language-tab">'+'<div class="row">'+'<div class="twelve columns">'+'<h4 data-i18n="ext-uls-display-settings-ui-language"></h4>'+'</div>'+'</div>'+'<div class="row">'+'<div class="uls-ui-languages twelve columns">'+'<p data-i18n="ext-uls-language-buttons-help"></p>'+'</div>'+'</div>'+'</div>'+'<div class="uls-sub-panel uls-display-settings-fonts-tab hide">'+'<div class="row">'+'<div class="twelve columns">'+
'<h4 data-i18n="ext-uls-display-settings-font-settings"></h4>'+'</div>'+'</div>'+'<div id="uls-display-settings-font-selectors" class="uls-display-settings-font-selectors">'+'<div class="row uls-font-item uls-content-fonts">'+'<div class="six columns">'+'<label class="uls-font-label" id="content-font-selector-label"></label>'+'</div>'+'<select id="content-font-selector" class="four columns end uls-font-select"></select>'+'</div>'+'<div class="row uls-font-item uls-ui-fonts">'+'<div class="six columns">'+'<label class="uls-font-label" id="ui-font-selector-label"></label>'+'</div>'+'<select id="ui-font-selector" class="four columns end uls-font-select"></select>'+'</div>'+'</div>'+'<div class="row">'+'<div class="twelve columns">'+'<div class="cdx-checkbox">'+'<input type="checkbox" id="webfonts-enable-checkbox" class="cdx-checkbox__input" />'+'<span class="cdx-checkbox__icon"></span>'+'<label class="checkbox cdx-checkbox__label" for="webfonts-enable-checkbox" >'+
'<strong data-i18n="ext-uls-webfonts-settings-title"></strong> '+'<span data-i18n="ext-uls-webfonts-settings-info"></span> '+'<a target="_blank" href="https://www.mediawiki.org/wiki/Universal_Language_Selector/WebFonts" data-i18n="ext-uls-webfonts-settings-info-link"></a>'+'</label>'+'</div>'+'</div>'+'</div>'+'</div>';function DisplaySettings($parent){this.nameI18n='ext-uls-display-settings-title-short';this.descriptionI18n='ext-uls-display-settings-desc';this.$template=$(template);this.uiLanguage=this.getUILanguage();this.contentLanguage=this.getContentLanguage();this.$webfonts=null;this.$parent=$parent;this.savedRegistry=$.extend(true,{},mw.webfonts.preferences);this.dirty=false;}DisplaySettings.prototype={constructor:DisplaySettings,setupWebFonts:function(){const d=$.Deferred();mw.loader.using(['ext.uls.webfonts.repository','@wikimedia/codex']).then(()=>{if(this.isWebFontsEnabled){mw.webfonts.setup();}setTimeout(()=>{this.$webfonts=$(document.body).data('webfonts');d.resolve();},1);
});return d.promise();},render:function(){this.setupWebFonts().then(()=>{this.renderAfterDependenciesLoaded();});},renderAfterDependenciesLoaded:function(){this.$parent.$settingsPanel.empty();this.$parent.$settingsPanel.append(this.$template);this.prepareLanguages();this.prepareUIFonts();this.prepareContentFonts();this.prepareWebfontsCheckbox();this.preview(this.uiLanguage);this.listen();},prepareWebfontsCheckbox:function(){const webFontsEnabled=this.isWebFontsEnabled();if(!webFontsEnabled){$('#uls-display-settings-font-selectors').addClass('hide');}$('#webfonts-enable-checkbox').prop('checked',webFontsEnabled);},isWebFontsEnabled:function(){return mw.webfonts.preferences.isEnabled();},prepareLanguages:function(){const displaySettings=this,SUGGESTED_LANGUAGES_NUMBER=3,anonsAllowed=mw.config.get('wgULSAnonCanChangeLanguage');if(!anonsAllowed&&!mw.user.isNamed()){const $loginCta=$('<p>').attr('id','uls-display-settings-anon-log-in-cta');const autonym=$.uls.data.getAutonym(this.contentLanguage);
this.$template.find('.uls-display-settings-language-tab').empty().append($('<p>').append($('<span>').addClass('uls-display-settings-anon-label').text($.i18n('ext-uls-display-settings-anon-label')+'\u00A0'),$('<span>').text($.i18n('ext-uls-display-settings-anon-same-as-content',autonym))),$loginCta);new mw.Api().parse($.i18n('ext-uls-display-settings-anon-log-in-cta')).done((parsedCta)=>{$loginCta.html(parsedCta);$loginCta.find('a').on('click',()=>{mw.hook('mw.uls.login.click');});});return;}const $languages=this.$template.find('div.uls-ui-languages');const suggestedLanguages=this.frequentLanguageList().concat(['en','zh-hans','zh-hant','fr']);const languagesForButtons=[this.contentLanguage];$languages.find('button').remove();if(this.uiLanguage!==this.contentLanguage){languagesForButtons.push(this.uiLanguage);}for(const lang in suggestedLanguages){if(languagesForButtons.includes(suggestedLanguages[lang])){continue;}languagesForButtons.push(suggestedLanguages[lang]);if(languagesForButtons.length>=SUGGESTED_LANGUAGES_NUMBER){
break;}}function buttonHandler(button){return function(){displaySettings.markDirty();displaySettings.uiLanguage=button.data('language')||displaySettings.uiLanguage;$('div.uls-ui-languages button.cdx-button').removeClass('uls-cdx-button-pressed');button.addClass('uls-cdx-button-pressed');displaySettings.prepareUIFonts();displaySettings.preview(displaySettings.uiLanguage);};}for(let i=0;i<SUGGESTED_LANGUAGES_NUMBER;i++){const language=languagesForButtons[i];const $button=$('<button>').addClass('cdx-button uls-language-button autonym').text($.uls.data.getAutonym(language)).prop({lang:language,dir:$.uls.data.getDir(language)});if(language===this.uiLanguage){$button.addClass('uls-cdx-button-pressed');}$button.data('language',language);$languages.append($button);$button.on('click',buttonHandler($button));}this.prepareMoreLanguages();},prepareMoreLanguages:function(){const displaySettings=this;const $languages=this.$template.find('div.uls-ui-languages');const $moreLanguagesButton=$('<button>')
.prop('class','uls-more-languages').addClass('cdx-button').text('...');$languages.append($moreLanguagesButton);$moreLanguagesButton.uls({onPosition:this.$parent.position.bind(this.$parent),onReady:function(){const $back=$('<div>').addClass('uls-icon-back');$back.on('click',()=>{this.hide();displaySettings.$parent.show();});const $wrap=$('<div>').addClass('uls-search-wrapper-wrapper');this.$menu.find('.uls-search-wrapper').wrap($wrap);this.$menu.find('.uls-search-wrapper-wrapper').prepend($back);this.$menu.toggleClass('selector-left',displaySettings.$parent.$window.hasClass('selector-left'));this.$menu.toggleClass('selector-right',displaySettings.$parent.$window.hasClass('selector-right'));},onVisible:function(){this.$menu.find('.uls-languagefilter').prop('placeholder',$.i18n('ext-uls-display-settings-ui-language'));if(!displaySettings.$parent.$window.hasClass('callout')){return;}if(displaySettings.$parent.$window.hasClass('callout')){this.$menu.addClass('callout callout--languageselection');
}else{this.$menu.removeClass('callout');}},onSelect:function(langCode){displaySettings.uiLanguage=langCode;displaySettings.$template.attr('lang',langCode);displaySettings.$parent.show();displaySettings.markDirty();},ulsPurpose:'interface-language',quickList:function(){return mw.uls.getFrequentLanguageList();}});$moreLanguagesButton.on('click',()=>{displaySettings.$parent.hide();mw.hook('mw.uls.interface.morelanguages').fire();});},preview:function(language){this.$template.attr('lang',language).css('font-family','');$.i18n().locale=language;mw.uls.loadLocalization(language).done(()=>{this.i18n();if(this.$webfonts){this.$webfonts.refresh();}});},frequentLanguageList:function(){return mw.uls.getFrequentLanguageList();},getUILanguage:function(){return mw.config.get('wgUserLanguage');},getContentLanguage:function(){return mw.config.get('wgContentLanguage');},prepareFontSelector:function(target){const language=this[target+'Language'];let fonts;if(this.isWebFontsEnabled()){fonts=this.$webfonts.list(language);
}else{fonts=[];}const $fontsSection=this.$template.find('div.uls-'+target+'-fonts');if(fonts.length===0){$fontsSection.hide();return;}$fontsSection.show();const $fontSelector=this.$template.find('#'+target+'-font-selector');$fontSelector.find('option').remove();const savedFont=this.$webfonts.getFont(language);fonts.forEach((font)=>{if(font!=='system'){const $fontOption=$('<option>').attr('value',font).text(font);$fontSelector.append($fontOption);$fontOption.prop('selected',savedFont===font);}});$fontSelector.prop('disabled',!this.isWebFontsEnabled());const $systemFont=$('<option>').val('system').attr('data-i18n','ext-uls-webfonts-system-font');$fontSelector.append($systemFont);$systemFont.prop('selected',savedFont==='system'||!savedFont);const $fontLabel=this.$template.find('#'+target+'-font-selector-label');$fontLabel.empty().append($('<strong>'));$fontLabel.append($('<div>').attr('data-i18n','ext-uls-webfonts-select-for-'+target+'-info'));},i18n:function(){this.$parent.i18n();this.$template.find('#ui-font-selector-label strong')
.text($.i18n('ext-uls-webfonts-select-for',$.uls.data.getAutonym(this.uiLanguage)));this.$template.find('#content-font-selector-label strong').text($.i18n('ext-uls-webfonts-select-for',$.uls.data.getAutonym(this.contentLanguage)));},prepareUIFonts:function(){if(this.uiLanguage===this.contentLanguage){this.$template.find('div.uls-ui-fonts').hide();return;}this.prepareFontSelector('ui');},prepareContentFonts:function(){this.prepareFontSelector('content');},markDirty:function(){this.dirty=true;this.$parent.enableApplyButton();},listen:function(){const displaySettings=this,$contentFontSelector=this.$template.find('#content-font-selector'),$uiFontSelector=this.$template.find('#ui-font-selector'),$tabButtons=displaySettings.$template.find('.uls-display-settings-tab-switcher button');$('#webfonts-enable-checkbox').on('click',function(){const $fontSelectors=$('#uls-display-settings-font-selectors');displaySettings.markDirty();if(this.checked){displaySettings.setupWebFonts().then(()=>{mw.webfonts.preferences.enable();
displaySettings.prepareContentFonts();displaySettings.prepareUIFonts();displaySettings.i18n();displaySettings.$webfonts.apply($uiFontSelector.find('option:selected'));displaySettings.$webfonts.refresh();$fontSelectors.removeClass('hide');});}else{$fontSelectors.addClass('hide');mw.webfonts.preferences.disable();mw.webfonts.preferences.setFont(displaySettings.uiLanguage,'system');displaySettings.$webfonts.refresh();$contentFontSelector.prop('disabled',true);$uiFontSelector.prop('disabled',true);}});$uiFontSelector.on('change',function(){displaySettings.markDirty();mw.webfonts.preferences.setFont(displaySettings.uiLanguage,$(this).val());displaySettings.$webfonts.refresh();});$contentFontSelector.on('change',function(){displaySettings.markDirty();mw.webfonts.preferences.setFont(displaySettings.contentLanguage,$(this).val());displaySettings.$webfonts.refresh();});$tabButtons.on('click',function(){const $button=$(this);if($button.hasClass('uls-cdx-button-pressed')){return;}displaySettings.$template.find('.uls-sub-panel').each(function(){
const $subPanel=$(this);if($subPanel.hasClass($button.attr('id'))){$subPanel.removeClass('hide');}else{$subPanel.addClass('hide');}});displaySettings.$parent.position();$tabButtons.removeClass('uls-cdx-button-pressed');$button.addClass('uls-cdx-button-pressed');}).on('mousedown',(event)=>{event.preventDefault();});},close:function(){this.$parent.close();},onSave:function(success){if(success){if(this.$webfonts){this.$webfonts.refresh();}this.$parent.hide();if(this.uiLanguage!==this.getUILanguage()){mw.uls.changeLanguage(this.uiLanguage);}this.$parent.disableApplyButton();}},apply:function(){if(!this.dirty){return;}this.$parent.setBusy(true);mw.webfonts.preferences.save((result)=>{const newRegistry=mw.webfonts.preferences.registry,oldRegistry=this.savedRegistry.registry,newFonts=newRegistry.fonts||{},oldFonts=oldRegistry.fonts||{};const newWebfontsEnable=newRegistry.webfontsEnabled;let oldWebfontsEnable=oldRegistry.webfontsEnabled;if(oldWebfontsEnable===undefined){oldWebfontsEnable=mw.config.get('wgULSWebfontsEnabled');
}if(newWebfontsEnable!==oldWebfontsEnable){const webfontsEvent=newWebfontsEnable?'mw.uls.webfonts.enable':'mw.uls.webfonts.disable';mw.hook(webfontsEvent).fire('displaysettings');}if(newFonts[this.uiLanguage]!==oldFonts[this.uiLanguage]){mw.hook('mw.uls.font.change').fire('interface',this.uiLanguage,newFonts[this.uiLanguage]);}if(newFonts[this.contentLanguage]!==oldFonts[this.contentLanguage]){mw.hook('mw.uls.font.change').fire('content',this.contentLanguage,newFonts[this.contentLanguage]);}this.onSave(result);this.dirty=false;this.savedRegistry=$.extend(true,{},mw.webfonts.preferences);this.$parent.setBusy(false);});},cancel:function(){if(!this.dirty){this.close();return;}mw.webfonts.preferences=$.extend(true,{},this.savedRegistry);if(this.$webfonts){this.$webfonts.refresh();}this.uiLanguage=this.getUILanguage();this.contentLanguage=this.getContentLanguage();this.close();}};$.fn.languagesettings.modules=Object.assign($.fn.languagesettings.modules,{display:DisplaySettings});}());
},{"css":[".imelabel{display:block;padding-bottom:10px;font-size:10pt;line-height:16pt}.imelabel span{padding-left:5px}.imelabel input{float:left}.uls-ime-menu-settings-item{background-color:#f8f9fa;color:var(--color-base,#202122);border-top:1px solid var(--border-color-subtle,#c8ccd1);border-radius:0 0 2px 2px;margin-top:6px;padding:4px 2px;position:relative}.uls-ime-disable-link{background:transparent url(/w/extensions/UniversalLanguageSelector/resources/images/remove-input.svg?82c56) no-repeat left top;background-size:auto 16px;padding-left:22px;padding-right:26px;padding-bottom:10px;cursor:pointer}.uls-ime-more-settings-link{background:transparent url(/w/extensions/UniversalLanguageSelector/resources/images/cog.svg?ce0b4) no-repeat center top;background-size:auto 14px;border-left:1px solid var(--border-color-subtle,#c8ccd1);width:22px;height:14px;position:absolute;right:0;cursor:pointer}.uls-ime-menu-settings-item \u003E a:hover{background-color:var(--background-color-interactive-subtle,#f8f9fa);color:var(--color-emphasized,#101418)}.uls-input-settings-imes-title:empty{display:none}.uls-input-settings-disable-info,.uls-input-settings-no-inputmethods{color:var(--color-subtle,#54595d);padding-top:10px;padding-bottom:15px;font-size:11pt}.down + .uls-input-settings-caret{display:inline-block;width:0;height:0;border-top:0;border-right:8px solid var(--border-color-transparent,transparent);border-left:8px solid var(--border-color-transparent,transparent);border-bottom:8px solid #f8f9fa;content:'';position:relative;vertical-align:bottom;top:12px;left:-16%;margin:0 -8px}.uls-input-settings-toggle{padding-top:10px;margin-bottom:10px}.uls-input-settings .uls-input-settings-inputmethods-list{margin:12px 0;padding:6px 10px;background:#f8f9fa}.uls-input-settings .uls-input-settings-inputmethods-list .uls-input-settings-name{unicode-bidi:-moz-isolate;unicode-bidi:isolate}.uls-input-settings .cdx-radio{position:relative}.uls-ime-notification-bubble .link{color:var(--color-progressive,#36c);cursor:pointer}.uls-input-settings .uls-ime-help{margin-left:10px} .ime-perime-help{display:none}.ime-checked .ime-perime-help{display:inline-block;width:20px;height:100%;position:absolute;top:0;bottom:0;right:4px;opacity:var(--opacity-icon-base,0.87);padding:0;background:transparent url(/w/extensions/UniversalLanguageSelector/resources/images/help.svg?1f319) no-repeat right center;background-size:16px 16px}.ime-checked .ime-perime-help:hover{opacity:1}     .uls-button-group{display:inline-block;position:relative;left:-20px}.uls-display-settings-tab-switcher{text-align:center; }.uls-display-settings-tab-switcher .uls-button-group{z-index:1}.uls-sub-panel{border-top:1px solid #eaecf0;padding-top:25px;top:-20px;position:relative;min-height:150px}.uls-display-settings-font-selectors{margin:5px 0 15px 0}.uls-font-item{border-bottom:1px solid #eaecf0;background:#f8f9fa;padding:10px 0}.uls-font-item:first-child{border-top:1px solid #eaecf0} .uls-font-label,.uls-font-select,#uls-display-settings-anon-log-in-cta{font-size:10pt} .uls-font-label{color:var(--color-subtle,#54595d);font-size:10pt}.uls-font-label strong{color:var(--color-base,#202122)}.uls-display-settings-anon-label{font-weight:bold}.cdx-button{display:inline-flex;align-items:center;justify-content:center;gap:6px;box-sizing:border-box;min-height:32px;max-width:28rem;margin:0;border-width:1px;border-style:solid;border-radius:2px;padding-right:11px;padding-left:11px;font-family:inherit;font-size:var(--font-size-medium,1rem);font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-transform:none;transition-property:background-color,color,border-color,box-shadow;transition-duration:.1s}.cdx-button--size-small{gap:4px;min-height:1.5rem;padding-right:5px;padding-left:5px}.cdx-button--size-large{min-height:44px;padding-right:15px;padding-left:15px}.cdx-button--icon-only{min-width:32px;padding-right:0;padding-left:0}.cdx-button--icon-only.cdx-button--size-small{min-width:1.5rem}.cdx-button--icon-only.cdx-button--size-large{min-width:44px}.cdx-button::-moz-focus-inner{border:0;padding:0}.cdx-button .cdx-button__icon,.cdx-button .cdx-icon{vertical-align:middle}.cdx-button .cdx-icon{color:inherit}.cdx-button--fake-button,.cdx-button--fake-button:hover,.cdx-button--fake-button:focus{text-decoration:none}.cdx-button:enabled,.cdx-button.cdx-button--fake-button--enabled{background-color:var(--background-color-interactive-subtle,#f8f9fa);color:var(--color-base,#202122);border-color:var(--border-color-interactive,#72777d)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled .cdx-button__icon{background-color:var(--color-base,#202122)}}.cdx-button:enabled:hover,.cdx-button.cdx-button--fake-button--enabled:hover{background-color:var(--background-color-interactive-subtle--hover,#eaecf0);border-color:var(--border-color-interactive--hover,#27292d);cursor:pointer}.cdx-button:enabled:active,.cdx-button.cdx-button--fake-button--enabled:active,.cdx-button:enabled.cdx-button--is-active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--is-active{background-color:var(--background-color-interactive-subtle--active,#dadde3);border-color:var(--border-color-interactive--active,#202122)}.cdx-button:enabled:focus,.cdx-button.cdx-button--fake-button--enabled:focus{outline:1px solid transparent}.cdx-button:enabled:focus:not(:active):not(.cdx-button--is-active),.cdx-button.cdx-button--fake-button--enabled:focus:not(:active):not(.cdx-button--is-active){border-color:var(--border-color-progressive--focus,#36c);box-shadow:inset 0 0 0 1px var(--box-shadow-color-progressive--focus,#36c)}.cdx-button:enabled.cdx-button--action-progressive,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-progressive{background-color:var(--background-color-progressive-subtle,#f1f4fd);color:var(--color-progressive,#36c);border-color:var(--border-color-progressive,#6485d1)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--action-progressive .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-progressive .cdx-button__icon{background-color:var(--color-progressive,#36c)}}.cdx-button:enabled.cdx-button--action-progressive:hover,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-progressive:hover{background-color:var(--background-color-progressive-subtle--hover,#d9e2ff);color:var(--color-progressive--hover,#3056a9);border-color:var(--border-color-progressive--hover,#3056a9)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--action-progressive:hover .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-progressive:hover .cdx-button__icon{background-color:var(--color-progressive--hover,#3056a9)}}.cdx-button:enabled.cdx-button--action-progressive:active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-progressive:active,.cdx-button:enabled.cdx-button--action-progressive.cdx-button--is-active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-progressive.cdx-button--is-active{background-color:var(--background-color-progressive-subtle--active,#b6d4fb);color:var(--color-progressive--active,#233566);border-color:var(--border-color-progressive--active,#233566)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--action-progressive:active .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-progressive:active .cdx-button__icon,.cdx-button:enabled.cdx-button--action-progressive.cdx-button--is-active .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-progressive.cdx-button--is-active .cdx-button__icon{background-color:var(--color-progressive--active,#233566)}}.cdx-button:enabled.cdx-button--action-destructive,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-destructive{background-color:var(--background-color-destructive-subtle,#ffe9e5);color:var(--color-destructive,#bf3c2c);border-color:var(--border-color-destructive,#f54739)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--action-destructive .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-destructive .cdx-button__icon{background-color:var(--color-destructive,#bf3c2c)}}.cdx-button:enabled.cdx-button--action-destructive:hover,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-destructive:hover{background-color:var(--background-color-destructive-subtle--hover,#ffdad3);color:var(--color-destructive--hover,#9f3526);border-color:var(--border-color-destructive--hover,#9f3526)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--action-destructive:hover .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-destructive:hover .cdx-button__icon{background-color:var(--color-destructive--hover,#9f3526)}}.cdx-button:enabled.cdx-button--action-destructive:active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-destructive:active,.cdx-button:enabled.cdx-button--action-destructive.cdx-button--is-active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-destructive.cdx-button--is-active{background-color:var(--background-color-destructive-subtle--active,#ffc8bd);color:var(--color-destructive--active,#612419);border-color:var(--border-color-destructive--active,#612419)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--action-destructive:active .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-destructive:active .cdx-button__icon,.cdx-button:enabled.cdx-button--action-destructive.cdx-button--is-active .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-destructive.cdx-button--is-active .cdx-button__icon{background-color:var(--color-destructive--active,#612419)}}.cdx-button:enabled.cdx-button--action-destructive:focus:not(:active):not(.cdx-button--is-active),.cdx-button.cdx-button--fake-button--enabled.cdx-button--action-destructive:focus:not(:active):not(.cdx-button--is-active){border-color:var(--border-color-destructive--focus,#36c);box-shadow:inset 0 0 0 1px var(--box-shadow-color-destructive--focus,#36c)}.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-progressive{background-color:var(--background-color-progressive,#36c);color:var(--color-inverted-fixed,#fff);border-color:var(--border-color-transparent,transparent)}.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive:hover,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-progressive:hover{background-color:var(--background-color-progressive--hover,#3056a9)}.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive:active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-progressive:active,.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive.cdx-button--is-active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-progressive.cdx-button--is-active{background-color:var(--background-color-progressive--active,#233566)}.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive:focus:not(:active):not(.cdx-button--is-active),.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-progressive:focus:not(:active):not(.cdx-button--is-active){border-color:var(--border-color-progressive--focus,#36c);box-shadow:inset 0 0 0 1px var(--box-shadow-color-progressive--focus,#36c),inset 0 0 0 2px var(--box-shadow-color-inverted,#fff)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-progressive .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-progressive .cdx-button__icon{background-color:var(--color-inverted-fixed,#fff)}}.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-destructive,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-destructive{background-color:var(--background-color-destructive,#bf3c2c);color:var(--color-inverted-fixed,#fff);border-color:var(--border-color-transparent,transparent)}.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-destructive:hover,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-destructive:hover{background-color:var(--background-color-destructive--hover,#9f3526)}.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-destructive:active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-destructive:active,.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-destructive.cdx-button--is-active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-destructive.cdx-button--is-active{background-color:var(--background-color-destructive--active,#612419)}.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-destructive:focus:not(:active):not(.cdx-button--is-active),.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-destructive:focus:not(:active):not(.cdx-button--is-active){border-color:var(--border-color-destructive--focus,#36c);box-shadow:inset 0 0 0 1px var(--box-shadow-color-destructive--focus,#36c),inset 0 0 0 2px var(--box-shadow-color-inverted,#fff)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--weight-primary.cdx-button--action-destructive .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-primary.cdx-button--action-destructive .cdx-button__icon{background-color:var(--color-inverted-fixed,#fff)}}.cdx-button:enabled.cdx-button--weight-quiet,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet{background-color:var(--background-color-transparent,transparent);border-color:var(--border-color-transparent,transparent)}.cdx-button:enabled.cdx-button--weight-quiet:hover,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet:hover{background-color:var(--background-color-interactive-subtle--hover,#eaecf0);mix-blend-mode:var(--mix-blend-mode-blend,multiply)}.cdx-button:enabled.cdx-button--weight-quiet:active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet:active,.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--is-active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--is-active{background-color:var(--background-color-interactive-subtle--active,#dadde3)}.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-progressive,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-progressive{color:var(--color-progressive,#36c)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-progressive .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-progressive .cdx-button__icon{background-color:var(--color-progressive,#36c)}}.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-progressive:hover,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-progressive:hover{background-color:var(--background-color-progressive-subtle--hover,#d9e2ff);color:var(--color-progressive--hover,#3056a9);border-color:var(--border-color-transparent,transparent)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-progressive:hover .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-progressive:hover .cdx-button__icon{background-color:var(--color-progressive--hover,#3056a9)}}.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-progressive:active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-progressive:active,.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-progressive.cdx-button--is-active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-progressive.cdx-button--is-active{background-color:var(--background-color-progressive-subtle--active,#b6d4fb);color:var(--color-progressive--active,#233566);border-color:var(--border-color-transparent,transparent)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-progressive:active .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-progressive:active .cdx-button__icon,.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-progressive.cdx-button--is-active .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-progressive.cdx-button--is-active .cdx-button__icon{background-color:var(--color-progressive--active,#233566)}}.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-progressive:focus:not(:active):not(.cdx-button--is-active),.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-progressive:focus:not(:active):not(.cdx-button--is-active){border-color:var(--border-color-progressive--focus,#36c);box-shadow:inset 0 0 0 1px var(--box-shadow-color-progressive--focus,#36c)}.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-destructive,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-destructive{color:var(--color-destructive,#bf3c2c)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-destructive .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-destructive .cdx-button__icon{background-color:var(--color-destructive,#bf3c2c)}}.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-destructive:hover,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-destructive:hover{background-color:var(--background-color-destructive-subtle--hover,#ffdad3);color:var(--color-destructive--hover,#9f3526);border-color:var(--border-color-transparent,transparent)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-destructive:hover .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-destructive:hover .cdx-button__icon{background-color:var(--color-destructive--hover,#9f3526)}}.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-destructive:active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-destructive:active,.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-destructive.cdx-button--is-active,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-destructive.cdx-button--is-active{background-color:var(--background-color-destructive-subtle--active,#ffc8bd);color:var(--color-destructive--active,#612419);border-color:var(--border-color-transparent,transparent)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-destructive:active .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-destructive:active .cdx-button__icon,.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-destructive.cdx-button--is-active .cdx-button__icon,.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-destructive.cdx-button--is-active .cdx-button__icon{background-color:var(--color-destructive--active,#612419)}}.cdx-button:enabled.cdx-button--weight-quiet.cdx-button--action-destructive:focus:not(:active):not(.cdx-button--is-active),.cdx-button.cdx-button--fake-button--enabled.cdx-button--weight-quiet.cdx-button--action-destructive:focus:not(:active):not(.cdx-button--is-active){border-color:var(--border-color-destructive--focus,#36c);box-shadow:inset 0 0 0 1px var(--box-shadow-color-destructive--focus,#36c)}.cdx-button:disabled,.cdx-button.cdx-button--fake-button--disabled{background-color:var(--background-color-disabled,#dadde3);color:var(--color-disabled-emphasized,#a2a9b1);border-color:var(--border-color-transparent,transparent)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:disabled .cdx-button__icon,.cdx-button.cdx-button--fake-button--disabled .cdx-button__icon{background-color:var(--color-inverted,#fff)}}.cdx-button:disabled.cdx-button--weight-quiet,.cdx-button.cdx-button--fake-button--disabled.cdx-button--weight-quiet{background-color:var(--background-color-transparent,transparent);color:var(--color-disabled,#a2a9b1)}@supports ((-webkit-mask-image:none) or (mask-image:none)){.cdx-button:disabled.cdx-button--weight-quiet .cdx-button__icon,.cdx-button.cdx-button--fake-button--disabled.cdx-button--weight-quiet .cdx-button__icon{background-color:var(--color-disabled,#a2a9b1)}}.cdx-icon{color:var(--color-base,#202122);display:inline-flex;align-items:center;justify-content:center;vertical-align:text-bottom}.cdx-icon svg{fill:currentcolor;width:100%;height:100%}.cdx-icon--x-small{min-width:10px;min-height:10px;width:calc(var(--font-size-medium,1rem) - 4px);height:calc(var(--font-size-medium,1rem) - 4px)}.cdx-icon--small{min-width:14px;min-height:14px;width:var(--font-size-medium,1rem);height:var(--font-size-medium,1rem)}.cdx-icon--medium{min-width:18px;min-height:18px;width:calc(var(--font-size-medium,1rem) + 4px);height:calc(var(--font-size-medium,1rem) + 4px)}.cdx-icon--flipped svg{transform:scaleX(-1)}.cdx-label{display:flex;flex-direction:column;font-size:var(--font-size-medium,1rem);line-height:var(--line-height-small,1.375rem)}.cdx-label__label__icon.cdx-icon{color:var(--color-subtle,#54595d);margin-right:4px}.cdx-label__label__text{font-weight:700}legend.cdx-label{padding:0}fieldset label.cdx-label__label .cdx-label__label__text{font-weight:400}.cdx-label:not(.cdx-label--disabled) .cdx-label__label__optional-flag,.cdx-label:not(.cdx-label--disabled) .cdx-label__description{color:var(--color-subtle,#54595d)}.cdx-label--disabled,.cdx-label--disabled .cdx-label__label__icon{color:var(--color-disabled,#a2a9b1)}.cdx-label--visually-hidden{display:block;clip:rect(1px,1px,1px,1px);position:absolute!important;width:1px;height:1px;margin:-1px;border:0;padding:0;overflow:hidden}.cdx-label:not(.cdx-label--visually-hidden){padding-bottom:8px}@media screen and (min-width:640px){.cdx-label:not(.cdx-label--visually-hidden){padding-bottom:4px}}.cdx-radio{position:relative;min-width:20px;min-height:20px}.cdx-radio__wrapper{display:flex}.cdx-radio:not(.cdx-radio--inline){display:flex;flex-direction:column;margin-bottom:6px}.cdx-radio:not(.cdx-radio--inline):last-child{margin-bottom:0}.cdx-radio--inline{display:inline-flex;margin-right:16px;white-space:nowrap}.cdx-radio--inline:last-child{margin-right:0}.cdx-radio__label,.cdx-radio__label.cdx-label{display:inline-flex;position:relative;z-index:0;padding-left:calc(var(--font-size-medium,1rem) + 10px)}.cdx-radio__label.cdx-label{padding-bottom:0}.cdx-radio__label.cdx-label .cdx-label__label__text{font-weight:400}.cdx-radio--inline .cdx-radio__label{display:inline}.cdx-radio__icon{background-color:var(--background-color-base-fixed,#fff);position:absolute;left:0;box-sizing:border-box;min-width:18px;min-height:18px;width:calc(var(--font-size-medium,1rem) + 4px);height:calc(var(--font-size-medium,1rem) + 4px);margin-top:1px;border-width:1px;border-style:solid;transition-property:background-color,color,border-color,box-shadow;transition-duration:.1s}.cdx-radio__input{opacity:0;position:absolute;left:0;z-index:1;min-width:20px;min-height:20px;width:calc(var(--font-size-medium,1rem) + 4px);height:calc(var(--font-size-medium,1rem) + 4px);margin:1px 0 0;font-size:var(--font-size-medium,1rem);cursor:inherit}.cdx-radio__wrapper:hover\u003E.cdx-radio__input:enabled,.cdx-radio__wrapper:hover\u003E.cdx-radio__input:enabled~.cdx-label .cdx-label__label,.cdx-radio__wrapper:hover\u003E.cdx-radio__input:enabled~.cdx-radio__label:not(.cdx-label){cursor:pointer}.cdx-radio__custom-input:not(.cdx-radio__custom-input--inline){padding-top:6px;padding-left:calc(var(--font-size-medium,1rem) + 10px)}.cdx-radio__icon{border-radius:50%}.cdx-radio__icon:before{content:\" \";position:absolute;top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem;border:1px solid var(--border-color-transparent,transparent);border-radius:50%}.cdx-radio__input:enabled+.cdx-radio__icon{background-color:var(--background-color-base,#fff);border-color:var(--border-color-interactive,#72777d)}.cdx-radio__input:enabled:hover+.cdx-radio__icon{background-color:var(--background-color-interactive-subtle--hover,#eaecf0);border-color:var(--border-color-interactive--hover,#27292d)}.cdx-radio__input:enabled:active+.cdx-radio__icon{background-color:var(--background-color-interactive-subtle--active,#dadde3);border-color:var(--border-color-interactive--active,#202122)}.cdx-radio__input:enabled:focus:not(:active)+.cdx-radio__icon{border-color:var(--border-color-progressive--focus,#36c);box-shadow:inset 0 0 0 1px var(--box-shadow-color-progressive--focus,#36c)}.cdx-radio__input:enabled:checked+.cdx-radio__icon{background-color:var(--background-color-base-fixed,#fff);border-width:6px;border-color:var(--background-color-progressive,#36c)}.cdx-radio__input:enabled:checked:hover+.cdx-radio__icon{border-color:var(--background-color-progressive--hover,#3056a9)}.cdx-radio__input:enabled:checked:focus+.cdx-radio__icon:before{border-color:var(--border-color-inverted,#fff)}.cdx-radio__input:enabled:checked:active+.cdx-radio__icon{background-color:var(--background-color-base-fixed,#fff);border-color:var(--background-color-progressive--active,#233566)}.cdx-radio__input:enabled:checked:active+.cdx-radio__icon:before{border-color:var(--background-color-progressive--active,#233566)}.cdx-radio--status-error .cdx-radio__input:enabled~.cdx-radio__label{color:var(--color-error,#bf3c2c)}.cdx-radio--status-error .cdx-radio__input:enabled+.cdx-radio__icon{background-color:var(--background-color-error-subtle,#ffe9e5);border-color:var(--border-color-error,#f54739)}.cdx-radio--status-error .cdx-radio__input:enabled:hover+.cdx-radio__icon{background-color:var(--background-color-error-subtle--hover,#ffdad3);border-color:var(--border-color-error--hover,#9f3526)}.cdx-radio--status-error .cdx-radio__input:enabled:focus+.cdx-radio__icon{border-color:var(--border-color-progressive--focus,#36c)}.cdx-radio--status-error .cdx-radio__input:enabled:active+.cdx-radio__icon{background-color:var(--background-color-error-subtle--active,#ffc8bd);border-color:var(--border-color-error--active,#612419);box-shadow:none}.cdx-radio--status-error .cdx-radio__input:enabled:checked+.cdx-radio__icon{background-color:var(--background-color-base-fixed,#fff);border-color:var(--background-color-error,#f54739)}.cdx-radio--status-error .cdx-radio__input:enabled:checked:hover+.cdx-radio__icon{border-color:var(--background-color-error--hover,#d74032)}.cdx-radio--status-error .cdx-radio__input:enabled:checked:focus:not(.cdx-radio--status-error .cdx-radio__input:enabled:checked:active)+.cdx-radio__icon{border-width:1px}.cdx-radio--status-error .cdx-radio__input:enabled:checked:focus:not(.cdx-radio--status-error .cdx-radio__input:enabled:checked:active)+.cdx-radio__icon:before{top:2px;right:2px;bottom:2px;left:2px;border-width:4px;border-color:var(--border-color-error,#f54739)}.cdx-radio--status-error .cdx-radio__input:enabled:checked:active+.cdx-radio__icon{border-color:var(--background-color-error--active,#bf3c2c);box-shadow:none}.cdx-radio--status-error .cdx-radio__input:enabled:checked:active+.cdx-radio__icon:before{border-color:var(--border-color-transparent,transparent)}.cdx-radio__input:disabled~.cdx-radio__label,.cdx-radio__input:disabled~.cdx-radio__label.cdx-label{color:var(--color-disabled,#a2a9b1)}.cdx-radio__input:disabled+.cdx-radio__icon{background-color:var(--background-color-disabled-subtle,#eaecf0);border-color:var(--border-color-disabled,#c8ccd1)}.cdx-radio__input:disabled:checked+.cdx-radio__icon{background-color:var(--color-disabled-emphasized,#a2a9b1);border-width:6px;border-color:var(--background-color-disabled,#dadde3)}"]}];});
mw.loader.impl(function(){return["ext.uls.languagesettings@yhwz9",function($,jQuery,require,module){(function(){'use strict';const closeRow='<div class="row">'+'<div class="uls-language-settings-close-block eight columns offset-by-four"><span id="languagesettings-close" class="uls-icon-close"></span></div>'+'</div>';const settingsMenu='<div class="four columns languagesettings-menu">'+'<h1 data-i18n="ext-uls-language-settings-title"></h1>'+'<div class="settings-menu-items">'+'</div>'+'</div>';const settingsPanel='<div id="languagesettings-settings-panel" class="eight columns">'+'</div>';const buttonsRow='<div class="row collapse language-settings-buttons">'+'<div class="twelve columns">'+'<button class="cdx-button uls-settings-cancel" data-i18n="ext-uls-language-settings-cancel"></button>'+'<button class="cdx-button cdx-button--weight-primary cdx-button--action-progressive active uls-settings-apply" data-i18n="ext-uls-language-settings-apply" disabled></button>'+'</div>'+'</div>'+'</div>';const panelsRow='<div class="row" id="languagesettings-panels">'+settingsMenu+settingsPanel+
'</div>';const windowTemplate='<div style="display: block;" id="language-settings-dialog" class="language-settings-dialog grid uls-menu uls-wide notheme no-font-mode-scale skin-invert">'+closeRow+panelsRow+buttonsRow+'</div>';function LanguageSettings(element,options){this.$element=$(element);this.options=Object.assign({},$.fn.languagesettings.defaults,options);this.$window=$(this.options.template);this.shown=false;this.initialized=false;this.left=this.options.left;this.top=this.options.top;this.modules={};this.$settingsPanel=this.$window.find('#languagesettings-settings-panel');this.$applyButton=this.$window.find('.uls-settings-apply');this.init();this.listen();if(options.autoOpen){this.show();}}LanguageSettings.prototype={constructor:LanguageSettings,init:function(){$(document.body).append(this.$window);this.hide();},listen:function(){this.$element.on('click',this.click.bind(this));this.$window.find('#languagesettings-close, button.uls-settings-cancel').on('click',mw.hook('mw.uls.settings.cancel').fire.bind(this));
this.$applyButton.on('click',mw.hook('mw.uls.settings.apply').fire.bind(this));$(document.documentElement).on('click',this.hide.bind(this));this.$window.on('click',(event)=>{event.stopPropagation();});this.$window.on('keyup',(event)=>{if(event.which===27){event.stopPropagation();mw.hook('mw.uls.settings.cancel').fire();}});},render:function(){let defaultModule=this.options.defaultModule;const modules=Object.keys($.fn.languagesettings.modules).sort();modules.forEach((moduleName)=>{if(!defaultModule){defaultModule=moduleName;}this.initModule(moduleName,defaultModule===moduleName);});},initModule:function(moduleName,active){const module=new $.fn.languagesettings.modules[moduleName](this),$settingsMenuItems=this.$window.find('.settings-menu-items');const $settingsTitle=$('<div>').addClass('settings-title').attr('data-i18n',module.nameI18n);const $settingsText=$('<span>').addClass('settings-text').attr('data-i18n',module.descriptionI18n);const $settingsLink=$('<button>').addClass(moduleName+'-settings-block menu-section')
.prop('id',moduleName+'-panel-trigger').append($settingsTitle,$settingsText);if(active){$settingsLink.addClass('active');}$settingsMenuItems.append($settingsLink);$settingsLink.on('click',()=>{module.render();if(this.$window.is(':visible')){this.$window.scrollIntoView();}$settingsMenuItems.find('.menu-section').removeClass('active');$settingsLink.addClass('active');});this.modules[moduleName]=module;mw.hook('mw.uls.settings.cancel').add(module.cancel.bind(module));mw.hook('mw.uls.settings.apply').add(module.apply.bind(module));},position:function(){if(this.options.onPosition){return this.options.onPosition.call(this);}this.top=this.top||this.$element.offset().top+this.$element.outerHeight();this.left=this.left||'25%';return{top:this.top,left:this.left};},i18n:function(){this.$window.i18n();},show:function(){this.$window.css(this.position());if(!this.initialized){this.render();this.initialized=true;}$(document.documentElement).trigger('click');this.i18n();this.$window.find('.settings-menu-items > .active').trigger('click');
this.shown=true;this.$window.show();this.visible();this.$window.scrollIntoView();this.$window.find('.menu-section.active').trigger('focus');},visible:function(){if(this.options.onVisible){this.options.onVisible.call(this);}},hide:function(){this.shown=false;this.$window.hide();},setBusy:function(busy){if(busy){this.$window.addClass('waiting');this.$applyButton.text($.i18n('ext-uls-language-settings-applying')).prop('disabled',true);}else{this.$window.removeClass('waiting');this.$applyButton.text($.i18n('ext-uls-language-settings-apply'));}},close:function(){if(!this.shown){return;}this.hide();if(this.options.onClose){this.options.onClose();}},click:function(e){e.stopPropagation();e.preventDefault();if(this.shown){this.hide();}else{this.show();}},enableApplyButton:function(){this.$applyButton.prop('disabled',false);},disableApplyButton:function(){this.$applyButton.prop('disabled',true);}};$.fn.languagesettings=function(option){return this.each(function(){const $this=$(this),options=typeof option==='object'&&option;
let data=$this.data('languagesettings');if(!data){$this.data('languagesettings',(data=new LanguageSettings(this,options)));}if(typeof option==='string'){data[option]();}});};$.fn.languagesettings.modules={};$.fn.languagesettings.defaults={template:windowTemplate,defaultModule:false,onClose:null,top:null,left:null,onVisible:null,onPosition:null,autoOpen:false};$.fn.languagesettings.Constructor=LanguageSettings;}());
},{"css":[".uls-menu h3{border-bottom:0;font-size:14pt;line-height:1.5em;margin-bottom:10px;margin-top:0;padding-left:0}.languagesettings-menu{ }.grid .languagesettings-menu{padding-left:0;padding-right:0}.languagesettings-menu h1{color:var(--color-emphasized,#101418);font-size:16pt;line-height:20pt;margin-top:0;font-weight:normal;border:0;padding:8px 0 3px 15px}.languagesettings-menu .menu-section{ text-align:left;width:100%; outline:0;color:var(--color-base,#202122);padding:5px 0 5px 42px;border:1px solid var(--border-color-transparent,transparent);background:left 15px top 6px transparent no-repeat;background-size:20px auto;cursor:pointer; }.languagesettings-menu .menu-section::-moz-focus-inner{border:0}.languagesettings-menu .menu-section.active{background-color:#fff;color:var(--color-emphasized,#101418);padding-left:40px;background-position:left 13px top 6px;border-left-width:3px;border-left-color:var(--border-color-progressive,#6485d1)}.languagesettings-menu .menu-section:hover{background-color:#fff}.languagesettings-menu .menu-section:focus{border-color:var(--background-color-progressive--focus,#36c)}.languagesettings-menu .menu-section .settings-title{font-size:13pt}.languagesettings-menu .menu-section .settings-text{color:var(--color-subtle,#54595d);font-size:9pt}.languagesettings-menu .menu-section:hover .settings-text{color:var(--color-base,#202122)}.languagesettings-menu .menu-section.display-settings-block{background-image:url(/w/extensions/UniversalLanguageSelector/resources/images/display.svg?9fd85)}.languagesettings-menu .menu-section.input-settings-block{background-image:url(/w/extensions/UniversalLanguageSelector/resources/images/input.svg?60384)}#languagesettings-settings-panel{background-color:var(--background-color-base,#fff);color:var(--color-base,#202122);padding:0 15px}#languagesettings-settings-panel h3{color:var(--color-base,#202122);padding-top:15px;margin-top:1pt;line-height:20pt;font-size:16pt}#languagesettings-settings-panel h4{color:var(--color-base,#202122);font-size:12pt}.language-settings-dialog{background:#f8f9fa; font-size:medium}.uls-language-settings-close-block{background:var(--background-color-base,#fff)}.language-settings-buttons{border-top:1px solid #eaecf0;margin-top:25px;padding:15px;width:auto;text-align:right}.language-settings-buttons button{margin-left:15px}.uls-ui-languages p,.checkbox{color:var(--color-subtle,#54595d);font-size:10pt} #languagesettings-panels .uls-cdx-button-pressed{background-color:var(--background-color-progressive--active,#233566);color:var(--color-inverted,#fff);border-color:var(--border-color-progressive--active,#233566)}.checkbox input[type='checkbox']{margin-left:0}.checkbox strong{color:var(--color-base,#202122)}label.checkbox input[type='checkbox']{float:left}.waiting{cursor:progress}.uls-icon-close{background:transparent url(/w/extensions/UniversalLanguageSelector/resources/images/close.svg?e27a0) no-repeat center center;background-size:16px 16px;float:right;padding:16px;cursor:pointer}"]}];});
