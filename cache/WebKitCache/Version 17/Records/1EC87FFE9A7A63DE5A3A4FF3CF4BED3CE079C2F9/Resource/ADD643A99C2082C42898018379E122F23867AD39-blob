"use strict";(window.webpackChunk=window.webpackChunk||[]).push([[58551],{309999:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n={canvas:"d219bf82"}},391081:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var n=r(629133),o=r.n(n),i=r(425778),a=r(29368);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r||e):o.value}},s(e,t,r||e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(this,r)}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,r,n=d(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.apply(this,arguments)}return t=i,r=[{key:"create",value:function(e){var t,r=this,n=this,l=arguments;return(t=function(){var t,u,p;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(d){switch(d.label){case 0:return(t=s(f(i.prototype),"create",r)).call.apply(t,[n].concat(function(e){if(Array.isArray(e))return c(e)}(y=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(y)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),[4,n.preloadBuilderModule()];case 1:return u=d.sent(),p=o().extend(e,{bots_collection:n.view.getBotCollection(a.default.BOT_TYPE_NPS),fetch:!1,type_functionality:a.default.BOT_TYPE_NPS}),[2,n.view._addComponent(u,p)]}var y}))},function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))})()}}],r&&l(t.prototype,r),i}(i.default)},425778:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var n=r(629133),o=r.n(n),i=r(460159),a=r.n(i),c=r(500034),u=r(867745),l=r(547586),s=r(29368);function f(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){f(i,n,o,a,c,"next",e)}function c(e){f(i,n,o,a,c,"throw",e)}a(void 0)}))}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var h=function(){function e(t){var r=t.view,n=t.bot_type;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=r,this.bot_type=n}var t,n;return t=e,n=[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type=t.bot_type,o().extend(e,{salesbot_entity:"",getOmittedPossibleActionsIds:(0,u.default)(this.bot_type)})}},{key:"devCheckInterface",value:function(){var e=this;return p((function(){var t,n;return y(this,(function(o){switch(o.label){case 0:return[3,4];case 1:return t=o.sent(),[4,r.e(85203).then(r.bind(r,285203)).default];case 2:for(var i in n=o.sent(),t)if(!e.view[i])throw new l.FactoryUsageError("View must include source_mixin: ".concat(i," is not defined"));for(var a in n)if(!e.view[a])throw new l.FactoryUsageError("View must implement the interface botsDataBaseInterface: ".concat(a," is not defined"));return e.type!==s.default.BOT_TYPE_MARKETING?[3,4]:[4,r.e(38283).then(r.bind(r,538283)).default];case 3:for(var c in o.sent())if(!e.view[c])throw new l.FactoryUsageError("View must implement the interface botsFactoryMarketingInterface: ".concat(c," is not defined"));o.label=4;case 4:return[2]}}))}))()}},{key:"preloadBuilderModule",value:function(){return p((function(){return y(this,(function(e){switch(e.label){case 0:return(0,c.isFeatureAvailable)("redesign_bot_template")?[4,Promise.all([a()._preload(["langs/metaHubTemplate","langs/botTemplateLibrary"])()])]:[3,2];case 1:e.sent(),e.label=2;case 2:return[4,Promise.all([r.e(76012),r.e(20983),r.e(56740),r.e(48198),r.e(95882),r.e(18194),r.e(70013),r.e(38994),r.e(15028),r.e(30526),r.e(27805),r.e(26632),r.e(90580),r.e(11958),r.e(12897),r.e(39042),r.e(79954),r.e(14095),r.e(20064),r.e(15656),r.e(7390),r.e(10642),r.e(68924),r.e(56973),r.e(52758),r.e(41136),r.e(39970),r.e(28419),r.e(21896),r.e(34040),r.e(79328),r.e(42693),r.e(82984),r.e(58432),r.e(12651),r.e(60882),r.e(44364),r.e(69329),r.e(40433),r.e(36442),r.e(46826),r.e(37951),r.e(11813),r.e(54692),r.e(55450),r.e(89162),r.e(35296)]).then(r.bind(r,695356))];case 3:return[2,e.sent().default]}}))}))()}}],n&&d(t.prototype,n),e}()},400519:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var n=r(629133),o=r.n(n),i=r(425778),a=r(29368);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r||e):o.value}},s(e,t,r||e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(this,r)}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,r,n=d(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.apply(this,arguments)}return t=i,r=[{key:"create",value:function(e){var t,r=this,n=this,l=arguments;return(t=function(){var t,u,p;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(d){switch(d.label){case 0:return(t=s(f(i.prototype),"create",r)).call.apply(t,[n].concat(function(e){if(Array.isArray(e))return c(e)}(y=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(y)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),[4,n.preloadBuilderModule()];case 1:return u=d.sent(),p=o().extend(e,{bots_collection:n.view.getBotCollection(a.default.BOT_TYPE_MARKETING),widgets_collection:n.view.getWidgetsCollection(),marketing_bot_params:{amocrm_trigger:n.view.getHandler("amocrm"),system_triggers:n._getExternalTriggers(),triggers_auth_links:n.view.getTriggersAuthLinks(),triggers_profiles:n.view.getProfiles(),triggers_endpoints:n.view.getEndpoints(),handlers_settings_links:n.view.getHandlersSettingsLinks(),getTriggersToken:n.view.getToken,execution_conditions:n.view.getExecutionConditions(),execution_delay_settings:n.view.getExecutionDelaySettings(),segment_item_model:n.view.getSegmentItemModel(),segments_collection:n.view.getSegmentsCollection()},type_functionality:a.default.BOT_TYPE_MARKETING}),[2,n.view._addComponent(u,p)]}var y}))},function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))})()}},{key:"_getExternalTriggers",value:function(){var e=this.view.getResponse();return o().chain(e.data.handlers).filter((function(t){return(!e.is_com_account||"vk"!==t.code)&&"amocrm"!==t.code&&"widget"!==t.code})).map((function(t){var r=e.lang.page.handlers[t.code].connect_description;return o().extend({},t,{langs:{descr:r},descr:r,custom:!0,rating:5.5})})).value()}}],r&&l(t.prototype,r),i}(i.default)},184878:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var n=r(629133),o=r.n(n),i=r(425778),a=r(29368);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r||e):o.value}},s(e,t,r||e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(this,r)}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,r,n=d(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.apply(this,arguments)}return t=i,r=[{key:"create",value:function(e){var t,r=this,n=this,l=arguments;return(t=function(){var t,u,p;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(d){switch(d.label){case 0:return(t=s(f(i.prototype),"create",r)).call.apply(t,[n].concat(function(e){if(Array.isArray(e))return c(e)}(y=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(y)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),[4,n.preloadBuilderModule()];case 1:return u=d.sent(),p=o().extend(e,{bots_collection:n.view.getBotCollection(a.default.BOT_TYPE_GREETING),fetch:!1,type_functionality:a.default.BOT_TYPE_GREETING,bot_params_available:!0}),[2,n.view._addComponent(u,p)]}var y}))},function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))})()}}],r&&l(t.prototype,r),i}(i.default)},307388:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var n=r(629133),o=r.n(n),i=r(425778),a=r(29368);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r||e):o.value}},s(e,t,r||e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(this,r)}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(i,e);var t,r,n=d(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.apply(this,arguments)}return t=i,r=[{key:"create",value:function(e){var t,r=this,n=this,l=arguments;return(t=function(){var t,u,p;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(d){switch(d.label){case 0:return(t=s(f(i.prototype),"create",r)).call.apply(t,[n].concat(function(e){if(Array.isArray(e))return c(e)}(y=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(y)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),[4,n.preloadBuilderModule()];case 1:return u=d.sent(),p=o().extend(e,{bots_collection:n.view.getBotCollection(a.default.BOT_TYPE_REGULAR),widgets_collection:n.view.getWidgetsCollection(),type_functionality:a.default.BOT_TYPE_REGULAR}),[2,n.view._addComponent(u,p)]}var y}))},function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))})()}}],r&&l(t.prototype,r),i}(i.default)},547586:(e,t,r)=>{function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,r){return o=l()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&c(o,r.prototype),o},o.apply(null,arguments)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return o(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)},u(e)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e){var t=l();return function(){var r,n=i(e);if(t){var o=i(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(this,r)}}r.r(t),r.d(t,{FactoryTimingError:()=>p,FactoryUsageError:()=>f});var f=function(e){a(r,e);var t=s(r);function r(){return n(this,r),t.apply(this,arguments)}return r}(u(Error)),p=function(e){a(r,e);var t=s(r);function r(){return n(this,r),t.apply(this,arguments)}return r}(u(Error))},867745:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});var n=r(629133),o=r.n(n),i=r(29368);function a(e){return function(t){switch(t=o().isUndefined(t)?e:t){case i.default.BOT_TYPE_REGULAR:return["generate_store_card"];case i.default.BOT_TYPE_GREETING:return["generate_store_card","manage_segments","create_lead","create_task","close_tasks","send_hook","send_email","create_and_fill_form","create_customer","create_invoice"];case i.default.BOT_TYPE_MARKETING:return["change_status","set_budget","set_next_price"];case i.default.BOT_TYPE_NPS:return["generate_store_card","create_lead","create_task","close_tasks","send_hook","send_email","create_invoice","change_conversation_status"]}}}},158551:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var n=r(629133),o=r.n(n),i=r(304483),a=r(81203),c=r(307388),u=r(400519),l=r(391081),s=r(184878),f=r(29368),p=r(547586);function d(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){d(i,n,o,a,c,"next",e)}function c(e){d(i,n,o,a,c,"throw",e)}a(void 0)}))}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}var b=!1,m=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new p.FactoryUsageError("View - required parameter.");this.view=t,this.creators={}}var t,r;return t=e,r=[{key:"_getLazyCreator",value:function(e){var t=this;return y((function(){var r;return v(this,(function(n){switch(n.label){case 0:return r={view:t.view,bot_type:e},e!==f.default.BOT_TYPE_MARKETING?[3,2]:o().isUndefined(t.fetchPromise)?[4,t.view.fetchMarketingData()]:[3,2];case 1:t.fetchPromise=n.sent(),n.label=2;case 2:if(!o().isUndefined(t.creators[e]))return[3,4];switch(e){case f.default.BOT_TYPE_REGULAR:t.creators[e]=new c.default(r);break;case f.default.BOT_TYPE_MARKETING:t.creators[e]=new u.default(r);break;case f.default.BOT_TYPE_NPS:t.creators[e]=new l.default(r);break;case f.default.BOT_TYPE_GREETING:t.creators[e]=new s.default(r)}return[4,t.creators[e].devCheckInterface()];case 3:n.sent(),n.label=4;case 4:return[2,t.creators[e]||null]}}))}))()}},{key:"create",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this;return y((function(){var c,u,l,s;return v(this,(function(f){switch(f.label){case 0:return(void 0===(c=t.shouldCollectMetrics)||c)&&!b&&(a.MetricsCollector.registerPerformanceMetrics(),a.MetricsCollector.registerFpsMetric()),r.with_loader&&(u=new i.default),[4,n._getLazyCreator(e)];case 1:if(l=f.sent(),o().isUndefined(l)||o().isNull(l))throw new Error("Unsupported bot type.");return[4,l.create(t)];case 2:return s=f.sent(),b=!0,u&&u.destroy(),[2,s]}}))}))()}}],r&&h(t.prototype,r),e}()},541712:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var n=r(629133),o=r.n(n),i=r(827378),a=r(539581);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}var l=performance.now(),s=0;const f=function(e){var t,r,n=e.onFpsTickChange,f=void 0===n?o().noop:n,p=e.canvasWidth,d=e.canvasHeight,y=(t=(0,i.useState)(0),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(t,r)||u(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=y[0],v=y[1],b=(0,i.useRef)(null),m=(0,i.useRef)(null);return(0,i.useEffect)((function(){(0,a.getMaxFpsByMonitorRefreshRate)().then((function(e){b.current=new Array(p).fill(e),v(e)}))}),[]),{canvasRef:m,updateCounter:function(){if(m.current&&b.current&&h){var e=m.current.getContext("2d");if(e){var t=function(){s++;var e=(performance.now()-l)/1e3,t=Math.floor(s/e);return e>1&&(l=performance.now(),s=0),Math.min(t,h)}();f(t);var r=p-1;b.current=[t].concat(function(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b.current.slice(0,r))),e.font="bold 24px Arial",e.clearRect(0,0,p,d);for(var n=r;n>=0;n--)e.fillStyle="#000000",e.fillRect(n,0,1,10+h-b.current[n]);e.fillText("".concat(t," fps"),16,64),e.fillStyle="#ffffff";for(var o=r;o>=0;o--)e.fillRect(o,10+h-b.current[o],1,2);e.fillText("".concat(t," fps"),15,63)}}}}}},197192:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r(827378),o=r(292554),i=r.n(o),a=r(541712),c=r(309999),u=r(827378),l=i().bind(c.default);const s=function(e){var t=e.onFpsTickChange,r=e.className,o=void 0===r?"":r,i=(0,a.default)({onFpsTickChange:t,canvasWidth:190,canvasHeight:70}),c=i.canvasRef,s=i.updateCounter;return(0,n.useEffect)((function(){var e=0,t=function(){e=requestAnimationFrame((function(){s(),t()}))};return t(),function(){cancelAnimationFrame(e)}}),[s,c.current]),u.createElement("canvas",{className:"".concat(l("canvas")," ").concat(o),ref:c,width:190,height:70})}},659014:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var n=r(629133),o=r.n(n);const i=function(e){var t=e.array,r=void 0===t?[]:t,n=e.fixed,i=void 0===n?2:n,a=o().reduce(r,(function(e,t){return e+t}),0);return Number((a/r.length).toFixed(i))}},355717:(e,t,r)=>{r.r(t),r.d(t,{getMaxFpsByMonitorRefreshRate:()=>s});var n=r(629133),o=r.n(n),i=r(717068);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u,l={60:[0,65],75:[65,80],90:[80,95],120:[95,125],144:[125,150],240:[150,1/0]},s=function(e){var t=(e||{}).shouldUseCachedValue,r=void 0===t||t,n=new i.SplitPromise,a=n.promise,s=n.resolve;r&&u&&s(u);var f=performance.now(),p=0,d=0,y=!1,h=function(){p++;var e=performance.now()-f;if(e>1e3){for(var t=Math.round(p/e*1e3),r=0,n=o().keys(l),i=0;i<n.length;i++){var a=c(l[n[i]],2),v=a[0],b=a[1];if(t>v&&t<b){r=Number(n[i]);break}}y=!0,cancelAnimationFrame(d),s(u=r)}y||(d=requestAnimationFrame(h))};return r&&u||h(),a}},539581:(e,t,r)=>{r.r(t),r.d(t,{getMaxFpsByMonitorRefreshRate:()=>n.getMaxFpsByMonitorRefreshRate});var n=r(355717)},573898:(e,t,r)=>{r.r(t),r.d(t,{MetricsCollector:()=>_});var n=r(629133),o=r.n(n),i=r(827378),a=r.n(i),c=r(937634),u=r(197192),l=r(639615),s=r(335745),f=r(539581),p=r(659014),d=r(314311);function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v="salesbot_open_mark",b="salesbot-designer",m=function(){performance.clearMarks(v),performance.mark(v)},_=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"options",void 0),h(this,"importedBot",void 0),h(this,"originalBotId",void 0),h(this,"_fps",void 0),h(this,"_startTimerTime",void 0),h(this,"_botBlocksAmount",void 0),h(this,"_botRenderedBlocksAmount",void 0),h(this,"_isMetricCollected",void 0),h(this,"_maxMonitorRefreshRate",void 0),h(this,"_viewportBlocksAmount",void 0),h(this,"_fpsTimer",void 0),h(this,"_shouldProccessFpsCollectionExecutesSynchronious",void 0),h(this,"_stopFpsCollectTimeout",void 0),h(this,"_shouldSetFps",void 0),h(this,"_lastCollectedFpsTimestamp",void 0),this.options=t,(0,f.getMaxFpsByMonitorRefreshRate)().then((function(e){r._maxMonitorRefreshRate=e})),this.originalBotId=t.originalBotId,this.importedBot=t.importedBot,this._fps=[],this._viewportBlocksAmount=[],this._botRenderedBlocksAmount=[],this._fpsTimer=null,this._stopFpsCollectTimeout=null,this._startTimerTime=0,this._botBlocksAmount=0,this._maxMonitorRefreshRate=0,this._lastCollectedFpsTimestamp=0,this._shouldSetFps=!1,this._isMetricCollected=!1,this._shouldProccessFpsCollectionExecutesSynchronious=!1,e._shouldCollectMetrics=!0}var t,r,n;return t=e,n=[{key:"registerPerformanceMetrics",value:function(){(0,s.setupPerformanceMetrics)({isPageActivityDependant:!1,type:l.TrackedMetricType.SALESBOT,metrics:[d.TrackedMetric.MODAL_FCP,d.TrackedMetric.FIRST_BLOCKS_TTI]}),m()}},{key:"registerFpsMetric",value:function(){var e=this;(0,f.getMaxFpsByMonitorRefreshRate)(),(0,s.setupPerformanceMetrics)({isPageActivityDependant:!1,type:l.TrackedMetricType.SALESBOT_FPS,metrics:[d.TrackedMetric.FPS],onClear:function(){e.registerFpsMetric(),e._shouldCollectMetrics=!0}}),m()}}],(r=[{key:"logMetric",value:function(e){var t=e.name,r=void 0===t?"":t,n=e.params,o=void 0===n?{}:n,i=this.originalBotId?parseInt(this.originalBotId):0;if(i||this.importedBot){if(!performance.getEntriesByType("mark").find((function(e){return e.name===v})))return;switch(r){case d.TrackedMetric.FPS:return(0,s.logPerformanceMetric)({type:l.TrackedMetricType.SALESBOT_FPS,name:r,resourceName:b,params:o});case d.TrackedMetric.MODAL_FCP:case d.TrackedMetric.FIRST_BLOCKS_TTI:var a=performance.measure(r,v).duration;return(0,s.logPerformanceMetric)({type:l.TrackedMetricType.SALESBOT,name:r,value:a,resourceName:b,params:{id:i}})}}}},{key:"collectFps",value:function(t){var r=this;e._shouldCollectMetrics&&(this._debouncedFpsCollect(t),this._stopFpsCollectTimeout&&clearTimeout(this._stopFpsCollectTimeout),this._stopFpsCollectTimeout=setTimeout((function(){r._stopFpsCollect()}),300))}},{key:"mountFpsCounter",value:function(e){var t=e.$containerEl,r=document.createElement("div");r.className="salesbot-designer__fps-counter js-sb-designer-fps-counter-container ".concat(localStorage.getItem("is_fps_counter_visible")?"":"hidden"),t.append(r);var n=a().createElement(u.default,{onFpsTickChange:o().bind(this.handleFpsTickChange,this)}),i=(0,c.createRoot)(r);return i.render(n),function(){i.unmount()}}},{key:"handleFpsTickChange",value:function(e){this._fps||(this._fps=[]),this._shouldSetFps&&this._fps.push({timestamp:Date.now(),fps:e})}},{key:"_getFilteredFpsByTimestamp",value:function(e){var t=o().filter(this._fps,(function(t){return t.timestamp<e}));return o().chain(t).map(d.TrackedMetric.FPS).value()}},{key:"_collectFps",value:function(t){var r=t.botBlocksAmount,n=void 0===r?0:r,o=t.botRenderedBlocksAmount,i=void 0===o?0:o,a=t.viewportBlocksAmount,c=void 0===a?0:a,u=t.isMetricCollected;if(void 0!==u&&u){var l={blocksAmount:this._botBlocksAmount,avgRenderedBlocksAmount:(0,p.default)({array:this._botRenderedBlocksAmount}),avgViewportBlocksAmount:(0,p.default)({array:this._viewportBlocksAmount}),avgFps:(0,p.default)({array:this._getFilteredFpsByTimestamp(this._lastCollectedFpsTimestamp)}),maxFps:this._maxMonitorRefreshRate};this.logMetric({name:d.TrackedMetric.FPS,params:l}),this._fps=[],this._viewportBlocksAmount=[],this._botRenderedBlocksAmount=[],e._shouldCollectMetrics=!1}this._lastCollectedFpsTimestamp=Date.now(),this._setBotBlocksAmount(n),this._setBotRenderedBlocksAmount(i),this._setViewportBlocksAmount(c)}},{key:"_setBotBlocksAmount",value:function(e){this._botBlocksAmount=e}},{key:"_setBotRenderedBlocksAmount",value:function(e){this._botRenderedBlocksAmount||(this._botRenderedBlocksAmount=[]),this._botRenderedBlocksAmount.push(e)}},{key:"_setViewportBlocksAmount",value:function(e){this._viewportBlocksAmount||(this._viewportBlocksAmount=[]),this._viewportBlocksAmount.push(e)}},{key:"_debouncedFpsCollect",value:function(e){var t=this;this._fpsTimer&&this._shouldProccessFpsCollectionExecutesSynchronious&&this._proccessFpsCollection(e),this._fpsTimer||this._shouldProccessFpsCollectionExecutesSynchronious||(this._fpsTimer=setTimeout((function(){t._proccessFpsCollection(e),t._shouldProccessFpsCollectionExecutesSynchronious=!0}),500))}},{key:"_stopFpsCollect",value:function(){this._fpsTimer&&clearTimeout(this._fpsTimer),this._fpsTimer=null,this._shouldSetFps=!1,this._shouldProccessFpsCollectionExecutesSynchronious=!1}},{key:"_proccessFpsCollection",value:function(e){var t=e.botBlocksAmount,r=e.botRenderedBlocksAmount,n=e.viewportBlocksAmount;this._shouldSetFps=!0,this._startTimerTime&&!this._isMetricCollected||(this._startTimerTime=performance.now()),this._isMetricCollected=performance.now()-this._startTimerTime>2500,this._collectFps({viewportBlocksAmount:n,botBlocksAmount:t,botRenderedBlocksAmount:r,isMetricCollected:this._isMetricCollected})}}])&&y(t.prototype,r),n&&y(t,n),e}();h(_,"_shouldCollectMetrics",void 0)},314311:(e,t,r)=>{var n;r.r(t),r.d(t,{TrackedMetric:()=>n}),function(e){e.FPS="fps",e.MODAL_FCP="modalFcp",e.FIRST_BLOCKS_TTI="firstBlocksTti"}(n||(n={}))},81203:(e,t,r)=>{r.r(t),r.d(t,{MetricsCollector:()=>n.MetricsCollector});var n=r(573898)}}]);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"build_2025_11_28_17_08_33"},function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7474e503-d0e0-4e4c-a9f1-a58479c9ab5a",e._sentryDebugIdIdentifier="sentry-dbid-7474e503-d0e0-4e4c-a9f1-a58479c9ab5a")}catch(e){}}();
//# sourceMappingURL=58551.69b15983b20cd42c20fa.js.map