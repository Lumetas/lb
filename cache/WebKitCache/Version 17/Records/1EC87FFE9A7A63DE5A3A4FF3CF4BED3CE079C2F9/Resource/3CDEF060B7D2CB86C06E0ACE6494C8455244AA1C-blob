"use strict";(window.webpackChunk=window.webpackChunk||[]).push([[4483],{304483:(e,o,t)=>{t.r(o),t.d(o,{default:()=>y});var n=t(661533),a=t.n(n),i=t(629133),s=t.n(i),r=t(460159),l=t.n(r),d=t(643095),c=t(313981),_=t(564638),m=t(500034),h=s().template('<div <% if (scrollerId) { %>id="<%= scrollerId %>"<% } %> class="modal-scroller custom-scroll"><div class="modal-body modal-body-loading <% if (float_animation) { %>modal-body-float-animation<% } %>"></div></div>'),u=s().template('<div class="default-overlay modal-overlay <% if (!default_overlay) { %> modal-overlay--filled <% } %>"><span class="modal-overlay__spinner spinner-icon spinner-icon-abs-center"></span></div>'),f=(0,m.isFeatureAvailable)(m.Features.SYSTEM_NAVIGATION_V2);t(247267);const y=c.default.extend({className:"modal",_classes:function(){return{accept_button:"js-modal-accept",body:"modal-body",body_inner:"modal-body__inner",close_button:"modal-body__close",modal_error:"js-modal-error",overlay:"modal-overlay",scroller:"modal-scroller",try_again_button:"js-modal-try-again"}},_selectors:function(){return{cancel_button:".modal-body__actions .button-cancel",overlay_spinner:".modal-overlay .modal-overlay__spinner"}},events:function(){var e=s().result(c.default.prototype,"events",{});return e["click ".concat(this._selector("try_again_button"))]="onModalTryAgainClick",e["click ".concat(this._selector("accept_button"))]="onModalAcceptClick",e["click ".concat(this._selector("close_button"))]="onModalCloseClick",e["click ".concat(this._selector("cancel_button"))]="onModalCancelClick",e["click ".concat(this._selector("scroller"))]="onModalScrollerClick",e["mousedown ".concat(this._selector("scroller"))]="onModalScrollerMouseDown",e["modal:loaded ".concat(this._selector("body"))]="onModalLoaded",e["modal:centrify ".concat(this._selector("body"))]="onModalCentrify",e["modal:need-page-reload ".concat(this._selector("body"))]="onPageReloadAfterModalClose",e},document_events:function(){return s().result(c.default.prototype,"document_events",{"page:changed":"onPageChanged",keydown:"onModalKeydown"})},_setOptions:function(e){return this.options=a().extend({class_name:"modal-list",can_centrify:!1,init:s().noop,destroy:s().noop,tryAgain:s().noop,container:document.body,disable_overlay_click:!1,disable_escape_keydown:!1,disable_enter_keydown:!1,disable_overlay:!1,init_animation:!1,default_overlay:!1,preload_templates:[],focus_element:".js-modal-accept",without_offsets_on_centify:!1,onBeforeInit:null,onModalPosition:null,scrollerId:null},e||{}),this.disable_overlay_click=this.options.disable_overlay_click,this._orig_disable_overlay_click=this.disable_overlay_click,this},initialize:function(e){var o=[];c.default.prototype.initialize.call(this),this._setOptions(e).render(),APP.is_touch_device&&this.options.can_centrify&&s().delay(s().bind(this.onModalCentrify,this),500),this.options.disable_resize||this._$window.on("resize".concat(this.ns),s().throttle(s().bind(this.onModalCentrify,this),_.WINDOW_RESIZE_THROTTLE_DELAY)),this.delegateEvents();var t=s().bind(this.options.init,this,this._elem("body"));return this.options.preload_templates.length&&o.push(l()._preload(this.options.preload_templates)()),this.options.onBeforeInit&&o.push(this.options.onBeforeInit()),o.length?Promise.all(o).then((function(){t()})):t(),this},destroy:function(){if(this.$overlay.hasClass("permanent-overlay")||!1===this.options.destroy()||this._destroyed)return!1;this._destroyed=!0,this.$overlay.trigger("overlay:hide",{callback:s().bind(c.default.prototype.destroy,this,!0)}),this._elem("body").remove(),this.options.need_page_reload&&this._$document.trigger("page:reload")},setNS:function(){this.ns=".modal:core.".concat(s().uniqueId("modal_"))},render:function(){return this.$el.addClass(this.options.class_name),f&&this.$el.addClass("modal-list--over-nav"),this.$el.html(h({float_animation:this.options.init_animation,scrollerId:this.options.scrollerId||""})),this.$modal=this.$el,this.$overlay=a()(u({default_overlay:this.options.default_overlay})),this.$el.append(this.$overlay),a()(this.options.container).append(this.$el),a()(".modal").length>1&&this.$overlay.css(Modernizr.prefixed("transition"),"none"),this.options.disable_overlay||this.$overlay.trigger("overlay:show"),this.$el.find(this.options.focus_element).focus(),this.$el.prepareTransition(),this},onModalScrollerMouseDown:function(e){e.target===this._elem("scroller").get(0)&&(this._scroller_mousedown=!0,setTimeout((function(){self._scroller_mousedown=!1}),100))},onModalAcceptClick:function(){this._elem("overlay_spinner").show()},onModalTryAgainClick:function(){this._elem("body").attr("class",this._orig_class_name_before_error_success).css("width",""),this._orig_class_name_before_error_success="",this._findElem("modal_error").remove(),this._findElem("body_inner").show(),this.onModalCentrify(),this.options.tryAgain.call(this)},onModalKeydown:function(e){var o=a()(".modal:visible",document.body),t=a()(e.target);if(o.length&&s().findIndex(o,(function(e){return e.isSameNode(this.el)}),this)===o.length-1)switch(e.keyCode){case 13:if(this.options.disable_enter_keydown)return;t.closest(".modal").length&&t.is(":input, [contenteditable]")&&!o.hasClass("js-modal-confirm")||(t.blur(),e.stopImmediatePropagation(),this._findElem("accept_button").trigger("click"));break;case 27:this.disable_overlay_click||this.options.disable_escape_keydown||this.destroy()}},onModalCloseClick:function(e){e.stopPropagation(),this.destroy()},onModalCancelClick:function(e){this.options.disable_cancel_click||(this.destroy(),e.stopPropagation())},onModalScrollerClick:function(e){var o=a()(e.target);(o.hasClass("modal-scroller")&&this._scroller_mousedown&&!this.disable_overlay_click||o.closest(".button-cancel").length&&!this.options.disable_cancel_click)&&this.destroy()},onPageChanged:function(){!1!==this.options.can_destroy&&this.destroy()},onModalLoaded:function(){this._elem("body").show().removeClass("modal-body-loading"),this._elem("overlay_spinner").hide()},onModalCentrify:function(){var e=this._$window.width()-65;if(!this.$el.is(":hidden")){this.onModalLoaded();var o=this._findElem("body"),t=o.get(0),n=t?t.offsetHeight:0,a=t?t.parentNode.offsetHeight:0,i=this.options.without_offsets_on_centify?0:130;if(s().isFunction(this.options.onModalPosition))this.options.onModalPosition(o);else if(n<a-i){var r=t.offsetWidth;o.css({marginTop:Math.ceil(-1*(a/2-n/2+n))+parseFloat(o.css("top"))%1}).css({marginLeft:Math.floor(r/2*-1)+parseFloat(o.css("left"))%1}).removeClass("modal-body-relative").removeClass("modal-body-relative--small-screen")}else o.addClass("modal-body-relative").css({marginTop:"",marginLeft:""}),t&&t.offsetWidth+130>e?o.addClass("modal-body-relative--small-screen"):o.removeClass("modal-body-relative--small-screen");this.options.init_animation&&o.prepareTransition().removeClass("modal-body-float-animation"),this.options.centrify_animation&&this.centrifyAnimation()}},centrifyAnimation:function(e){!1===e?this._elem("body").removeClass("modal-body-centrified"):(this._elem("body").offset(),this._elem("body").addClass("modal-body-centrified"))},show:function(){this.$el.show()},hide:function(){this.$el.hide()},getScroller:function(){return this._elem("scroller")},showError:l()._preload(["/tmpl/common/modal/error.twig"],"_showError"),_showError:function(e,o){this._orig_class_name_before_error_success=this._elem("body").attr("class"),this.disable_overlay_click=this._orig_disable_overlay_click,o=!s().isBoolean(o)||o,this.centrifyAnimation(!1),this._elem("overlay_spinner").hide(),this._findElem("body_inner").hide(),this._elem("body").attr("class",this._class("body")).first().show().width(500).append(l()({ref:"/tmpl/common/modal/error.twig"}).render({text:e||!1,no_retry:!o})).trigger("modal:loaded").trigger("modal:centrify"),(0,d.sentryLogErrorModal)(e)},showSuccess:l()._preload(["/tmpl/common/modal/success.twig"],"_showSuccess"),_showSuccess:function(e,o,t){this._orig_class_name_before_error_success=this._elem("body").attr("class"),this.disable_overlay_click=this._orig_disable_overlay_click,this.centrifyAnimation(!1),this._elem("overlay_spinner").hide(),this._findElem("body_inner").hide(),this._elem("body").first().attr("class",this._class("body")).show().width(500).append(l()({ref:"/tmpl/common/modal/success.twig"}).render({msg:e||!1})).trigger("modal:loaded").trigger("modal:centrify"),s().delay(s().bind((function(){this._elem("body").attr("class",this._orig_class_name_before_error_success),this._orig_class_name_before_error_success="",this.destroy(),s().isFunction(o)&&o()}),this),t||500)},requestStart:function(){return this.disable_overlay_click=!0,this._elem("overlay_spinner").show(),this._elem("body").hide(),this},shakeError:function(){this.disable_overlay_click=this._orig_disable_overlay_click,this._elem("overlay_spinner").hide(),this._elem("body").one(APP.animation_event,s().bind((function(e){a()(e.currentTarget).removeClass("animated shake")}),this)).addClass("animated shake")},onPageReloadAfterModalClose:function(){this.options.need_page_reload=!0}});var p="../build/transpiled/components/base/modal";window.define(p,(function(){var e="undefined",t=typeof o===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:o;return t&&t.default||t})),window.require([p])},366302:(e,o,t)=>{t.r(o),t.d(o,{disallowedWidgetsRegExp:()=>l});var n=t(971588),a=t(577486),i=["amo_mailchimp","mailchimp_kommo","t57c8mssj0hf4lyfyefawyicehiykduabll1w3gt","amo_1c_fresh","amo_unf","amo_tinkoffbacq","amo_yakassa","amo_sberbacq","amo_alfabacq","amo_twilio6","mercado_libre","linkedin_kommo","wix_kommo","lazada","nuvemshop","woocom","shopify","gotoconnect","amo_rd_station","amo_googledocsgenv2","amo_docsgenv2_com","paypal","mercado_pago","amo_dropbox","amo_zoom","amo_zapier","dlzsz9jezzn3yicnojvtwddrip6anomozhrybv72","amo_intercom","amo_activecampaign","amo_stripe","amo_typeform","lzawrqwjjathddycg8griw0lwx1bfaodscd4wfwh","amo_jotform","amo_ringcentral_vol2","zenvia_voip","nvoip","amo_smsc","amo_yametrika","amo_new_moysklad","avito_work","amo_evotor","amo_eskiz","amo_lead_scraper","amo_tranzaptorcom","amo_asterisk","amo_zendesk","amo_ofd","google_translator","cloudtalk","xf2tnprxxab1iax0sclmvrsbwcyazdoxywdgaj1b","tokopedia","api4com","amo_aircall",n.default.WHATSAPP,n.default.WHATSAPP_WHITE,n.default.TIKTOK],s="(".concat(i.join("|"),")"),r="\\/(upl|widgets)\\/(?!(".concat(s,")\\/).*"),l=new a.UnsafeRegExp("".concat("https?:\\/\\/([^.]+\\.)?([^.]+\\.)?(amocrm2?\\.(saas|ru)|kommo2?\\.com)").concat(r))},643095:(e,o,t)=>{t.r(o),t.d(o,{captureException:()=>b,isDisallowedWidgetTraceDetected:()=>y,sentryLogBrokenFeed:()=>C,sentryLogErrorHandler:()=>E,sentryLogErrorModal:()=>w,sentryLogFailedGetAmojoToken:()=>A,sentryLogSocketDisconnect:()=>S,sentryLogSpaceError:()=>k,sentryLogUserflowUpdateUserError:()=>P,startBrowserTracingSpan:()=>p});var n=t(661533),a=t.n(n),i=t(629133),s=t.n(i),r=t(998798),l=t(955026),d=t(366302);function c(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,n=new Array(o);t<o;t++)n[t]=e[t];return n}function _(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function m(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(o){_(e,o,t[o])}))}return e}var h=[],u=[],f={fatal:"fatal",error:"error",warning:"warning",log:"log",info:"info",debug:"debug"},y=function(e){return d.disallowedWidgetsRegExp.test(e)};function p(e){var o=e.entity;o&&s().isFunction(window.sentryStartBrowserTracingSpan)&&window.sentryStartBrowserTracingSpan({isPageLoad:APP.first_load,entity:o})}function g(){switch(!0){case(0,r.isImboxSection)():return"imbox";case APP.isCard()&&"leads"===APP.getBaseEntity():return"leads-card";case"leads-pipeline"===APP.data.current_entity:return"leads-pipeline";default:return"".concat(APP.getBaseEntity()).concat(APP.isCard()?"-card":"")}}function b(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=window.Sentry;t&&navigator.onLine?(h.length&&v(),o.tags=s().defaults(o.tags||{},{"manually-logged":!0}),t.captureException(e,o)):(h.push([e,o]),(0,l.isDev)()&&console.error("Sentry is offline, error pushed to queue:",e,o))}function v(){var e=h.slice(0);h=[],s().each(e,(function(e){var o;b.apply(void 0,function(e){if(Array.isArray(e))return c(e)}(o=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,o){if(e){if("string"==typeof e)return c(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,o):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))}function w(e){var o=g(),t=new Error("Error modal showed - ".concat(o));t.stack&&y(t.stack)||setTimeout((function(){b(t,{tags:{"oops-error.entity":o,"navigator.online":navigator.onLine,"message.empty":s().isEmpty(e)},extra:{"Error Message":e,"Last Ajaxes":u}}),u=[]}))}function k(e){var o=e.errXHR,t=e.extra,n=void 0===t?{}:t;if(o){var a=o.getResponseHeader("X-Request-Id"),i=o.status,s=o.responseText,r=g();b(new Error("Space error - ".concat(r)),{tags:{"space-error.entity":r,"navigator.online":navigator.onLine},extra:m({"Request Id":a,"Status Code":i,"Response Message":s},n)})}}function E(e){var o=e.errXHR,t=e.variant,n=e.extra,a=void 0===n?{}:n;if(o){var i=o.status,s=o.responseText,r=o.getResponseHeader("X-Request-Id"),l=g();b(new Error("Error handler - ".concat(l)),{tags:{"error-handler.entity":l,"navigator.online":navigator.onLine,"handle.variant":t},extra:m({"Request Id":r,"Status Code":i,"Response Message":s},a)})}}function A(e){var o=e.responseJSON,t=void 0===o?{}:o,n=e.isNetworkError,a=void 0!==n&&n,i=APP.constant("account").subdomain,s=(t.response||{}).error,r=void 0===s?{error:""}:s;b(new Error("Failed to receive amojo token"),{tags:{subdomain:i},extra:{"Error reason":a?"Network error":r}})}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.reason,t=void 0===o?{}:o,n=e.socketName,a=void 0===n?"":n,i=e.code,s=APP.constant("account").subdomain;b("Socket disconnected - ".concat(a),{tags:{subdomain:s,socket:a,"socket.error-code":i},extra:{"Disconnected reason":JSON.stringify(t),level:f.info}})}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=g();b(new Error("Broken feed - ".concat(o," ")),{tags:{"broken-feed.entity":o},extra:{Options:e}})}function P(e){var o=e.responseJSON,t=APP.constant("account").subdomain,n=o.status,a=o.title;b(new Error("Userflow Update User Error"),{tags:{subdomain:t},extra:{"Response JSON":{status:n,title:a}}})}a()(document).on("ajaxError ajaxComplete",(function(e,o,t){!function(e,o){var t={url:o.url,requestId:e.getResponseHeader("X-Request-Id"),status:e.status},n=e.responseText;s().isString(n)&&n.length&&s().extend(t,{responseMessage:n}),u.push(t),u.length>5&&u.shift()}(o,t)})),a()(window).on("online",v)},971588:(e,o,t)=>{var n;t.r(o),t.d(o,{default:()=>a}),function(e){e.FACEBOOK="facebook",e.MESSENGER="messenger",e.INSTAGRAM_BUSINESS="instagram_business",e.INSTAGRAM="instagram",e.WHATSAPP="amocrm_whatsapp",e.WHATSAPP_WHITE="whatsapp_cloud_api",e.TELEGRAM="telegram",e.TIKTOK="tiktok_kommo"}(n||(n={}));const a=n},564638:(e,o,t)=>{t.r(o),t.d(o,{WINDOW_RESIZE_THROTTLE_DELAY:()=>n});var n=10}}]);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"build_2025_11_28_17_08_33"},function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=(new Error).stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="91f94d5b-28a7-42be-9cc7-7c54ca9eec43",e._sentryDebugIdIdentifier="sentry-dbid-91f94d5b-28a7-42be-9cc7-7c54ca9eec43")}catch(e){}}();
//# sourceMappingURL=4483.363f18c4c4b4ee48c955.js.map