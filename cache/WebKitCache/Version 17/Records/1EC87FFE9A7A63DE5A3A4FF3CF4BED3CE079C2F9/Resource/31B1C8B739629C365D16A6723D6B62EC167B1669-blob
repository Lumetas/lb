"use strict";(window.webpackChunk=window.webpackChunk||[]).push([[28933],{183147:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(629133),o=n.n(r),i=n(161320),a=n.n(i),s=n(333193),c=n.n(s),d=n(445368),l=n(168807),u=n(926168),f=Date.now();function p(e){var t=e.base_path||"/twig/",n=e.v||f,r={allowInlineIncludes:e.allowInlineIncludes||!1,base:t,href:"".concat(t+e.href,"?v=").concat(n),data:e.data,async:e.async||!0,id:e.id||void 0,load:e.load||void 0,ref:e.ref||void 0};return c().twig(r)}c().extend((function(e){var t=e.Template.prototype.render;e.Template.prototype.render=function(e,n){return t.call(this,o().extend({lang:APP.lang,lang_id:APP.lang_id,_time_format:APP.system.format.time},e),n)}})),o().each({i18n:"i18n",date:"twigFilterDate",count:"prettyNumber",phone:"phone",striptags:"stripTags",task_date:"formatDate",lead_name:"leadName",plug_price:"plugPrice"},(function(e,t){if(!o().isFunction(d[e]))throw new Error("Twig filter handler is not defined!");c().extendFilter(t,o().bind(d[e],d))})),c().extendFilter("random_string",o().bind(l.randString,l)),c().extendFunction("is_12_hour_format",o().bind(d.is12HourFormat,d)),c().extendFunction("inject_static",o().noop),c().extendFilter("task_text",(function(e){return e===APP.lang.tasks_follow_up?"":e})),c().extendFilter("parse_urls",(function(e){if(!e)return"";var t=e.replace(/(\b([a-z]{3,8}):\/\/[-a-zа-я0-9+&@#/%?=~_|!:,.;]*[-a-zа-я0-9+&@#/%=~_|])/gim,'<a href="$1" target="_blank" rel="nofollow">$1</a>');return(t=(t=t.replace(/(^|[^/])(www\.[-a-zа-я0-9+&@#/%?=~_|!:,.;]*[-a-zа-я0-9+&@#/%=~_|])/gim,'$1<a href="http://$2" target="_blank" rel="nofollow">$2</a>')).replace(/([-a-zа-я0-9!#$%&'*+/=?^_`{|}~]+(?:\.[-а-яa-z0-9!#$%&'*+/=?^_`{|}~]+)*@(?:[a-zа-я0-9]([-a-zа-я0-9]{0,61}[а-яa-z0-9])?\.)*([a-zа-я]{2,8}))/gim,'<a href="mailto:$1'.concat(APP.lang.mail?"?bcc=".concat(APP.lang.mail):"",'">$1</a>')))||""})),c().extendFilter("period",(function(e){var t=Math.floor(e%31536e3/86400);if(t>0){var n=1===t?"day":"days";return"ru"===APP.lang_id&&(n=t%10==1&&11!==t?"дня":"дней"),"".concat(t," ").concat(n)}return!1})),c().extendFilter("raw",(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/&amp;/g,"&")})),c().extendFilter("time",(function(e){if(!e||o().isNaN(parseFloat(e)))return"00:00";var t,n=Math.floor(e/60);return e<60?(n="00",t=parseInt(e)):(n=((n=parseInt(n))<10?"0":"")+n,t=parseInt(e-60*n)),n+(t<10?":0":":")+t})),c().extendFilter("raw",(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/&amp;/g,"&")})),c().extendFunction("random",(function(e){var t;t=e?"string"==typeof e||"object"==typeof e&&e.length?e.length:parseInt(t):2147483647;var n=Math.floor(Math.random()*(t-0+1))+0;return"string"==typeof e||"object"==typeof e&&e.length?e[n]:n})),c().extendFilter("nl2br",(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\n/g,"<br/>")})),c().extendFilter("by_paragraphs",(function(e,t){return"[object Array]"!==Object.prototype.toString.call(e)&&(e=(e||"").toString().split("\n\n").join("\n")),e[t=t||"split"]("\n")})),c().extendFilter("nl2p",(function(e){var t,n="";for(t in e=(e||"").split("\n"))""!==d.trim(e[t])&&(n+="<p>".concat(e[t],"</p>"));return n})),c().extendFilter("price",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t[0]||!1,r=t[1]||0,o=t[2]||!1;return d.currency(e,n,r,!1,o)})),c().extendFilter("round",(function(e){return Math.round(e)})),c().extendFilter("element_type",o().bind(u.convertElementType,u)),c().extendFilter("relative_date",(function(e,t){var n=[],r=e;if(e){"number"==typeof e&&(e=a().unix(e));var o=a()(e,"".concat(APP.system.format.date.date," ").concat(APP.system.format.date.time));return o.isSame(new Date,"day")?(n.push(o.format(a()().localeData().calendar("today"))),n.push(o.format(APP.system.format.date.time))):o.isSame(a()().add(1,"days"),"day")?(n.push(o.format(a()().localeData().calendar("tomorrow"))),n.push(o.format(APP.system.format.date.time))):o.isSame(a()().subtract(1,"days"),"day")?(n.push(o.format(a()().localeData().calendar("yesterday"))),n.push(o.format(APP.system.format.date.time))):t&&t.length?1===t.length&&"full_with_year"===t[0]?n.push(o.format(APP.system.format.date.calendar)):(t.unshift(r),n.push(d.formatDate.apply(this,t))):o.isSame(a()(),"year")?n.push(o.format(APP.system.format.date.calendar_no_year)):n.push(o.format(APP.system.format.date.calendar)),n.join(", ")}})),c().extendFilter("numeral",(function(){var e=arguments.length>1?arguments[1]:void 0,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().split(",");if("ru"===a().locale()){if("all"===e)return t[3];var n=Math.abs(e)%100,r=n%10;return n>10&&n<20?t[2]:r>1&&r<5?t[1]:1===r?t[0]:t[2]}return 1!==parseInt(e)||"all"===e?t[1]:t[0]})),c().extendFilter("format",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0]||"";for(r=1;r<t.length&&void 0!==t[r];++r)o=o.replace("%s",t[r]);return o})),c().extend((function(e){e.exports.extendTag({type:"crm_template_block",regex:/^crm_template_block[\s+]?(.+)?$/,next:["end_crm_template_block"],open:!0,compile:function(t){var n=t.match[1];return n&&(t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,delete t.match),t},parse:function(t,n,r){var o=t.stack&&e.expression.parse.apply(this,[t.stack,n]),i='<div class="crm-template-wizard__block';return o&&(i+=" ".concat(o)),i+='">',i+=e.parse.apply(this,[t.output,n]),{chain:r,output:i+="</div>"}}}),e.exports.extendTag({type:"end_crm_template_block",regex:/^end_crm_template_block$/,next:[],open:!1}),e.exports.extendFunction("include_control",(function(e,t){return c().twig({ref:"/tmpl/controls/".concat(e,".twig")}).render(t)}))}));var _="twigjs";window.define(_,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([_])},136675:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var r=n(661533),o=n.n(r),i=n(629133),a=n.n(i),s=n(543666),c=n(407710),d=n(955026);const l={add:function(e,t,n,r){return t=this.getTypeCode(t),s.WriteFirstLeadSourcesCollection.clearAllCache(),c.ChatSourcesCollection.clearAllCache(),o().ajax({method:"POST",url:"/ajax/settings/pipeline/sources/add",data:{request:{pipeline_id:e,type:t,params:n}},xhr:r})},smart_delete:function(e,t,n){var r,o=!1;return s.WriteFirstLeadSourcesCollection.clearAllCache(),c.ChatSourcesCollection.clearAllCache(),this.list(e,t).then(a().bind((function(e){return e[this.getTypeCode(t)]&&(r=e[this.getTypeCode(t)])[n]&&(o=r[n].source_id),this.delete(o)}),this))},delete:function(e){return s.WriteFirstLeadSourcesCollection.clearAllCache(),c.ChatSourcesCollection.clearAllCache(),o().ajax({method:"POST",url:"/ajax/settings/pipeline/sources/delete",data:{request:{id:e}}})},deleteAllByType:function(e){return s.WriteFirstLeadSourcesCollection.clearAllCache(),c.ChatSourcesCollection.clearAllCache(),o().ajax({method:"POST",url:"/ajax/settings/pipeline/sources/delete",data:{request:{type:e}}})},edit:function(e,t){return s.WriteFirstLeadSourcesCollection.clearAllCache(),c.ChatSourcesCollection.clearAllCache(),o().ajax({method:"POST",url:"/ajax/settings/pipeline/sources/edit",data:{request:{id:e,params:t}}})},list:function(e,t){var n={},r=o().Deferred();return e&&(n.pipeline_id=e),t&&(n.type=this.getTypeCode(t)),o().ajax({method:"GET",url:"/ajax/settings/pipeline/sources/list",data:n}).done(a().bind((function(e){(e=(0,d.cleanResponse)(e))&&e.sources&&r.resolve(e.sources)}))),r},listSources:function(e,t){var n={filter:{origin:[]}},r=[],i=o().Deferred();return e&&(n.only="chats"),t&&n.filter.origin.push(t),o().ajax({method:"GET",url:"/ajax/v4/sources",data:n}).done(a().bind((function(e){e=(0,d.cleanResponse)(e),r=a().propertyOf(e)(["_embedded","sources"])||[],i.resolve(r)}))),i},getTypeCode:function(e){var t=a().invert(APP.constant("leads_sources_types"));return!(!e||!t[e])&&t[e]},switchDuplicationControlEnabled:function(e,t,n){var r={pipeline_id:e},i=o().Deferred();return t?(r.all="Y",r.enabled=n?"Y":"N"):(r.all="N",r.enabled=n),o().ajax({method:"POST",url:"/ajax/settings/pipeline/sources/duplication_control",data:r}).done(a().bind((function(e){(e=(0,d.cleanResponse)(e))&&e.success?i.resolve():i.reject()}))).fail((function(){i.reject()})),i}};var u="../build/transpiled/interface/settings/digital_pipeline/leads_sources";window.define(u,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([u])},440776:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r={};const o={get:function(e){return e?r[e]:r},set:function(e,t,n,o){r[e]={text:t,callback:n,options:o}},clear:function(){r={}}};var i="../build/transpiled/sdk/feed_editors";window.define(i,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([i])},128933:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(661533),o=n.n(r),i=n(629133),a=n.n(i),s=n(128508),c=n(183147),d=n(440776),l=n(334426),u=n(797078),f=n(910),p=n(214558),_=n(445368),g=n(955026),m=n(397927),h=n(136675),y=n(304483);function w(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(895294),n(597895),APP.sdk=f;var b=0,P=0,k=["leads","contacts","customers"],x=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.langs={},this.params={},this.onBeforeCloseWidgetBlock=null,this.isOnBeforeCloseWidgetBlockPending=!1,this}var t,n;return t=e,n=[{key:"$authorizedAjax",value:function(e){return this.get_settings().oauth_client_uuid?(0,l.default)(this.get_settings().oauth_client_uuid,e):Promise.reject("Method works only with OAuth integrations")}},{key:"crm_post",value:function(t,n,r,i){var s=n||{},c=i||"text",d=Date.now()-b,l=0;if(s.target=t,d<1e3)return l=1e3*++P,void a().delay(a().bind(e.prototype.crm_post,this,t,n,r,i),l);b=Date.now(),P>0&&--P,o().post("/private/widget/proxy.php",s,r,c)}},{key:"i18n",value:function(e){var t,n;if("string"==typeof e){for(t=this.langs,e=e.split("."),n=0;n<e.length;n++)t=t[e[n]];if(void 0!==t)return t}return!1}},{key:"set_lang",value:function(e){this.langs=e}},{key:"set_settings",value:function(e){this.params=this.params||{},o().extend(this.params,e)}},{key:"get_settings",value:function(){return this.params}},{key:"get_install_status",value:function(){return this.params.status}},{key:"get_version",value:function(){return this.params.version}},{key:"system",value:function(){return"object"==typeof APP.widgets.system&&APP.widgets.system}},{key:"add_action",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a().noop;a().has({phone:1,email:1},e)&&"function"==typeof t&&(APP.widgets.cf_actions[e]=APP.widgets.cf_actions[e]||{},APP.widgets.cf_actions[e][this.params.widget_code]=t)}},{key:"get_accounts_current",value:function(){if(!APP)return!1;if(this._accounts_current_cache)return this._accounts_current_cache;var e=(0,p.get)(),t=APP.constant("account")||{},n={id:t.id,name:t.name,subdomain:t.subdomain,currency:t.currency,paid_from:t.paid_from,paid_till:t.paid_till,timezone:t.timezone,date_pattern:t.date_pattern,language:t.language,date_format:t.date_format,time_format:t.time_format,country:"".concat(t.country).toLowerCase(),unsorted_on:t.unsorted_on,users:[],widget:this.params,leads_statuses:[],custom_fields:a().extend(APP.constant("account").cf,APP.constant("account").predefined_cf),note_types:[],task_types:[]};return a().each(e,(function(e){e.active&&n.users.push({id:e.id,name:e.title,login:e.login,is_admin:e.is_admin})})),this._accounts_current_cache={account:n}}},{key:"list_selected",value:function(){var e=[],t={items:0,emails:0,phones:0};return o().inArray(APP.getWidgetsArea(),["leads","contacts","customers","todo"])>=0&&(APP.data.current_list.where({is_checked:!0}).forEach((function(n){var r=APP.constant("account"),o=n.get("CF".concat(r.predefined_cf.EMAIL.ID))||n.get("cf".concat(r.predefined_cf.EMAIL.ID))||"",i=n.get("CF".concat(r.predefined_cf.PHONE.ID))||n.get("cf".concat(r.predefined_cf.PHONE.ID))||"",a=n.get("entity")||"";o=o.toString().replace(" ","")||"",i=i.toString().replace(" ","")||"",o=o?o.split(","):[],i=i?i.split(","):[],e.push({id:n.id,type:a,emails:o,phones:i}),t.items+=1,t.phones+=i.length,t.emails+=o.length})),{selected:e,summary:t})}},{key:"render",value:function(e,t){var n="";if(t=t||{},((e=e||{}).load||e.promised)&&e.href){if(e.promised)return new Promise((function(t){(0,c.default)(a().extend(e,{load:t}))}));(0,c.default)(e),n=!0}else n=(0,c.default)(e).render(t);return n}},{key:"render_template",value:function(e,t){var n=this;a().includes(k,APP.getWidgetsArea())&&a().isFunction(e.onBeforeCloseWidgetBlock)&&(this.onBeforeCloseWidgetBlock=e.onBeforeCloseWidgetBlock,o()(document).one("page:changed",(function(){n.onBeforeCloseWidgetBlock=null,n.isOnBeforeCloseWidgetBlockPending=!1})));var r=this,i=o()(document).find("body"),s=i.find("#widgets_block"),d=s.find(".card-widgets__elements");t=t||{},e.caption=e.caption||{},e.caption.images_path=r.params.images_path;var l,u,f,p,_,g,m=(0,c.default)({data:r.template_element}).render({widget_code:r.params.widget_code,block_class_name:e.block_class_name||"",caption:e.caption,body:(0,c.default)({data:e.render}).render(t)+(e.body||"")});l=d,u=o()(m),f=l.get(0),p=u.get(0),g=-1,(_=u.attr("data-code")||"")&&(g=APP.widgets.registerToRightPanel(_).indexOf(_)),f.insertBefore(p,f.children[g]),i.find("#card_holder").hasClass("js-widgets-active")?s.find(".card-widgets__widget__caption__arrow , .card-widgets__widget__caption__logo").show():s.find(".card-widgets__widget__caption__logo_min").show(),o()(document).trigger("widget:render-template")}},{key:"extend",value:function(t,n){var r=function(){};r.prototype=(n=n||e).prototype,t.prototype=new r,t.prototype.constructor=t}},{key:"widgetsOverlay",value:function(e){!0===e?this._openWidgetBlock():this._closeWidgetBlock()}},{key:"_closeWidgetBlock",value:function(){var e,t=this;return(e=function(){var e,n,r;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){switch(i.label){case 0:if(t.isOnBeforeCloseWidgetBlockPending)return[2];i.label=1;case 1:if(i.trys.push([1,3,,4]),!a().isFunction(t.onBeforeCloseWidgetBlock))throw new Error("onBeforeCloseWidgetBlock is not a function");return t.isOnBeforeCloseWidgetBlockPending=!0,[4,t.onBeforeCloseWidgetBlock()];case 2:if(e=i.sent(),t.isOnBeforeCloseWidgetBlockPending=!1,!0===e)throw new Error("Widget close allowed by onBeforeCloseWidgetBlock");return[3,4];case 3:return i.sent(),t.isOnBeforeCloseWidgetBlockPending=!1,n=o()("#widgets_block"),r=o()("#card_widgets_overlay"),n.removeClass("js-widgets-active"),n.hide(),o()(document).off(".widgets:overlay:hide"),r.trigger("overlay:hide",{instantly:!0}),[3,4];case 4:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,s,"next",e)}function s(e){w(i,r,o,a,s,"throw",e)}a(void 0)}))})()}},{key:"_openWidgetBlock",value:function(){var e=this,t="card_widgets_overlay";o()(document).on("click.widgets:overlay:hide",(function(t){o()(t.target).closest("#widgets_block").length||e._closeWidgetBlock()})),o()(document).one("page:changed",(function(){o()(document).off(".widgets:overlay:hide")})),o()("#list_page_holder").append(o()('<div class="default-overlay" id="'.concat(t,'" style="z-index:51"></div>'))),o()("#".concat(t)).trigger("overlay:show")}},{key:"set_status",value:function(e){var t=o()("div[data-code=".concat(this.params.widget_code,"]"));t.length>0&&(t.removeClass("install installed error").addClass(e),t.find(".widget-status-text").text(APP.lang["widget_status_".concat(e)]),this.params.status=e,o()(document).trigger("widgets:status:change",{widget_code:this.params.widget_code,status:e}))}},{key:"setCountBadge",value:function(e,t){(0,m.updateItemCounter)({widgetCode:this.params.widget_code,widgetItem:e,count:t})}},{key:"background_install",value:function(){o()(".js-widget-save#save_".concat(this.params.widget_code)).data("onsave-destroy-modal",!1).trigger("button:save:enable").click()}},{key:"get_pipeline_id",value:function(){var e=h.default.getTypeCode("widget"),t=this.params.widget_code,n=o().Deferred();return h.default.list(!1,e).then(a().bind((function(r){(0,g.hasKeys)(r,[e,t,"pipeline_id"])?n.resolve(r[e][t].pipeline_id):n.reject()}))),n}},{key:"get_current_card_contacts_data",value:function(){if(!APP.data.is_card)return Promise.resolve([]);var e=APP.data.card_page._generateMainEntityGetter(),t=APP.data.card_page._generateLinkedEntitiesGetter(),n="contacts"===APP.getBaseEntity()?[e()]:t(),r=a().filter(n,(function(e){return e.element_type===APP.element_types.contacts})),o=a().map(r,(function(e){return{id:e.id,name:e.name,first_name:e.first_name,last_name:e.last_name,phones:e.phone,emails:e.email}}));return Promise.resolve(o)}},{key:"setSdkCatalogId",value:function(e){this.sdk_catalog_id=+e}},{key:"listenSocketChannel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(!a().isFunction(n))throw new Error("Callback is not a function.");if(!a().isString(e))throw new Error("channel_name must be string");if(!a().isArray(t))throw new Error("array_keys must be array");var r=u.default.subscribe(e).pipe((0,s.filter)((function(n){var r;return(null===(r=n.body)||void 0===r?void 0:r.channel)===e&&(!(0!==(null==t?void 0:t.length))||(0,g.hasKeys)(n,t))})),(0,s.map)((function(e){return e.body.payload}))).subscribe((function(e){n(e)}));return function(){return r.unsubscribe()}}},{key:"add_source",value:function(e,t,n,r){var i=this.system().area,s=this.get_settings().widget_code;if(!a().contains(["sms","chat","email","custom"],e))throw new Error("Unknown source type.");if(!a().isFunction(t))throw new Error("Callback is not a function.");if(a().contains(["lcard","cucard","ccard","comcard"],i)){if("sms"===e)d.default.set(s,(0,_.i18n)("sms"),t,{type:e,sender:n&&a().isString(n)?n:this.get_accounts_current().account.name,params:r||{}});else{if(!a().isString(n))throw new Error('Not "sms" sources must have a source_text parameter.');d.default.set(s,n,t,{type:e})}o()(document).trigger("widgets:sources:add",{widget_code:s,type:e})}}}],n&&v(t.prototype,n),e}();document.crm_post=x.prototype.crm_post,x.prototype.template_element=['<div class="card-widgets__widget card-widgets__widget-{{widget_code}} {%if block_class_name %} card-widgets__widget-{{block_class_name}}{%endif%}" data-code="{{widget_code}}">','<div class="js-widget-caption-block card-widgets__widget__caption {{caption.class_name}}" data-code="{{widget_code}}">','<span id="multi-widget_close" class="modal-body__close  single_widget__close"></span>','<img class="card-widgets__widget__caption__logo" src="{{ caption.images_path }}/logo_medium.png" onerror="this.parentNode.removeChild(this)" alt="" />','<img class="card-widgets__widget__caption__logo_min" src="{{ caption.images_path }}/logo_min.png" onerror="this.parentNode.removeChild(this)" alt="" />','<div class="card-widgets__widget__caption__arrow widgets__widget__caption__arrow_bottom"></div>',"</div>",'<div class="card-widgets__widget__body" >{{body}}</div></div>',"</div>"].join(""),x.prototype.unbind=a().noop,x.prototype.helpers={Modal:y.default};const C=x;var A="../build/transpiled/widgets/Widget";window.define(A,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([A])},334426:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(661533),o=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}var s=15e5,c={},d=function(e,t){return o().ajax(o().extend(!0,{},e,{headers:(n=a({},e.headers),r={"X-Auth-Token":t},r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n)}));var n,r},l=function(e,t){var n=t-Date.now();n<0&&(n=0),setTimeout((function(){c[e]=null}),n)},u=function(e){var t=c[e];return t&&t.expires_at-Date.now()>0?t.token:null};function f(e,t){var n=o().Deferred(),r=u(e),i=function(e,t){return d(e,t).then((function(e,t,r){n.resolveWith(r,[e,t,r])}),(function(e,t,r){n.rejectWith(e,[e,t,r])}))};return r?i(t,r):o().ajax({url:"/ajax/v2/integrations/".concat(e,"/disposable_token")}).then((function(r,o,a){if(r&&r.token){var d=Date.now()+s;c[e]={token:r.token,expires_at:d},l(e,d),i(t,r.token)}else n.rejectWith(a,[a,401])}),(function(e,t,r){n.rejectWith(e,[e,t,r])})),n.promise()}var p="../build/transpiled/widgets/authorized_request";window.define(p,(function(){var e="undefined",n=typeof t===e?typeof __WEBPACK_AMD_DEFINE_RESULT__===e?typeof module===e?void 0:module.exports:__WEBPACK_AMD_DEFINE_RESULT__:t;return n&&n.default||n})),window.require([p])},895294:(e,t,n)=>{n.r(t),n(661533),n(629133),n(345839),window.define("jquery",(function(){return window.$})),window.require(["jquery"]),window.define("underscore",(function(){return window._})),window.require(["underscore"]),window.define("backbone",(function(){return window.Backbone})),window.require(["backbone"])},597895:(e,t,n)=>{n.r(t);var r=n(724329);var o={"@crm/react":function(){return Promise.resolve().then(n.t.bind(n,827378,23))},"@crm/react-dom":function(){return Promise.resolve().then(n.t.bind(n,331542,23))},"@crm/react-dom/client":function(){return n.e(37634).then(n.t.bind(n,937634,19))},"@crm/ui/Icon/Icon":function(){return Promise.resolve().then(n.bind(n,491967))},"@crm/ui/Text/Text":function(){return n.e(51878).then(n.bind(n,51878))},"@crm/ui/Note/Note":function(){return n.e(50258).then(n.bind(n,150258))},"@crm/ui/Link/Link":function(){return n.e(60195).then(n.bind(n,360195))},"@crm/ui/Tabs/Tabs":function(){return n.e(18071).then(n.bind(n,18071))},"@crm/ui/Radio/Radio":function(){return n.e(82997).then(n.bind(n,482997))},"@crm/ui/Input/Input":function(){return n.e(44457).then(n.bind(n,544457))},"@crm/ui/Title/Title":function(){return Promise.resolve().then(n.bind(n,701106))},"@crm/ui/Select/Select":function(){return n.e(75713).then(n.bind(n,75713))},"@crm/ui/Button/Button":function(){return n.e(83098).then(n.bind(n,783098))},"@crm/ui/Spinner/Spinner":function(){return n.e(31060).then(n.bind(n,731060))},"@crm/ui/TextArea/TextArea":function(){return n.e(8017).then(n.bind(n,508017))},"@crm/ui/Switcher/Switcher":function(){return n.e(19533).then(n.bind(n,319533))},"@crm/ui/Checkbox/Checkbox":function(){return n.e(54149).then(n.bind(n,454149))},"@crm/ui/CheckboxesDropdown/CheckboxesDropdown":function(){return n.e(94211).then(n.bind(n,694211))},"@crm/ui/AnimationPlug/AnimationPlug":function(){return n.e(83534).then(n.bind(n,683534))},"@crm/ui/WhiteContentBlock/WhiteContentBlock":function(){return n.e(38649).then(n.bind(n,738649))},"@crm/ui/Logout/Logout":function(){return n.e(31692).then(n.bind(n,831692))},"@crm/ui/LogoutButton/LogoutButton":function(){return n.e(796).then(n.bind(n,300796))},"@crm/ui/Table":function(){return Promise.all([n.e(24153),n.e(26632),n.e(35412),n.e(4145)]).then(n.bind(n,735412))},"@crm/ui/Tooltip/Tooltip":function(){return Promise.all([n.e(70013),n.e(27498)]).then(n.bind(n,227498))},"@crm/ui/CopyableInput/CopyableInput":function(){return n.e(45524).then(n.bind(n,645524))},"@crm/hooks/useModal/useModal":function(){return Promise.resolve().then(n.bind(n,438089))},"@crm/hooks/useHorizontalScroll/useHorizontalScroll":function(){return Promise.all([n.e(26632),n.e(42019)]).then(n.bind(n,839648))},"@crm/hooks/useModalProvider/useModalProvider":function(){return Promise.resolve().then(n.bind(n,617861))},"@crm/hooks/usePagePreventer/usePagePreventer":function(){return Promise.resolve().then(n.bind(n,321561))},"@crm/hooks/useConst/useConst":function(){return e=Promise.resolve({useConst:r.useConst}),t="useConst",e.then((function(e){return n={__esModule:!0,default:e[t]},r=t,o=e[t],r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n;var n,r,o}));var e,t}};window.define("requirejs-react",(function(){return{version:"0.0.1",load:function(e,t,n){var r=o[e];if(!r)return window.require.undef(e),void console.error("There is no loader for ".concat(e,"!"));r().then((function(e){n(e)}))}}}))}}]);var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"build_2025_11_28_18_50_52"},function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b999a98d-0d9f-45bd-a3b0-9d41e10fc76a",e._sentryDebugIdIdentifier="sentry-dbid-b999a98d-0d9f-45bd-a3b0-9d41e10fc76a")}catch(e){}}();
//# sourceMappingURL=28933.af7d720a42525273670e.js.map