{
"version": 3,
"sections": [
{"offset":{"line":0,"column":0},"map":{
"version": 3,
"file": "/w/load.php?lang=ru&modules=ext.uls.displaysettings%2Clanguagesettings&skin=vector&version=18p8y",
"sources": ["/w/extensions/UniversalLanguageSelector/resources/js/ext.uls.inputsettings.js","/w/extensions/UniversalLanguageSelector/resources/js/ext.uls.displaysettings.js"],
"sourcesContent": ["/*!\n * ULS-based ime settings panel\n *\n * Copyright (C) 2012 Alolita Sharma, Amir Aharoni, Arun Ganesh, Brandon Harris,\n * Niklas Laxström, Pau Giner, Santhosh Thottingal, Siebrand Mazeland and other\n * contributors. See CREDITS for a list.\n *\n * UniversalLanguageSelector is dual licensed GPLv2 or later and MIT. You don't\n * have to do anything special to choose one license or the other and you don't\n * have to notify anyone which license you are using. You are free to use\n * UniversalLanguageSelector in commercial projects as long as the copyright\n * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.\n *\n * @file\n * @ingroup Extensions\n * @licence GNU General Public Licence 2.0 or later\n * @licence MIT License\n */\n\n( function () {\n\t'use strict';\n\n\tconst template = '<div class=\"uls-input-settings\">' +\n\t\t// Top \"Display settings\" title\n\t\t'<div class=\"row\">' +\n\t\t'<div class=\"twelve columns\">' +\n\t\t'<h3 data-i18n=\"ext-uls-input-settings-title\"></h3>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\n\t\t// \"Language for ime\", title above the buttons row\n\t\t'<div class=\"row enabled-only uls-input-settings-languages-title\">' +\n\t\t'<div class=\"twelve columns\">' +\n\t\t'<h4 data-i18n=\"ext-uls-input-settings-ui-language\"></h4>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\n\t\t// UI languages buttons row\n\t\t'<div class=\"row enabled-only\">' +\n\t\t'<div class=\"uls-ui-languages twelve columns\"></div>' +\n\t\t'</div>' +\n\n\t\t// Web IMEs enabling checkbox with label\n\t\t'<div class=\"row enabled-only\">' +\n\t\t'<div class=\"twelve columns\">' +\n\t\t'<div class=\"uls-input-settings-inputmethods-list\">' +\n\t\t// \"Input settings for language xyz\" title\n\t\t'<h4 class=\"uls-input-settings-imes-title\"></h4>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\n\t\t// Disable IME system button\n\t\t'<div class=\"row\">' +\n\t\t'<div class=\"twelve columns uls-input-settings-disable-info\"></div>' +\n\t\t'<div class=\"ten columns uls-input-settings-toggle\">' +\n\t\t'<button class=\"cdx-button cdx-button--weight-primary cdx-button--action-progressive active uls-input-toggle-button\"></button>' +\n\t\t'</div>' +\n\t\t'</div>';\n\n\tfunction InputSettings( $parent ) {\n\t\tthis.nameI18n = 'ext-uls-input-settings-title-short';\n\t\tthis.descriptionI18n = 'ext-uls-input-settings-desc';\n\t\tthis.$template = $( template );\n\t\tthis.uiLanguage = this.getInterfaceLanguage();\n\t\tthis.contentLanguage = this.getContentLanguage();\n\t\tthis.$parent = $parent;\n\t\t// ime system is lazy loaded, make sure it is initialized\n\t\tmw.ime.init();\n\t\tthis.savedRegistry = $.extend( true, {}, $.ime.preferences.registry );\n\t}\n\n\tInputSettings.prototype = {\n\n\t\tconstructor: InputSettings,\n\n\t\t/**\n\t\t * Render the module into a given target\n\t\t */\n\t\trender: function () {\n\t\t\tconst webfonts = $( document.body ).data( 'webfonts' );\n\n\t\t\tthis.dirty = false;\n\t\t\tthis.$parent.$settingsPanel.empty();\n\t\t\tthis.$parent.$settingsPanel.append( this.$template );\n\t\t\tconst $enabledOnly = this.$template.find( '.enabled-only' );\n\t\t\tif ( $.ime.preferences.isEnabled() ) {\n\t\t\t\t$enabledOnly.removeClass( 'hide' );\n\t\t\t} else {\n\t\t\t\t// Hide the language list and ime selector\n\t\t\t\t$enabledOnly.addClass( 'hide' );\n\t\t\t}\n\n\t\t\tthis.prepareLanguages();\n\t\t\tthis.prepareToggleButton();\n\t\t\tthis.$parent.i18n();\n\n\t\t\tif ( webfonts ) {\n\t\t\t\twebfonts.refresh();\n\t\t\t}\n\n\t\t\tthis.listen();\n\t\t},\n\n\t\t/**\n\t\t * Mark dirty, there are unsaved changes. Enable the apply button.\n\t\t * Useful in many places when something changes.\n\t\t */\n\t\tmarkDirty: function () {\n\t\t\tthis.dirty = true;\n\t\t\tthis.$parent.enableApplyButton();\n\t\t},\n\n\t\tprepareInputmethods: function ( language ) {\n\t\t\tconst imes = $.ime.languages[ language ];\n\n\t\t\tconst $imeListTitle = this.$template.find( '.uls-input-settings-imes-title' );\n\t\t\tconst $imeListContainer = this.$template.find( '.uls-input-settings-inputmethods-list' );\n\n\t\t\t$imeListContainer.empty();\n\n\t\t\tif ( !imes ) {\n\t\t\t\t$imeListContainer.append( $( '<label>' )\n\t\t\t\t\t.addClass( 'uls-input-settings-no-inputmethods' )\n\t\t\t\t\t.text( $.i18n( 'ext-uls-input-settings-noime' ) ) );\n\t\t\t\t$imeListTitle.text( '' );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$imeListTitle.text( $.i18n( 'ext-uls-input-settings-ime-settings',\n\t\t\t\t$.uls.data.getAutonym( language ) ) );\n\n\t\t\tconst defaultInputmethod = $.ime.preferences.getIM( language ) ||\n\t\t\t\times.inputmethods[ 0 ];\n\n\t\t\tfor ( const index in imes.inputmethods ) {\n\t\t\t\tconst imeId = imes.inputmethods[ index ];\n\t\t\t\tconst selected = defaultInputmethod === imeId;\n\t\t\t\t$imeListContainer.append( this.renderInputmethodOption( imeId,\n\t\t\t\t\tselected ) );\n\t\t\t}\n\n\t\t\t$imeListContainer.append( this.renderInputmethodOption( 'system',\n\t\t\t\tdefaultInputmethod === 'system' ) );\n\n\t\t\t// Added input methods may increase the height of window. Make sure\n\t\t\t// the entire window is in view port\n\t\t\tthis.$parent.position();\n\t\t},\n\n\t\t/**\n\t\t * For the given input method id, render the selection option.\n\t\t *\n\t\t * @param {string} imeId Input method id\n\t\t * @param {boolean} selected Whether the input is the currently selected one.\n\t\t * @return {Object} jQuery object corresponding to the input method item.\n\t\t */\n\t\trenderInputmethodOption: function ( imeId, selected ) {\n\t\t\tif ( imeId !== 'system' && !$.ime.sources[ imeId ] ) {\n\t\t\t\t// imeId not known for jquery.ime.\n\t\t\t\t// It is very rare, but still validate it.\n\t\t\t\treturn $();\n\t\t\t}\n\n\t\t\tconst $inputMethodItem = $( '<input>' ).attr( {\n\t\t\t\ttype: 'radio',\n\t\t\t\tclass: 'cdx-radio__input',\n\t\t\t\tname: 'ime',\n\t\t\t\tid: imeId,\n\t\t\t\tvalue: imeId\n\t\t\t} )\n\t\t\t\t.prop( 'checked', selected );\n\n\t\t\tlet name, description, inputmethod, $helplink;\n\t\t\tif ( imeId === 'system' ) {\n\t\t\t\tname = $.i18n( 'ext-uls-disable-input-method' );\n\t\t\t\tdescription = '';\n\t\t\t\t$helplink = '';\n\t\t\t} else {\n\t\t\t\tinputmethod = $.ime.inputmethods[ imeId ];\n\t\t\t\t$helplink = $( '<a>' )\n\t\t\t\t\t.addClass( 'uls-ime-help' )\n\t\t\t\t\t.text( $.i18n( 'ext-uls-ime-help' ) )\n\t\t\t\t\t.attr( 'href', mw.msg( 'uls-ime-helppage', imeId ) )\n\t\t\t\t\t.attr( 'target', '_blank' );\n\t\t\t\tif ( !inputmethod ) {\n\t\t\t\t\t// The input method definition(rules) not loaded.\n\t\t\t\t\t// We will show the name from $.ime.sources\n\t\t\t\t\tname = $.ime.sources[ imeId ].name;\n\t\t\t\t\tdescription = '';\n\t\t\t\t} else {\n\t\t\t\t\tname = inputmethod.name;\n\t\t\t\t\tdescription = $.ime.inputmethods[ imeId ].description;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst $icon = $( '<span>' ).addClass( 'cdx-radio__icon' );\n\n\t\t\tconst $imeLabelText = $( '<span>' )\n\t\t\t\t.addClass( 'cdx-label__label__text' )\n\t\t\t\t.append(\n\t\t\t\t\t$( '<strong>' )\n\t\t\t\t\t\t.addClass( 'uls-input-settings-name' )\n\t\t\t\t\t\t.text( name + ' ' ),\n\t\t\t\t\t$( '<span>' )\n\t\t\t\t\t\t.addClass( 'uls-input-settings-description' )\n\t\t\t\t\t\t.text( description ),\n\t\t\t\t\t$helplink\n\t\t\t\t);\n\n\t\t\tconst $imeLabelTag = $( '<label>' )\n\t\t\t\t.attr( 'for', imeId )\n\t\t\t\t.addClass( 'cdx-label__label' )\n\t\t\t\t.append( $imeLabelText );\n\n\t\t\tconst $imeLabel = $( '<div>' )\n\t\t\t\t.addClass( 'cdx-label cdx-radio__label' )\n\t\t\t\t.append( $imeLabelTag );\n\n\t\t\t// Wrap input, icon, and label inside the wrapper for Flexbox.\n\t\t\tconst $inputWrapper = $( '<div>' )\n\t\t\t\t.addClass( 'cdx-radio__wrapper' )\n\t\t\t\t.append( $inputMethodItem, $icon, $imeLabel );\n\n\t\t\treturn $( '<div>' )\n\t\t\t\t.addClass( 'cdx-radio' )\n\t\t\t\t.append( $inputWrapper );\n\t\t},\n\n\t\t/**\n\t\t * Prepare the UI language selector\n\t\t */\n\t\tprepareLanguages: function () {\n\t\t\tconst inputSettings = this,\n\t\t\t\tSUGGESTED_LANGUAGES_NUMBER = 3;\n\n\t\t\tlet selectedImeLanguage = $.ime.preferences.getLanguage();\n\n\t\t\tconst $languages = this.$template.find( '.uls-ui-languages' );\n\n\t\t\tconst suggestedLanguages = this.frequentLanguageList()\n\t\t\t\t// Common world languages, for the case that there are\n\t\t\t\t// too few suggested languages\n\t\t\t\t.concat( [ 'en', 'zh', 'fr' ] );\n\n\t\t\t// Content language is always on the first button\n\n\t\t\tconst languagesForButtons = [ this.contentLanguage ];\n\n\t\t\t// This is needed when drawing the panel for the second time\n\t\t\t// after selecting a different language\n\t\t\t$languages.empty();\n\n\t\t\t// Selected IME language may be different, and it must be present, too\n\t\t\tif ( $.uls.data.languages[ selectedImeLanguage ] &&\n\t\t\t\t!languagesForButtons.includes( selectedImeLanguage )\n\t\t\t) {\n\t\t\t\tlanguagesForButtons.push( selectedImeLanguage );\n\t\t\t}\n\n\t\t\t// UI language must always be present\n\t\t\tif ( this.uiLanguage !== this.contentLanguage &&\n\t\t\t\t$.uls.data.languages[ this.uiLanguage ] &&\n\t\t\t\t!languagesForButtons.includes( this.uiLanguage ) ) {\n\t\t\t\tlanguagesForButtons.push( this.uiLanguage );\n\t\t\t}\n\n\t\t\tfor ( const lang in suggestedLanguages ) {\n\t\t\t\t// Skip already found languages\n\t\t\t\tif ( languagesForButtons.includes( suggestedLanguages[ lang ] ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlanguagesForButtons.push( suggestedLanguages[ lang ] );\n\n\t\t\t\t// No need to add more languages than buttons\n\t\t\t\tif ( languagesForButtons.length >= SUGGESTED_LANGUAGES_NUMBER ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction buttonHandler( button ) {\n\t\t\t\treturn function () {\n\t\t\t\t\tconst selectedLang = button.data( 'language' );\n\n\t\t\t\t\tif ( selectedLang !== $.ime.preferences.getLanguage() ) {\n\t\t\t\t\t\tinputSettings.markDirty();\n\t\t\t\t\t\t$.ime.preferences.setLanguage( selectedLang );\n\t\t\t\t\t}\n\t\t\t\t\t// Mark the button selected\n\t\t\t\t\t$( '.uls-ui-languages .cdx-button' ).removeClass( 'uls-cdx-button-pressed' );\n\t\t\t\t\tbutton.addClass( 'uls-cdx-button-pressed' );\n\t\t\t\t\tinputSettings.prepareInputmethods( selectedLang );\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// In case no preference exist for IME, selected language is contentLanguage\n\t\t\tselectedImeLanguage = selectedImeLanguage || this.contentLanguage;\n\t\t\t// Add the buttons for the most likely languages\n\t\t\tfor ( let i = 0; i < SUGGESTED_LANGUAGES_NUMBER; i++ ) {\n\t\t\t\tconst language = languagesForButtons[ i ];\n\t\t\t\tconst $button = $( '<button>' )\n\t\t\t\t\t.addClass( 'cdx-button uls-language-button autonym' )\n\t\t\t\t\t.text( $.uls.data.getAutonym( language ) )\n\t\t\t\t\t.prop( {\n\t\t\t\t\t\tlang: language,\n\t\t\t\t\t\tdir: $.uls.data.getDir( language )\n\t\t\t\t\t} );\n\n\t\t\t\t$button.data( 'language', language );\n\t\t\t\tconst $caret = $( '<span>' ).addClass( 'uls-input-settings-caret' );\n\n\t\t\t\t$languages.append( $button, $caret );\n\n\t\t\t\t$button.on( 'click', buttonHandler( $button ) );\n\n\t\t\t\tif ( language === selectedImeLanguage ) {\n\t\t\t\t\t$button.trigger( 'click' );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.prepareMoreLanguages();\n\t\t},\n\n\t\t/**\n\t\t * Prepare the more languages button. It is a ULS trigger\n\t\t */\n\t\tprepareMoreLanguages: function () {\n\t\t\tconst inputSettings = this;\n\n\t\t\tconst $languages = this.$template.find( '.uls-ui-languages' );\n\t\t\tconst $moreLanguagesButton = $( '<button>' )\n\t\t\t\t.prop( 'class', 'uls-more-languages' )\n\t\t\t\t.addClass( 'cdx-button' ).text( '...' );\n\n\t\t\t$languages.append( $moreLanguagesButton );\n\t\t\t// Show the long language list to select a language for ime settings\n\t\t\t$moreLanguagesButton.uls( {\n\t\t\t\tleft: inputSettings.$parent.left,\n\t\t\t\ttop: inputSettings.$parent.top,\n\t\t\t\tonReady: function () {\n\t\t\t\t\tconst $back = $( '<div>' )\n\t\t\t\t\t\t.addClass( 'uls-icon-back' )\n\t\t\t\t\t\t.data( 'i18n', 'ext-uls-back-to-input-settings' )\n\t\t\t\t\t\t.i18n()\n\t\t\t\t\t\t.text( ' ' );\n\n\t\t\t\t\t$back.on( 'click', () => {\n\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t\tinputSettings.$parent.show();\n\t\t\t\t\t} );\n\n\t\t\t\t\tconst $wrap = $( '<div>' )\n\t\t\t\t\t\t.addClass( 'uls-search-wrapper-wrapper' );\n\n\t\t\t\t\tthis.$menu.find( '.uls-search-wrapper' ).wrap( $wrap );\n\t\t\t\t\tthis.$menu.find( '.uls-search-wrapper-wrapper' ).prepend( $back );\n\n\t\t\t\t\t// Copy callout related classes from parent\n\t\t\t\t\t// eslint-disable-next-line no-jquery/no-class-state\n\t\t\t\t\tthis.$menu.toggleClass( 'selector-left', inputSettings.$parent.$window.hasClass( 'selector-left' ) );\n\t\t\t\t\t// eslint-disable-next-line no-jquery/no-class-state\n\t\t\t\t\tthis.$menu.toggleClass( 'selector-right', inputSettings.$parent.$window.hasClass( 'selector-right' ) );\n\t\t\t\t},\n\t\t\t\tonVisible: function () {\n\t\t\t\t\tthis.$menu.find( '.uls-languagefilter' )\n\t\t\t\t\t\t.prop( 'placeholder', $.i18n( 'ext-uls-input-settings-ui-language' ) );\n\n\t\t\t\t\t// eslint-disable-next-line no-jquery/no-class-state\n\t\t\t\t\tif ( !inputSettings.$parent.$window.hasClass( 'callout' ) ) {\n\t\t\t\t\t\t// callout menus will have position rules. others use\n\t\t\t\t\t\t// default position\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst $parent = $( '#language-settings-dialog' );\n\n\t\t\t\t\t// Re-position the element according to the window that called it\n\t\t\t\t\tif ( parseInt( $parent.css( 'left' ), 10 ) ) {\n\t\t\t\t\t\tthis.$menu.css( 'left', $parent.css( 'left' ) );\n\t\t\t\t\t}\n\t\t\t\t\tif ( parseInt( $parent.css( 'top' ), 10 ) ) {\n\t\t\t\t\t\tthis.$menu.css( 'top', $parent.css( 'top' ) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-jquery/no-class-state\n\t\t\t\t\tif ( inputSettings.$parent.$window.hasClass( 'callout' ) ) {\n\t\t\t\t\t\tthis.$menu.addClass( 'callout callout--languageselection' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$menu.removeClass( 'callout' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonSelect: function ( langCode ) {\n\t\t\t\t\t$.ime.preferences.setLanguage( langCode );\n\t\t\t\t\tinputSettings.$parent.show();\n\t\t\t\t\tinputSettings.prepareLanguages();\n\t\t\t\t\tinputSettings.markDirty();\n\t\t\t\t},\n\t\t\t\tlanguages: mw.ime.getLanguagesWithIME(),\n\t\t\t\tulsPurpose: 'input-settings'\n\t\t\t} );\n\n\t\t\t$moreLanguagesButton.on( 'click', () => {\n\t\t\t\tinputSettings.$parent.hide();\n\t\t\t\tmw.hook( 'mw.uls.ime.morelanguages' ).fire();\n\t\t\t} );\n\t\t},\n\n\t\tprepareToggleButton: function () {\n\t\t\tconst $toggleButton = this.$template.find( '.uls-input-toggle-button' );\n\t\t\tconst $toggleButtonDesc = this.$template\n\t\t\t\t.find( '.uls-input-settings-disable-info' );\n\n\t\t\tif ( $.ime.preferences.isEnabled() ) {\n\t\t\t\t$toggleButton.data( 'i18n', 'ext-uls-input-disable' );\n\t\t\t\t$toggleButtonDesc.hide();\n\t\t\t} else {\n\t\t\t\t$toggleButton.data( 'i18n', 'ext-uls-input-enable' );\n\t\t\t\t$toggleButtonDesc.data( 'i18n', 'ext-uls-input-disable-info' ).show();\n\t\t\t}\n\n\t\t\t$toggleButton.i18n();\n\t\t\t$toggleButtonDesc.i18n();\n\t\t},\n\n\t\t/**\n\t\t * Get previous languages\n\t\t *\n\t\t * @return {Array}\n\t\t */\n\t\tfrequentLanguageList: function () {\n\t\t\treturn mw.uls.getFrequentLanguageList();\n\t\t},\n\n\t\t/**\n\t\t * Get the current user interface language.\n\t\t *\n\t\t * @return {string} Current UI language\n\t\t */\n\t\tgetInterfaceLanguage: function () {\n\t\t\treturn mw.config.get( 'wgUserLanguage' );\n\t\t},\n\n\t\t/**\n\t\t * Get the current content language.\n\t\t *\n\t\t * @return {string} Current content language\n\t\t */\n\t\tgetContentLanguage: function () {\n\t\t\treturn mw.config.get( 'wgContentLanguage' );\n\t\t},\n\n\t\t/**\n\t\t * Register general event listeners\n\t\t */\n\t\tlisten: function () {\n\t\t\tconst $imeListContainer = this.$template.find( '.uls-input-settings-inputmethods-list' );\n\n\t\t\t$imeListContainer.on( 'change', 'input:radio[name=ime]:checked', ( event ) => {\n\t\t\t\tthis.markDirty();\n\t\t\t\t$.ime.preferences.setIM( event.target.value );\n\t\t\t} );\n\n\t\t\tthis.$template.find( 'button.uls-input-toggle-button' )\n\t\t\t\t.on( 'click', () => {\n\t\t\t\t\tthis.markDirty();\n\n\t\t\t\t\tif ( $.ime.preferences.isEnabled() ) {\n\t\t\t\t\t\tthis.disableInputTools();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.enableInputTools();\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t},\n\n\t\t/**\n\t\t * Disable input tools\n\t\t */\n\t\tdisableInputTools: function () {\n\t\t\t$.ime.preferences.disable();\n\t\t\tmw.ime.disable();\n\t\t\tthis.$template.find( '.enabled-only' ).addClass( 'hide' );\n\t\t\tthis.prepareToggleButton();\n\t\t},\n\n\t\t/**\n\t\t * Enable input tools\n\t\t */\n\t\tenableInputTools: function () {\n\t\t\t$.ime.preferences.enable();\n\t\t\tmw.ime.setup();\n\t\t\tthis.$template.find( '.enabled-only' ).removeClass( 'hide' );\n\t\t\tthis.$template.scrollIntoView();\n\t\t\tthis.prepareToggleButton();\n\t\t},\n\n\t\t/**\n\t\t * Close the language settings window.\n\t\t * Depending on the context, actions vary.\n\t\t */\n\t\tclose: function () {\n\t\t\tthis.$parent.close();\n\t\t},\n\n\t\t/**\n\t\t * Callback for save preferences\n\t\t *\n\t\t * @param {boolean} success\n\t\t */\n\t\tonSave: function ( success ) {\n\t\t\tif ( success ) {\n\t\t\t\t// Live ime update\n\t\t\t\tthis.$parent.hide();\n\t\t\t\t// Disable apply button\n\t\t\t\tthis.$parent.disableApplyButton();\n\t\t\t}\n\t\t\t// FIXME in case of failure. what to do?!\n\t\t},\n\n\t\t/**\n\t\t * Handle the apply button press.\n\t\t * Note that the button press may not be from the input settings module.\n\t\t * For example, a user can change input settings and then go to display settings panel,\n\t\t * do some changes and press apply button there. That press is applicable for all\n\t\t * modules.\n\t\t */\n\t\tapply: function () {\n\t\t\tlet previousIM;\n\t\t\tconst previousLanguage = this.savedRegistry.language,\n\t\t\t\tcurrentlyEnabled = $.ime.preferences.isEnabled(),\n\t\t\t\tcurrentLanguage = $.ime.preferences.getLanguage(),\n\t\t\t\tcurrentIM = $.ime.preferences.getIM( currentLanguage );\n\n\t\t\tif ( !this.dirty ) {\n\t\t\t\t// No changes to save in this module.\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$parent.setBusy( true );\n\n\t\t\tif ( previousLanguage ) {\n\t\t\t\tpreviousIM = this.savedRegistry.imes[ previousLanguage ];\n\t\t\t}\n\n\t\t\tif ( currentLanguage !== this.savedRegistry.language ||\n\t\t\t\tcurrentIM !== previousIM\n\t\t\t) {\n\t\t\t\tmw.hook( 'mw.uls.ime.change' ).fire( currentIM );\n\t\t\t}\n\n\t\t\tif ( this.savedRegistry.enable !== currentlyEnabled ) {\n\t\t\t\tmw.hook( currentlyEnabled ? 'mw.uls.ime.enable' : 'mw.uls.ime.disable' )\n\t\t\t\t\t.fire( 'this' );\n\t\t\t}\n\n\t\t\t// Save the preferences\n\t\t\t$.ime.preferences.save( ( result ) => {\n\t\t\t\t// closure for not losing the scope\n\t\t\t\tthis.onSave( result );\n\t\t\t\tthis.dirty = false;\n\t\t\t\t// Update the back-up preferences for the case of canceling\n\t\t\t\tthis.savedRegistry = $.extend( true, {}, $.ime.preferences.registry );\n\t\t\t\tthis.$parent.setBusy( false );\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Cancel the changes done by user for input settings\n\t\t */\n\t\tcancel: function () {\n\t\t\tif ( !this.dirty ) {\n\t\t\t\tthis.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Reload preferences\n\t\t\t$.ime.preferences.registry = $.extend( true, {}, this.savedRegistry );\n\t\t\tthis.uiLanguage = this.getInterfaceLanguage();\n\t\t\tthis.contentLanguage = this.getContentLanguage();\n\t\t\t// Restore the state of IME\n\t\t\tif ( $.ime.preferences.isEnabled() ) {\n\t\t\t\tmw.ime.setup();\n\t\t\t} else {\n\t\t\t\tmw.ime.disable();\n\t\t\t}\n\t\t\tthis.close();\n\t\t}\n\t};\n\n\t// Register this module to language settings modules\n\t$.fn.languagesettings.modules = Object.assign( $.fn.languagesettings.modules, {\n\t\tinput: InputSettings\n\t} );\n\n}() );\n","/*!\n * ULS-based display settings panel\n *\n * Copyright (C) 2012 Alolita Sharma, Amir Aharoni, Arun Ganesh, Brandon Harris,\n * Niklas Laxström, Pau Giner, Santhosh Thottingal, Siebrand Mazeland and other\n * contributors. See CREDITS for a list.\n *\n * UniversalLanguageSelector is dual licensed GPLv2 or later and MIT. You don't\n * have to do anything special to choose one license or the other and you don't\n * have to notify anyone which license you are using. You are free to use\n * UniversalLanguageSelector in commercial projects as long as the copyright\n * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.\n *\n * @file\n * @ingroup Extensions\n * @licence GNU General Public Licence 2.0 or later\n * @licence MIT License\n */\n\n( function () {\n\t'use strict';\n\n\tconst template = '<div class=\"uls-display-settings\">' +\n\n\t\t// Tab switcher buttons\n\t\t'<div class=\"row\">' +\n\t\t'<div class=\"twelve columns uls-display-settings-tab-switcher\">' +\n\t\t'<div class=\"uls-button-group cdx-button-group\">' +\n\t\t'<button id=\"uls-display-settings-language-tab\" class=\"cdx-button uls-cdx-button-pressed\" ' +\n\t\t'data-i18n=\"ext-uls-display-settings-language-tab\"></button>' +\n\t\t'<button id=\"uls-display-settings-fonts-tab\" class=\"cdx-button\" data-i18n=\"ext-uls-display-settings-fonts-tab\"></button>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\n\t\t// Begin display language sub-panel\n\t\t'<div class=\"uls-sub-panel uls-display-settings-language-tab\">' +\n\n\t\t// \"Display language\", title above the buttons row\n\t\t'<div class=\"row\">' +\n\t\t'<div class=\"twelve columns\">' +\n\t\t'<h4 data-i18n=\"ext-uls-display-settings-ui-language\"></h4>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\n\t\t// UI languages buttons row\n\t\t'<div class=\"row\">' +\n\t\t'<div class=\"uls-ui-languages twelve columns\">' +\n\t\t'<p data-i18n=\"ext-uls-language-buttons-help\"></p>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\n\t\t// End display language section\n\t\t'</div>' +\n\n\t\t// Begin font settings section, hidden by default\n\t\t'<div class=\"uls-sub-panel uls-display-settings-fonts-tab hide\">' +\n\n\t\t// \"Font settings\" title\n\t\t'<div class=\"row\">' +\n\t\t'<div class=\"twelve columns\">' +\n\t\t'<h4 data-i18n=\"ext-uls-display-settings-font-settings\"></h4>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\n\t\t'<div id=\"uls-display-settings-font-selectors\" class=\"uls-display-settings-font-selectors\">' +\n\n\t\t// Menus font selection dropdown with label\n\t\t'<div class=\"row uls-font-item uls-content-fonts\">' +\n\t\t'<div class=\"six columns\">' +\n\t\t'<label class=\"uls-font-label\" id=\"content-font-selector-label\"></label>' +\n\t\t'</div>' +\n\t\t'<select id=\"content-font-selector\" class=\"four columns end uls-font-select\"></select>' +\n\t\t'</div>' +\n\n\t\t// Content font selection dropdown with label\n\t\t'<div class=\"row uls-font-item uls-ui-fonts\">' +\n\t\t'<div class=\"six columns\">' +\n\t\t'<label class=\"uls-font-label\" id=\"ui-font-selector-label\"></label>' +\n\t\t'</div>' +\n\t\t'<select id=\"ui-font-selector\" class=\"four columns end uls-font-select\"></select>' +\n\t\t'</div>' +\n\n\t\t// End font selectors\n\t\t'</div>' +\n\n\t\t// Webfonts enabling checkbox with label\n\t\t'<div class=\"row\">' +\n\t\t'<div class=\"twelve columns\">' +\n\t\t'<div class=\"cdx-checkbox\">' +\n\t\t'<input type=\"checkbox\" id=\"webfonts-enable-checkbox\" class=\"cdx-checkbox__input\" />' +\n\t\t'<span class=\"cdx-checkbox__icon\"></span>' +\n\t\t'<label class=\"checkbox cdx-checkbox__label\" for=\"webfonts-enable-checkbox\" >' +\n\t\t'<strong data-i18n=\"ext-uls-webfonts-settings-title\"></strong> ' +\n\t\t'<span data-i18n=\"ext-uls-webfonts-settings-info\"></span> ' +\n\t\t'<a target=\"_blank\" href=\"https://www.mediawiki.org/wiki/Universal_Language_Selector/WebFonts\" data-i18n=\"ext-uls-webfonts-settings-info-link\"></a>' +\n\t\t'</label>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\n\t\t// End font settings section\n\t\t'</div>';\n\n\tfunction DisplaySettings( $parent ) {\n\t\tthis.nameI18n = 'ext-uls-display-settings-title-short';\n\t\tthis.descriptionI18n = 'ext-uls-display-settings-desc';\n\t\tthis.$template = $( template );\n\t\tthis.uiLanguage = this.getUILanguage();\n\t\tthis.contentLanguage = this.getContentLanguage();\n\t\tthis.$webfonts = null;\n\t\tthis.$parent = $parent;\n\t\tthis.savedRegistry = $.extend( true, {}, mw.webfonts.preferences );\n\t\tthis.dirty = false;\n\t}\n\n\tDisplaySettings.prototype = {\n\n\t\tconstructor: DisplaySettings,\n\n\t\t/**\n\t\t * Loads the webfonts module sets the `webfonts` property when its safe to do so\n\t\t *\n\t\t * @return {jQuery.Promise}\n\t\t */\n\t\tsetupWebFonts: function () {\n\t\t\tconst d = $.Deferred();\n\t\t\tmw.loader.using( [ 'ext.uls.webfonts.repository', '@wikimedia/codex' ] ).then( () => {\n\t\t\t\tif ( this.isWebFontsEnabled ) {\n\t\t\t\t\tmw.webfonts.setup();\n\t\t\t\t}\n\n\t\t\t\t// Allow the webfonts library to finish loading (hack)\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\tthis.$webfonts = $( document.body ).data( 'webfonts' );\n\t\t\t\t\td.resolve();\n\t\t\t\t}, 1 );\n\t\t\t} );\n\t\t\treturn d.promise();\n\t\t},\n\t\t/**\n\t\t * Render the module into a given target\n\t\t */\n\t\trender: function () {\n\t\t\tthis.setupWebFonts().then( () => {\n\t\t\t\tthis.renderAfterDependenciesLoaded();\n\t\t\t} );\n\t\t},\n\t\t/**\n\t\t * Render the module into a given target after all\n\t\t */\n\t\trenderAfterDependenciesLoaded: function () {\n\t\t\tthis.$parent.$settingsPanel.empty();\n\t\t\tthis.$parent.$settingsPanel.append( this.$template );\n\t\t\tthis.prepareLanguages();\n\t\t\tthis.prepareUIFonts();\n\t\t\tthis.prepareContentFonts();\n\t\t\tthis.prepareWebfontsCheckbox();\n\n\t\t\t// Usually this is already loaded, but when changing language it\n\t\t\t// might not be.\n\t\t\tthis.preview( this.uiLanguage );\n\t\t\tthis.listen();\n\t\t},\n\n\t\tprepareWebfontsCheckbox: function () {\n\t\t\tconst webFontsEnabled = this.isWebFontsEnabled();\n\n\t\t\tif ( !webFontsEnabled ) {\n\t\t\t\t$( '#uls-display-settings-font-selectors' ).addClass( 'hide' );\n\t\t\t}\n\n\t\t\t$( '#webfonts-enable-checkbox' ).prop( 'checked', webFontsEnabled );\n\t\t},\n\n\t\tisWebFontsEnabled: function () {\n\t\t\treturn mw.webfonts.preferences.isEnabled();\n\t\t},\n\n\t\t/**\n\t\t * Prepare the UI language selector\n\t\t */\n\t\tprepareLanguages: function () {\n\t\t\tconst displaySettings = this,\n\t\t\t\tSUGGESTED_LANGUAGES_NUMBER = 3,\n\t\t\t\tanonsAllowed = mw.config.get( 'wgULSAnonCanChangeLanguage' );\n\n\t\t\t// Don't let anonymous users change interface language\n\t\t\tif ( !anonsAllowed && !mw.user.isNamed() ) {\n\t\t\t\tconst $loginCta = $( '<p>' )\n\t\t\t\t\t.attr( 'id', 'uls-display-settings-anon-log-in-cta' );\n\t\t\t\tconst autonym = $.uls.data.getAutonym( this.contentLanguage );\n\n\t\t\t\tthis.$template.find( '.uls-display-settings-language-tab' )\n\t\t\t\t\t.empty()\n\t\t\t\t\t.append(\n\t\t\t\t\t\t$( '<p>' ).append(\n\t\t\t\t\t\t\t$( '<span>' )\n\t\t\t\t\t\t\t\t.addClass( 'uls-display-settings-anon-label' )\n\t\t\t\t\t\t\t\t.text( $.i18n( 'ext-uls-display-settings-anon-label' ) + '\\u00A0' ),\n\t\t\t\t\t\t\t$( '<span>' )\n\t\t\t\t\t\t\t\t.text( $.i18n( 'ext-uls-display-settings-anon-same-as-content', autonym ) )\n\t\t\t\t\t\t),\n\t\t\t\t\t\t$loginCta\n\t\t\t\t\t);\n\n\t\t\t\tnew mw.Api().parse( $.i18n( 'ext-uls-display-settings-anon-log-in-cta' ) )\n\t\t\t\t\t.done( ( parsedCta ) => {\n\t\t\t\t\t\t// The parsed CTA is HTML\n\t\t\t\t\t\t$loginCta.html( parsedCta );\n\t\t\t\t\t\t$loginCta.find( 'a' ).on( 'click', () => {\n\t\t\t\t\t\t\t// If EventLogging is installed and enabled for ULS, give it a\n\t\t\t\t\t\t\t// chance to log this event. There is no promise provided and in\n\t\t\t\t\t\t\t// most browsers this will use the Beacon API in the background.\n\t\t\t\t\t\t\t// In older browsers, this event will likely get lost.\n\t\t\t\t\t\t\tmw.hook( 'mw.uls.login.click' );\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst $languages = this.$template.find( 'div.uls-ui-languages' );\n\t\t\tconst suggestedLanguages = this.frequentLanguageList()\n\t\t\t\t// Common world languages, for the case that there are\n\t\t\t\t// too few suggested languages\n\t\t\t\t.concat( [ 'en', 'zh-hans', 'zh-hant', 'fr' ] );\n\n\t\t\t// Content language is always on the first button\n\t\t\tconst languagesForButtons = [ this.contentLanguage ];\n\n\t\t\t// This is needed when drawing the panel for the second time\n\t\t\t// after selecting a different language\n\t\t\t$languages.find( 'button' ).remove();\n\n\t\t\t// UI language must always be present\n\t\t\tif ( this.uiLanguage !== this.contentLanguage ) {\n\t\t\t\tlanguagesForButtons.push( this.uiLanguage );\n\t\t\t}\n\n\t\t\tfor ( const lang in suggestedLanguages ) {\n\t\t\t\t// Skip already found languages\n\t\t\t\tif ( languagesForButtons.includes( suggestedLanguages[ lang ] ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlanguagesForButtons.push( suggestedLanguages[ lang ] );\n\n\t\t\t\t// No need to add more languages than buttons\n\t\t\t\tif ( languagesForButtons.length >= SUGGESTED_LANGUAGES_NUMBER ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction buttonHandler( button ) {\n\t\t\t\treturn function () {\n\t\t\t\t\tdisplaySettings.markDirty();\n\t\t\t\t\tdisplaySettings.uiLanguage = button.data( 'language' ) || displaySettings.uiLanguage;\n\t\t\t\t\t$( 'div.uls-ui-languages button.cdx-button' ).removeClass( 'uls-cdx-button-pressed' );\n\t\t\t\t\tbutton.addClass( 'uls-cdx-button-pressed' );\n\t\t\t\t\tdisplaySettings.prepareUIFonts();\n\t\t\t\t\tdisplaySettings.preview( displaySettings.uiLanguage );\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Add the buttons for the most likely languages\n\t\t\tfor ( let i = 0; i < SUGGESTED_LANGUAGES_NUMBER; i++ ) {\n\t\t\t\tconst language = languagesForButtons[ i ];\n\t\t\t\tconst $button = $( '<button>' )\n\t\t\t\t\t.addClass( 'cdx-button uls-language-button autonym' )\n\t\t\t\t\t.text( $.uls.data.getAutonym( language ) )\n\t\t\t\t\t.prop( {\n\t\t\t\t\t\tlang: language,\n\t\t\t\t\t\tdir: $.uls.data.getDir( language )\n\t\t\t\t\t} );\n\n\t\t\t\tif ( language === this.uiLanguage ) {\n\t\t\t\t\t$button.addClass( 'uls-cdx-button-pressed' );\n\t\t\t\t}\n\n\t\t\t\t$button.data( 'language', language );\n\t\t\t\t$languages.append( $button );\n\t\t\t\t$button.on( 'click', buttonHandler( $button ) );\n\t\t\t}\n\n\t\t\tthis.prepareMoreLanguages();\n\t\t},\n\n\t\t/**\n\t\t * Prepare the more languages button. It is a ULS trigger\n\t\t */\n\t\tprepareMoreLanguages: function () {\n\t\t\tconst displaySettings = this;\n\n\t\t\tconst $languages = this.$template.find( 'div.uls-ui-languages' );\n\t\t\tconst $moreLanguagesButton = $( '<button>' )\n\t\t\t\t.prop( 'class', 'uls-more-languages' )\n\t\t\t\t.addClass( 'cdx-button' ).text( '...' );\n\n\t\t\t$languages.append( $moreLanguagesButton );\n\t\t\t// Show the long language list to select a language for display settings\n\t\t\t$moreLanguagesButton.uls( {\n\t\t\t\tonPosition: this.$parent.position.bind( this.$parent ),\n\t\t\t\tonReady: function () {\n\t\t\t\t\tconst $back = $( '<div>' )\n\t\t\t\t\t\t.addClass( 'uls-icon-back' );\n\n\t\t\t\t\t$back.on( 'click', () => {\n\t\t\t\t\t\tthis.hide();\n\t\t\t\t\t\tdisplaySettings.$parent.show();\n\t\t\t\t\t} );\n\n\t\t\t\t\tconst $wrap = $( '<div>' )\n\t\t\t\t\t\t.addClass( 'uls-search-wrapper-wrapper' );\n\n\t\t\t\t\tthis.$menu.find( '.uls-search-wrapper' ).wrap( $wrap );\n\t\t\t\t\tthis.$menu.find( '.uls-search-wrapper-wrapper' ).prepend( $back );\n\n\t\t\t\t\t// Copy callout related classes from parent\n\t\t\t\t\t// eslint-disable-next-line no-jquery/no-class-state\n\t\t\t\t\tthis.$menu.toggleClass( 'selector-left', displaySettings.$parent.$window.hasClass( 'selector-left' ) );\n\t\t\t\t\t// eslint-disable-next-line no-jquery/no-class-state\n\t\t\t\t\tthis.$menu.toggleClass( 'selector-right', displaySettings.$parent.$window.hasClass( 'selector-right' ) );\n\t\t\t\t},\n\t\t\t\tonVisible: function () {\n\t\t\t\t\tthis.$menu.find( '.uls-languagefilter' )\n\t\t\t\t\t\t.prop( 'placeholder', $.i18n( 'ext-uls-display-settings-ui-language' ) );\n\n\t\t\t\t\t// eslint-disable-next-line no-jquery/no-class-state\n\t\t\t\t\tif ( !displaySettings.$parent.$window.hasClass( 'callout' ) ) {\n\t\t\t\t\t\t// Callout menus will have position rules.\n\t\t\t\t\t\t// Others use the default position.\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If the ULS is shown in the sidebar,\n\t\t\t\t\t// add a caret pointing to the icon\n\t\t\t\t\t// eslint-disable-next-line no-jquery/no-class-state\n\t\t\t\t\tif ( displaySettings.$parent.$window.hasClass( 'callout' ) ) {\n\t\t\t\t\t\tthis.$menu.addClass( 'callout callout--languageselection' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$menu.removeClass( 'callout' );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonSelect: function ( langCode ) {\n\t\t\t\t\tdisplaySettings.uiLanguage = langCode;\n\t\t\t\t\tdisplaySettings.$template.attr( 'lang', langCode );\n\t\t\t\t\t// This re-renders the whole thing\n\t\t\t\t\tdisplaySettings.$parent.show();\n\t\t\t\t\t// And the only thing we need to take care of is to enable\n\t\t\t\t\t// the apply button\n\t\t\t\t\tdisplaySettings.markDirty();\n\t\t\t\t},\n\t\t\t\tulsPurpose: 'interface-language',\n\t\t\t\tquickList: function () {\n\t\t\t\t\treturn mw.uls.getFrequentLanguageList();\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$moreLanguagesButton.on( 'click', () => {\n\t\t\t\tdisplaySettings.$parent.hide();\n\t\t\t\tmw.hook( 'mw.uls.interface.morelanguages' ).fire();\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Preview the settings panel in the given language\n\t\t *\n\t\t * @param {string} language Language code\n\t\t */\n\t\tpreview: function ( language ) {\n\t\t\t// Reset the language and font for the panel.\n\t\t\tthis.$template.attr( 'lang', language )\n\t\t\t\t.css( 'font-family', '' );\n\t\t\t$.i18n().locale = language;\n\t\t\tmw.uls.loadLocalization( language ).done( () => {\n\t\t\t\tthis.i18n();\n\t\t\t\tif ( this.$webfonts ) {\n\t\t\t\t\tthis.$webfonts.refresh();\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Get previous languages\n\t\t *\n\t\t * @return {Array}\n\t\t */\n\t\tfrequentLanguageList: function () {\n\t\t\treturn mw.uls.getFrequentLanguageList();\n\t\t},\n\n\t\t/**\n\t\t * Get the current user interface language.\n\t\t *\n\t\t * @return {string} Current UI language\n\t\t */\n\t\tgetUILanguage: function () {\n\t\t\treturn mw.config.get( 'wgUserLanguage' );\n\t\t},\n\n\t\t/**\n\t\t * Get the current content language.\n\t\t *\n\t\t * @return {string} Current content language\n\t\t */\n\t\tgetContentLanguage: function () {\n\t\t\treturn mw.config.get( 'wgContentLanguage' );\n\t\t},\n\n\t\t/**\n\t\t * Prepare a font selector section with a label and a selector element.\n\t\t *\n\t\t * @param {string} target 'ui' or 'content'\n\t\t */\n\t\tprepareFontSelector: function ( target ) {\n\t\t\t// Get the language code from the right property -\n\t\t\t// uiLanguage or contentLanguage\n\t\t\tconst language = this[ target + 'Language' ];\n\t\t\tlet fonts;\n\t\t\tif ( this.isWebFontsEnabled() ) {\n\t\t\t\tfonts = this.$webfonts.list( language );\n\t\t\t} else {\n\t\t\t\tfonts = [];\n\t\t\t}\n\n\t\t\t// Possible classes:\n\t\t\t// uls-ui-fonts\n\t\t\t// uls-content-fonts\n\t\t\tconst $fontsSection = this.$template.find( 'div.uls-' + target + '-fonts' );\n\n\t\t\t// The section may be visible from the previous time\n\t\t\t// the user opened the dialog, so we need to hide it.\n\t\t\tif ( fonts.length === 0 ) {\n\t\t\t\t$fontsSection.hide();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$fontsSection.show();\n\t\t\t// Possible ids:\n\t\t\t// uls-ui-font-selector\n\t\t\t// uls-content-font-selector\n\t\t\tconst $fontSelector = this.$template.find( '#' + target + '-font-selector' );\n\n\t\t\t// Remove all current fonts\n\t\t\t$fontSelector.find( 'option' ).remove();\n\n\t\t\t// Get the saved font using the fontSelector defined in mw.webfonts.setup\n\t\t\tconst savedFont = this.$webfonts.getFont( language );\n\t\t\tfonts.forEach( ( font ) => {\n\t\t\t\tif ( font !== 'system' ) {\n\t\t\t\t\tconst $fontOption = $( '<option>' ).attr( 'value', font ).text( font );\n\t\t\t\t\t$fontSelector.append( $fontOption );\n\t\t\t\t\t$fontOption.prop( 'selected', savedFont === font );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$fontSelector.prop( 'disabled', !this.isWebFontsEnabled() );\n\n\t\t\t// Using attr() instead of data() because jquery.i18n doesn't\n\t\t\t// currently see latter.\n\t\t\tconst $systemFont = $( '<option>' )\n\t\t\t\t.val( 'system' )\n\t\t\t\t.attr( 'data-i18n', 'ext-uls-webfonts-system-font' );\n\t\t\t$fontSelector.append( $systemFont );\n\t\t\t$systemFont.prop( 'selected', savedFont === 'system' || !savedFont );\n\n\t\t\t// Possible ids:\n\t\t\t// uls-ui-font-selector-label\n\t\t\t// uls-content-font-selector-label\n\t\t\tconst $fontLabel = this.$template.find( '#' + target + '-font-selector-label' );\n\t\t\t$fontLabel.empty().append( $( '<strong>' ) );\n\n\t\t\t// Possible messages:\n\t\t\t// ext-uls-webfonts-select-for-ui-info\n\t\t\t// ext-uls-webfonts-select-for-content-info\n\t\t\t$fontLabel.append( $( '<div>' )\n\t\t\t\t.attr( 'data-i18n', 'ext-uls-webfonts-select-for-' + target + '-info' ) );\n\t\t},\n\n\t\t/**\n\t\t * i18n this settings panel\n\t\t */\n\t\ti18n: function () {\n\t\t\tthis.$parent.i18n();\n\t\t\tthis.$template.find( '#ui-font-selector-label strong' )\n\t\t\t\t.text( $.i18n( 'ext-uls-webfonts-select-for', $.uls.data.getAutonym( this.uiLanguage ) ) );\n\t\t\tthis.$template.find( '#content-font-selector-label strong' )\n\t\t\t\t.text( $.i18n( 'ext-uls-webfonts-select-for', $.uls.data.getAutonym( this.contentLanguage ) ) );\n\t\t},\n\n\t\t/**\n\t\t * Prepare the font selector for UI language.\n\t\t */\n\t\tprepareUIFonts: function () {\n\t\t\tif ( this.uiLanguage === this.contentLanguage ) {\n\t\t\t\tthis.$template.find( 'div.uls-ui-fonts' ).hide();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.prepareFontSelector( 'ui' );\n\t\t},\n\n\t\t/**\n\t\t * Prepare the font selector for UI language.\n\t\t */\n\t\tprepareContentFonts: function () {\n\t\t\tthis.prepareFontSelector( 'content' );\n\t\t},\n\n\t\t/**\n\t\t * Mark dirty, there are unsaved changes. Enable the apply button.\n\t\t * Useful in many places when something changes.\n\t\t */\n\t\tmarkDirty: function () {\n\t\t\tthis.dirty = true;\n\t\t\tthis.$parent.enableApplyButton();\n\t\t},\n\n\t\t/**\n\t\t * Register general event listeners\n\t\t */\n\t\tlisten: function () {\n\t\t\tconst displaySettings = this,\n\t\t\t\t$contentFontSelector = this.$template.find( '#content-font-selector' ),\n\t\t\t\t$uiFontSelector = this.$template.find( '#ui-font-selector' ),\n\t\t\t\t$tabButtons = displaySettings.$template.find( '.uls-display-settings-tab-switcher button' );\n\n\t\t\t$( '#webfonts-enable-checkbox' ).on( 'click', function () {\n\t\t\t\tconst $fontSelectors = $( '#uls-display-settings-font-selectors' );\n\n\t\t\t\tdisplaySettings.markDirty();\n\n\t\t\t\tif ( this.checked ) {\n\t\t\t\t\tdisplaySettings.setupWebFonts().then( () => {\n\t\t\t\t\t\tmw.webfonts.preferences.enable();\n\n\t\t\t\t\t\tdisplaySettings.prepareContentFonts();\n\t\t\t\t\t\tdisplaySettings.prepareUIFonts();\n\n\t\t\t\t\t\tdisplaySettings.i18n();\n\t\t\t\t\t\t// eslint-disable-next-line no-jquery/no-sizzle\n\t\t\t\t\t\tdisplaySettings.$webfonts.apply( $uiFontSelector.find( 'option:selected' ) );\n\t\t\t\t\t\tdisplaySettings.$webfonts.refresh();\n\n\t\t\t\t\t\t$fontSelectors.removeClass( 'hide' );\n\t\t\t\t\t} );\n\t\t\t\t} else {\n\t\t\t\t\t$fontSelectors.addClass( 'hide' );\n\t\t\t\t\tmw.webfonts.preferences.disable();\n\t\t\t\t\tmw.webfonts.preferences.setFont( displaySettings.uiLanguage, 'system' );\n\t\t\t\t\tdisplaySettings.$webfonts.refresh();\n\n\t\t\t\t\t$contentFontSelector.prop( 'disabled', true );\n\t\t\t\t\t$uiFontSelector.prop( 'disabled', true );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t$uiFontSelector.on( 'change', function () {\n\t\t\t\tdisplaySettings.markDirty();\n\t\t\t\tmw.webfonts.preferences.setFont( displaySettings.uiLanguage,\n\t\t\t\t\t$( this ).val()\n\t\t\t\t);\n\t\t\t\tdisplaySettings.$webfonts.refresh();\n\t\t\t} );\n\n\t\t\t$contentFontSelector.on( 'change', function () {\n\t\t\t\tdisplaySettings.markDirty();\n\t\t\t\tmw.webfonts.preferences.setFont( displaySettings.contentLanguage,\n\t\t\t\t\t$( this ).val()\n\t\t\t\t);\n\t\t\t\tdisplaySettings.$webfonts.refresh();\n\t\t\t} );\n\n\t\t\t$tabButtons.on( 'click', function () {\n\t\t\t\tconst $button = $( this );\n\n\t\t\t\t// eslint-disable-next-line no-jquery/no-class-state\n\t\t\t\tif ( $button.hasClass( 'uls-cdx-button-pressed' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tdisplaySettings.$template.find( '.uls-sub-panel' ).each( function () {\n\t\t\t\t\tconst $subPanel = $( this );\n\n\t\t\t\t\t// eslint-disable-next-line no-jquery/no-class-state\n\t\t\t\t\tif ( $subPanel.hasClass( $button.attr( 'id' ) ) ) {\n\t\t\t\t\t\t$subPanel.removeClass( 'hide' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$subPanel.addClass( 'hide' );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tdisplaySettings.$parent.position();\n\t\t\t\t$tabButtons.removeClass( 'uls-cdx-button-pressed' );\n\t\t\t\t$button.addClass( 'uls-cdx-button-pressed' );\n\t\t\t} ).on( 'mousedown', ( event ) => {\n\t\t\t\t// Avoid taking focus, to avoid bad looking focus styles\n\t\t\t\tevent.preventDefault();\n\t\t\t} );\n\n\t\t},\n\n\t\t/**\n\t\t * Close the language settings window.\n\t\t * Depending on the context, actions vary.\n\t\t */\n\t\tclose: function () {\n\t\t\tthis.$parent.close();\n\t\t},\n\n\t\t/**\n\t\t * Callback for save preferences\n\t\t *\n\t\t * @param {boolean} success\n\t\t */\n\t\tonSave: function ( success ) {\n\t\t\tif ( success ) {\n\t\t\t\tif ( this.$webfonts ) {\n\t\t\t\t\t// Live font update\n\t\t\t\t\tthis.$webfonts.refresh();\n\t\t\t\t}\n\n\t\t\t\tthis.$parent.hide();\n\t\t\t\t// we delay change UI language to here, because it causes a page refresh\n\t\t\t\tif ( this.uiLanguage !== this.getUILanguage() ) {\n\t\t\t\t\tmw.uls.changeLanguage( this.uiLanguage );\n\t\t\t\t}\n\t\t\t\t// Disable apply button\n\t\t\t\tthis.$parent.disableApplyButton();\n\t\t\t} // @todo What to do in case of failure?\n\t\t},\n\n\t\t/**\n\t\t * Handle the apply button press.\n\t\t * Note that the button press may not be from the input settings module.\n\t\t * For example, a user can change input settings and then go to display settings panel,\n\t\t * do some changes and press apply button there. That press is applicable for all\n\t\t * modules.\n\t\t */\n\t\tapply: function () {\n\t\t\tif ( !this.dirty ) {\n\t\t\t\t// No changes to save in this module.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$parent.setBusy( true );\n\t\t\t// Save the preferences\n\t\t\tmw.webfonts.preferences.save( ( result ) => {\n\t\t\t\tconst newRegistry = mw.webfonts.preferences.registry,\n\t\t\t\t\toldRegistry = this.savedRegistry.registry,\n\t\t\t\t\tnewFonts = newRegistry.fonts || {},\n\t\t\t\t\toldFonts = oldRegistry.fonts || {};\n\n\t\t\t\tconst newWebfontsEnable = newRegistry.webfontsEnabled;\n\t\t\t\tlet oldWebfontsEnable = oldRegistry.webfontsEnabled;\n\t\t\t\tif ( oldWebfontsEnable === undefined ) {\n\t\t\t\t\toldWebfontsEnable = mw.config.get( 'wgULSWebfontsEnabled' );\n\t\t\t\t}\n\n\t\t\t\tif ( newWebfontsEnable !== oldWebfontsEnable ) {\n\t\t\t\t\tconst webfontsEvent = newWebfontsEnable ?\n\t\t\t\t\t\t'mw.uls.webfonts.enable' :\n\t\t\t\t\t\t'mw.uls.webfonts.disable';\n\t\t\t\t\tmw.hook( webfontsEvent ).fire( 'displaysettings' );\n\t\t\t\t}\n\n\t\t\t\tif ( newFonts[ this.uiLanguage ] !== oldFonts[ this.uiLanguage ] ) {\n\t\t\t\t\tmw.hook( 'mw.uls.font.change' ).fire(\n\t\t\t\t\t\t'interface', this.uiLanguage, newFonts[ this.uiLanguage ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif ( newFonts[ this.contentLanguage ] !== oldFonts[ this.contentLanguage ] ) {\n\t\t\t\t\tmw.hook( 'mw.uls.font.change' ).fire(\n\t\t\t\t\t\t'content', this.contentLanguage, newFonts[ this.contentLanguage ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// closure for not losing the scope\n\t\t\t\tthis.onSave( result );\n\t\t\t\tthis.dirty = false;\n\t\t\t\t// Update the back-up preferences for the case of canceling\n\t\t\t\tthis.savedRegistry = $.extend( true, {}, mw.webfonts.preferences );\n\t\t\t\tthis.$parent.setBusy( false );\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Cancel the changes done by user for display settings\n\t\t */\n\t\tcancel: function () {\n\t\t\tif ( !this.dirty ) {\n\t\t\t\tthis.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Reload preferences\n\t\t\tmw.webfonts.preferences = $.extend( true, {}, this.savedRegistry );\n\n\t\t\t// Restore fonts\n\t\t\tif ( this.$webfonts ) {\n\t\t\t\tthis.$webfonts.refresh();\n\t\t\t}\n\n\t\t\t// Restore content and UI language\n\t\t\tthis.uiLanguage = this.getUILanguage();\n\t\t\tthis.contentLanguage = this.getContentLanguage();\n\n\t\t\tthis.close();\n\t\t}\n\t};\n\n\t// Register this module to language settings modules\n\t$.fn.languagesettings.modules = Object.assign( $.fn.languagesettings.modules, {\n\t\tdisplay: DisplaySettings\n\t} );\n}() );\n"],
"names": [],
"mappings": "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"
}
},
{"offset":{"line":25,"column":0},"map":{
"version": 3,
"file": "/w/load.php?lang=ru&modules=ext.uls.displaysettings%2Clanguagesettings&skin=vector&version=18p8y",
"sources": ["/w/extensions/UniversalLanguageSelector/resources/js/ext.uls.languagesettings.js"],
"sourcesContent": ["/*!\n * ULS-based language settings dialog for MediaWiki.\n *\n * Copyright (C) 2012 Alolita Sharma, Amir Aharoni, Arun Ganesh, Brandon Harris,\n * Niklas Laxström, Pau Giner, Santhosh Thottingal, Siebrand Mazeland and other\n * contributors. See CREDITS for a list.\n *\n * UniversalLanguageSelector is dual licensed GPLv2 or later and MIT. You don't\n * have to do anything special to choose one license or the other and you don't\n * have to notify anyone which license you are using. You are free to use\n * UniversalLanguageSelector in commercial projects as long as the copyright\n * header is left intact. See files GPL-LICENSE and MIT-LICENSE for details.\n *\n * @file\n * @ingroup Extensions\n * @licence GNU General Public Licence 2.0 or later\n * @licence MIT License\n */\n\n( function () {\n\t'use strict';\n\n\tconst closeRow = '<div class=\"row\">' +\n\t\t'<div class=\"uls-language-settings-close-block eight columns offset-by-four\"><span id=\"languagesettings-close\" class=\"uls-icon-close\"></span></div>' +\n\t\t'</div>';\n\tconst settingsMenu = '<div class=\"four columns languagesettings-menu\">' +\n\t\t'<h1 data-i18n=\"ext-uls-language-settings-title\"></h1>' +\n\t\t'<div class=\"settings-menu-items\">' +\n\t\t'</div>' +\n\t\t'</div>';\n\tconst settingsPanel = '<div id=\"languagesettings-settings-panel\" class=\"eight columns\">' +\n\t\t'</div>';\n\t// Apply and Cancel buttons\n\tconst buttonsRow = '<div class=\"row collapse language-settings-buttons\">' +\n\t\t'<div class=\"twelve columns\">' +\n\t\t'<button class=\"cdx-button uls-settings-cancel\" data-i18n=\"ext-uls-language-settings-cancel\"></button>' +\n\t\t'<button class=\"cdx-button cdx-button--weight-primary cdx-button--action-progressive active uls-settings-apply\" data-i18n=\"ext-uls-language-settings-apply\" disabled></button>' +\n\t\t'</div>' +\n\t\t'</div>' +\n\t\t'</div>';\n\tconst panelsRow = '<div class=\"row\" id=\"languagesettings-panels\">' +\n\t\tsettingsMenu +\n\t\tsettingsPanel +\n\t\t'</div>';\n\t// Note that the `no-font-mode-scale` class is a temporary workaround to prevent Codex\n\t// components in the dialog from scaling with text size in Vector 2022; do not use it elsewhere.\n\tconst windowTemplate = '<div style=\"display: block;\" id=\"language-settings-dialog\" class=\"language-settings-dialog grid uls-menu uls-wide notheme no-font-mode-scale skin-invert\">' +\n\t\tcloseRow +\n\t\tpanelsRow +\n\t\tbuttonsRow +\n\t\t'</div>';\n\n\tfunction LanguageSettings( element, options ) {\n\t\tthis.$element = $( element );\n\t\tthis.options = Object.assign( {}, $.fn.languagesettings.defaults, options );\n\t\tthis.$window = $( this.options.template );\n\t\tthis.shown = false;\n\t\tthis.initialized = false;\n\t\tthis.left = this.options.left;\n\t\tthis.top = this.options.top;\n\t\tthis.modules = {};\n\t\tthis.$settingsPanel = this.$window.find( '#languagesettings-settings-panel' );\n\t\tthis.$applyButton = this.$window.find( '.uls-settings-apply' );\n\t\tthis.init();\n\t\tthis.listen();\n\n\t\tif ( options.autoOpen ) {\n\t\t\tthis.show();\n\t\t}\n\t}\n\n\tLanguageSettings.prototype = {\n\t\tconstructor: LanguageSettings,\n\n\t\tinit: function () {\n\t\t\t$( document.body ).append( this.$window );\n\t\t\tthis.hide();\n\t\t},\n\n\t\t// Register all event listeners to the ULS language settings here.\n\t\tlisten: function () {\n\t\t\tthis.$element.on( 'click', this.click.bind( this ) );\n\n\t\t\tthis.$window.find( '#languagesettings-close, button.uls-settings-cancel' )\n\t\t\t\t.on( 'click', mw.hook( 'mw.uls.settings.cancel' ).fire.bind( this ) );\n\t\t\tthis.$applyButton\n\t\t\t\t.on( 'click', mw.hook( 'mw.uls.settings.apply' ).fire.bind( this ) );\n\t\t\t// Hide the window when clicked outside\n\t\t\t$( document.documentElement ).on( 'click', this.hide.bind( this ) );\n\n\t\t\t// ... but when clicked on window do not hide.\n\t\t\tthis.$window.on( 'click', ( event ) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t} );\n\n\t\t\t// Map Escape to same action as the close button. This is keyup (and not keydown)\n\t\t\t// because ULS also listens to keyup and we need to stop propagation.\n\t\t\tthis.$window.on( 'keyup', ( event ) => {\n\t\t\t\tif ( event.which === 27 ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tmw.hook( 'mw.uls.settings.cancel' ).fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\n\t\trender: function () {\n\t\t\tlet defaultModule = this.options.defaultModule;\n\n\t\t\t// Get the name of all registered modules and list them in left side menu.\n\t\t\t// Sort the modules based on id\n\t\t\tconst modules = Object.keys( $.fn.languagesettings.modules ).sort();\n\t\t\tmodules.forEach( ( moduleName ) => {\n\t\t\t\tif ( !defaultModule ) {\n\t\t\t\t\tdefaultModule = moduleName;\n\t\t\t\t}\n\n\t\t\t\t// Call render function on the current setting module.\n\t\t\t\tthis.initModule( moduleName, defaultModule === moduleName );\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Initialize the module.\n\t\t * Render the link and settings area for a language setting module.\n\t\t *\n\t\t * @param {string} moduleName Name of the setting module\n\t\t * @param {boolean} active boolean Make this module active and show by default\n\t\t */\n\t\tinitModule: function ( moduleName, active ) {\n\t\t\tconst module = new $.fn.languagesettings.modules[ moduleName ]( this ),\n\t\t\t\t$settingsMenuItems = this.$window.find( '.settings-menu-items' );\n\n\t\t\tconst $settingsTitle = $( '<div>' )\n\t\t\t\t.addClass( 'settings-title' )\n\t\t\t\t.attr( 'data-i18n', module.nameI18n );\n\t\t\tconst $settingsText = $( '<span>' )\n\t\t\t\t.addClass( 'settings-text' )\n\t\t\t\t.attr( 'data-i18n', module.descriptionI18n );\n\t\t\tconst $settingsLink = $( '<button>' )\n\t\t\t\t// The following classes are used here:\n\t\t\t\t// * display-settings-block\n\t\t\t\t// * input-settings-block\n\t\t\t\t.addClass( moduleName + '-settings-block menu-section' )\n\t\t\t\t.prop( 'id', moduleName + '-panel-trigger' )\n\t\t\t\t.append(\n\t\t\t\t\t$settingsTitle,\n\t\t\t\t\t$settingsText\n\t\t\t\t);\n\n\t\t\tif ( active ) {\n\t\t\t\t$settingsLink.addClass( 'active' );\n\t\t\t}\n\n\t\t\t$settingsMenuItems.append( $settingsLink );\n\n\t\t\t$settingsLink.on( 'click', () => {\n\t\t\t\tmodule.render();\n\t\t\t\t// eslint-disable-next-line no-jquery/no-sizzle\n\t\t\t\tif ( this.$window.is( ':visible' ) ) {\n\t\t\t\t\tthis.$window.scrollIntoView();\n\t\t\t\t}\n\t\t\t\t$settingsMenuItems.find( '.menu-section' ).removeClass( 'active' );\n\t\t\t\t$settingsLink.addClass( 'active' );\n\t\t\t} );\n\n\t\t\tthis.modules[ moduleName ] = module;\n\n\t\t\t// Register cancel and apply hooks\n\t\t\tmw.hook( 'mw.uls.settings.cancel' ).add( module.cancel.bind( module ) );\n\t\t\tmw.hook( 'mw.uls.settings.apply' ).add( module.apply.bind( module ) );\n\t\t},\n\n\t\tposition: function () {\n\t\t\tif ( this.options.onPosition ) {\n\t\t\t\treturn this.options.onPosition.call( this );\n\t\t\t}\n\n\t\t\tthis.top = this.top || this.$element.offset().top + this.$element.outerHeight();\n\t\t\tthis.left = this.left || '25%';\n\t\t\treturn {\n\t\t\t\ttop: this.top,\n\t\t\t\tleft: this.left\n\t\t\t};\n\t\t},\n\n\t\ti18n: function () {\n\t\t\tthis.$window.i18n();\n\t\t},\n\n\t\tshow: function () {\n\t\t\tthis.$window.css( this.position() );\n\n\t\t\tif ( !this.initialized ) {\n\t\t\t\tthis.render();\n\t\t\t\tthis.initialized = true;\n\t\t\t}\n\t\t\t// Close other modal windows which listen to click events outside them\n\t\t\t$( document.documentElement ).trigger( 'click' );\n\t\t\tthis.i18n();\n\t\t\t// Every time we show this window, make sure the current\n\t\t\t// settings panels is up-to-date. So just click on active menu item.\n\t\t\tthis.$window.find( '.settings-menu-items > .active' ).trigger( 'click' );\n\n\t\t\tthis.shown = true;\n\t\t\tthis.$window.show();\n\t\t\tthis.visible();\n\t\t\tthis.$window.scrollIntoView();\n\t\t\t// For keyboard navigation, put the focus on an element inside the dialog\n\t\t\tthis.$window.find( '.menu-section.active' ).trigger( 'focus' );\n\t\t},\n\n\t\t/**\n\t\t * A \"hook\" that runs after the ULS panel becomes visible\n\t\t * by using the show method.\n\t\t *\n\t\t * To use it, pass a function as the onVisible parameter\n\t\t * in the options when initializing ULS.\n\t\t */\n\t\tvisible: function () {\n\t\t\tif ( this.options.onVisible ) {\n\t\t\t\tthis.options.onVisible.call( this );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Hide this window.\n\t\t * Will be used when moving to a different context and\n\t\t * need coming back.\n\t\t */\n\t\thide: function () {\n\t\t\tthis.shown = false;\n\t\t\tthis.$window.hide();\n\t\t},\n\n\t\t/**\n\t\t * Put the language settings panel in busy mode.\n\t\t * Busy mode means displaying a progress cursor,\n\t\t * and showing the 'apply' button as disabled and with\n\t\t * a different label.\n\t\t *\n\t\t * @param {boolean} busy set true to put the panel in busy mode,\n\t\t *     false to unset the busy mode.\n\t\t */\n\t\tsetBusy: function ( busy ) {\n\t\t\tif ( busy ) {\n\t\t\t\tthis.$window.addClass( 'waiting' );\n\t\t\t\tthis.$applyButton\n\t\t\t\t\t.text( $.i18n( 'ext-uls-language-settings-applying' ) )\n\t\t\t\t\t.prop( 'disabled', true );\n\t\t\t} else {\n\t\t\t\tthis.$window.removeClass( 'waiting' );\n\t\t\t\tthis.$applyButton.text( $.i18n( 'ext-uls-language-settings-apply' ) );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Close this language settings window, and\n\t\t * call onClose if defined from the previous context.\n\t\t */\n\t\tclose: function () {\n\t\t\tif ( !this.shown ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.hide();\n\n\t\t\t// optional callback\n\t\t\tif ( this.options.onClose ) {\n\t\t\t\tthis.options.onClose();\n\t\t\t}\n\n\t\t},\n\n\t\tclick: function ( e ) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\tif ( this.shown ) {\n\t\t\t\tthis.hide();\n\t\t\t} else {\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t},\n\n\t\tenableApplyButton: function () {\n\t\t\tthis.$applyButton.prop( 'disabled', false );\n\t\t},\n\n\t\tdisableApplyButton: function () {\n\t\t\tthis.$applyButton.prop( 'disabled', true );\n\t\t}\n\t};\n\n\t$.fn.languagesettings = function ( option ) {\n\t\treturn this.each( function () {\n\t\t\tconst $this = $( this ),\n\t\t\t\toptions = typeof option === 'object' && option;\n\t\t\tlet data = $this.data( 'languagesettings' );\n\n\t\t\tif ( !data ) {\n\t\t\t\t$this.data( 'languagesettings', ( data = new LanguageSettings( this, options ) ) );\n\t\t\t}\n\n\t\t\tif ( typeof option === 'string' ) {\n\t\t\t\tdata[ option ]();\n\t\t\t}\n\t\t} );\n\t};\n\n\t$.fn.languagesettings.modules = {};\n\t$.fn.languagesettings.defaults = {\n\t\ttemplate: windowTemplate,\n\t\tdefaultModule: false, // Name of the default module\n\t\tonClose: null, // An onClose event handler.\n\t\ttop: null, // DEPRECATED: Top position of this window\n\t\tleft: null, // DEPRECATED: Left position of this window\n\t\tonVisible: null, // A callback that runs after the ULS panel becomes visible\n\t\tonPosition: null, // A callback that allows positioning the dialog,\n\t\tautoOpen: false // A boolean that determines if dialog should auto-open after initialization\n\t};\n\n\t$.fn.languagesettings.Constructor = LanguageSettings;\n\n}() );\n"],
"names": [],
"mappings": "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"
}
}
]
}